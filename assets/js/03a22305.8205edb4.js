"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[31625],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},l="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),l=s(n),d=i,m=l["".concat(c,".").concat(d)]||l[d]||f[d]||o;return n?r.createElement(m,a(a({ref:t},p),{},{components:n})):r.createElement(m,a({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var u={};for(var c in t)hasOwnProperty.call(t,c)&&(u[c]=t[c]);u.originalType=e,u[l]="string"==typeof e?e:i,a[1]=u;for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},70778:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>o,metadata:()=>u,toc:()=>s});var r=n(87462),i=(n(67294),n(3905));const o={title:"hive engine supports concurrency and multiplexing",sidebar_position:.3},a=void 0,u={unversionedId:"feature/hive-engine-support-concurrent",id:"feature/hive-engine-support-concurrent",title:"hive engine supports concurrency and multiplexing",description:"1. Requirement background",source:"@site/docs/feature/hive-engine-support-concurrent.md",sourceDirName:"feature",slug:"/feature/hive-engine-support-concurrent",permalink:"/docs/1.6.0/feature/hive-engine-support-concurrent",draft:!1,editUrl:"https://github.com/apache/linkis-website/edit/dev/docs/feature/hive-engine-support-concurrent.md",tags:[],version:"current",sidebarPosition:.3,frontMatter:{title:"hive engine supports concurrency and multiplexing",sidebar_position:.3},sidebar:"tutorialSidebar",previous:{title:"Base Engine Dependency, Compatibility, Default Version Optimization",permalink:"/docs/1.6.0/feature/base-engine-compatibilty"},next:{title:"Support spark ETL data synchronization",permalink:"/docs/1.6.0/feature/spark-etl"}},c={},s=[{value:"1. Requirement background",id:"1-requirement-background",level:2},{value:"2. Instructions for use",id:"2-instructions-for-use",level:2},{value:"3. Precautions",id:"3-precautions",level:2}],p={toc:s},l="wrapper";function f(e){let{components:t,...n}=e;return(0,i.kt)(l,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"1-requirement-background"},"1. Requirement background"),(0,i.kt)("p",null,"hiveEngineConn supports concurrency, reduces the resource consumption of starting the hive engine, and improves the engine reuse rate."),(0,i.kt)("h2",{id:"2-instructions-for-use"},"2. Instructions for use"),(0,i.kt)("p",null,"First, modify the linkis-engineconn.properties file in the linkis-engineconn-plugins/hive/src/main/resources directory,\nAnd set linkis.hive.engineconn.concurrent.support to true."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# Support parallel execution\nwds.linkis.engineconn.support.parallelism=true\n\n# Concurrency limit, the default is 10\nlinkis.hive.engineconn.concurrent.limit=10\n")),(0,i.kt)("p",null,"Submit a hive job, and when the first job is complete, submit another job. You can see that the hive engine has been reused."),(0,i.kt)("p",null,"Restart the cg-linkismanager service after configuration modification, or make the configuration take effect through ",(0,i.kt)("a",{parentName:"p",href:"/docs/1.6.0/api/http/linkis-cg-engineplugin-api/engineconn-plugin-refresh"},"Engine Refresh API"),"."),(0,i.kt)("h2",{id:"3-precautions"},"3. Precautions"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Wait for the first hive task to execute successfully before submitting the second hive task. Submitting multiple tasks at the same time for the first time may cause multiple ECs to be started due to no available ECs.")))}f.isMDXComponent=!0}}]);