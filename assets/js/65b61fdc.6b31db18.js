"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[56217],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=n.createContext({}),l=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=l(e.components);return n.createElement(u.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(r),d=a,m=p["".concat(u,".").concat(d)]||p[d]||f[d]||o;return r?n.createElement(m,i(i({ref:t},c),{},{components:r})):n.createElement(m,i({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},38308:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>f,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=r(87462),a=(r(67294),r(3905));const o={title:"Eureka reports version metadata",sidebar_position:.2},i=void 0,s={unversionedId:"feature/eureka-version-metadata",id:"feature/eureka-version-metadata",title:"Eureka reports version metadata",description:"1. Requirement Background",source:"@site/docs/feature/eureka-version-metadata.md",sourceDirName:"feature",slug:"/feature/eureka-version-metadata",permalink:"/docs/1.4.0/feature/eureka-version-metadata",draft:!1,editUrl:"https://github.com/apache/linkis-website/edit/dev/docs/feature/eureka-version-metadata.md",tags:[],version:"current",sidebarPosition:.2,frontMatter:{title:"Eureka reports version metadata",sidebar_position:.2},sidebar:"tutorialSidebar",previous:{title:"Generate SQL from the data source",permalink:"/docs/1.4.0/feature/datasource-generate-sql"},next:{title:"Load UDF by UDF ID",permalink:"/docs/1.4.0/feature/load-udf-by-udfid"}},u={},l=[{value:"1. Requirement Background",id:"1-requirement-background",level:2},{value:"2. Instructions for use",id:"2-instructions-for-use",level:2}],c={toc:l},p="wrapper";function f(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"1-requirement-background"},"1. Requirement Background"),(0,a.kt)("p",null,"Eureka metadata adds additional information such as version. Supports reading configuration files, which is consistent with the version number of the configuration file, and uses a minor version number for the configuration file. Consider adding two version information in eureka metadata, one is the configuration file version and the other is the program software version. The configuration file versions of different services may be different. The configuration file versions of the same service in the same cluster should be consistent, and the software versions of all programs in the same cluster should be consistent."),(0,a.kt)("h2",{id:"2-instructions-for-use"},"2. Instructions for use"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Program version configuration")),(0,a.kt)("p",null,"Add the program version configuration to linkis_env.sh to control the program version, the addition is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"linkis.app.version=${version}\n")),(0,a.kt)("p",null,"After reporting eureka metadata, the version format version + compilation time is as follows: 1.3.2-20230304"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<metadata>\n    <linkis.app.version>${appVersion}</linkis.app.version>\n</metadata>\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Service Version Configuration")),(0,a.kt)("p",null,"Add the service version configuration in the configuration file of each service, and add the following content:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"linkis.conf.version=version number\n")),(0,a.kt)("p",null,"Version format after reporting eureka metadata"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<metadata>\n    <linkis.conf.version>${serviceVersion}</linkis.conf.version>\n</metadata>\n")))}f.isMDXComponent=!0}}]);