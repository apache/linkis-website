"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[16406],{32885:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/2022/12/02/material-manage","metadata":{"permalink":"/zh-CN/blog/2022/12/02/material-manage","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-12-02-material-manage/index.md","title":"\u5f15\u64ce\u7269\u6599\u7ba1\u7406","description":"\u80cc\u666f","date":"2022-12-02T00:00:00.000Z","formattedDate":"2022\u5e7412\u67082\u65e5","tags":[{"label":"bml","permalink":"/zh-CN/blog/tags/bml"},{"label":"linki1.3.1","permalink":"/zh-CN/blog/tags/linki-1-3-1"}],"readingTime":4.175,"hasTruncateMarker":false,"authors":[{"name":"aiceflower","title":"\u5fae\u4f17\u94f6\u884c\u5f00\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/aiceflower/","imageURL":"https://avatars.githubusercontent.com/u/22620332?s=400&v=4","key":"aiceflower"}],"frontMatter":{"title":"\u5f15\u64ce\u7269\u6599\u7ba1\u7406","authors":["aiceflower"],"tags":["bml","linki1.3.1"]},"nextItem":{"title":"Linkis 1.3.0 PES(Public Enhancement Services) \u670d\u52a1\u7ec4\u5185\u90e8\u5206\u670d\u52a1\u7684\u5408\u5e76","permalink":"/zh-CN/blog/2022/10/09/linkis-service-merge"}},"content":"## \u80cc\u666f\\n\\n\u5f15\u64ce\u7269\u6599\u7ba1\u7406\u662flinkis\u5f15\u64ce\u7269\u6599\u7ba1\u7406\u7cfb\u7edf\uff0c\u4e3b\u8981\u7528\u6765\u7ba1\u7406Linkis\u7684\u5f15\u64ce\u7269\u6599\u6587\u4ef6\uff0c\u5b58\u50a8\u7528\u6237\u7684\u5404\u79cd\u5f15\u64ce\u6587\u4ef6\uff0c\u5305\u62ec\u5f15\u64ce\u7c7b\u578b\u3001\u5f15\u64ce\u7248\u672c\u7b49\u4fe1\u606f\u3002\u603b\u4f53\u6d41\u7a0b\u4e3a\u538b\u7f29\u6587\u4ef6\u7ecf\u524d\u7aef\u6d4f\u89c8\u5668\u4e0a\u4f20\u81f3\u7269\u6599\u5e93\uff08BML\uff09\uff0c\u7269\u6599\u538b\u7f29\u6587\u4ef6\u89e3\u538b\u3001\u6821\u9a8c\uff0c\u9700\u8981\u6267\u884c\u65f6\u5982\u679c\u53d1\u73b0\u672c\u5730\u4e0d\u5b58\u5728\u8be5\u5f15\u64ce\uff0c\u5219\u9700\u8981\u53bb\u7269\u6599\u5e93\u4e2d\u5bfb\u627e\u5e76\u4e0b\u8f7d\u5b89\u88c5\u6ce8\u518c\u4ece\u800c\u6267\u884c\u3002\\n\\n\u5177\u5907\u4ee5\u4e0b\u529f\u80fd\u70b9\uff1a\\n\\n1)\u3001\u652f\u6301\u4e0a\u4f20\u6253\u5305\u597d\u7684\u5f15\u64ce\u6587\u4ef6\uff0c\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u53d7nginx\u7684\u914d\u7f6e\u5f71\u54cd\uff0c\u6587\u4ef6\u7c7b\u578b\u4e3azip\u6587\u4ef6\u7c7b\u578b\uff0c\u5728windows\u73af\u5883\u4e0b\u81ea\u884c\u6253\u5305zip\u538b\u7f29\u6587\u4ef6\u4e0d\u652f\u6301\u3002\\n\\n2)\u3001\u652f\u6301\u5bf9\u5df2\u6709\u7684\u5f15\u64ce\u7269\u6599\u8fdb\u884c\u66f4\u65b0\uff0c\u66f4\u65b0\u540e\u5728BML\u4e2d\u65b0\u589e\u4e00\u4e2abml\u5f15\u64ce\u7269\u6599\u7684\u5b58\u50a8\u7248\u672c\uff0c\u53ef\u4ee5\u5bf9\u5f53\u524d\u7684\u7248\u672c\u8fdb\u884c\u56de\u6eda\u548c\u5220\u9664\u3002\\n\\n3)\u3001\u4e00\u4e2a\u5f15\u64ce\u6d89\u53ca\u4e24\u4e2a\u5f15\u64ce\u7269\u6599\uff0c\u5206\u522b\u662flib\u548cconf\uff0c\u53ef\u4ee5\u8fdb\u884c\u5206\u522b\u7ba1\u7406\u3002\\n\\n## \u67b6\u6784\u56fe\\n\\n![](./img/bml.jpg)\\n\\n## \u67b6\u6784\u8bf4\u660e\\n\\n1\u3001\u5f15\u64ce\u7269\u6599\u7ba1\u7406\u5728Linkis web\u7ba1\u7406\u53f0\u4e2d\uff0c\u9700\u8981\u7ba1\u7406\u5458\u6743\u9650\uff0c\u5728\u5f00\u53d1\u8c03\u8bd5\u65f6\u9700\u8981\u8bbe\u7f6e\u6d4b\u8bd5\u73af\u5883\u4e0b\u7684\u7ba1\u7406\u5458\u5b57\u6bb5\u3002\\n\\n2\u3001\u5f15\u64ce\u7269\u6599\u7ba1\u7406\u6d89\u53ca\u5f15\u64ce\u7269\u6599\u6587\u4ef6\u7684\u589e\u52a0\u3001\u66f4\u65b0\u3001\u5220\u9664\uff0c\u7269\u6599\u6587\u4ef6\u5206\u4e3alib\u548cconf\u5206\u522b\u5b58\u50a8\u3002\u6587\u4ef6\u4e2d\u6d89\u53ca\u4e24\u4e2a\u7248\u672c\u7684\u6982\u5ff5\uff0c\u4e00\u4e2a\u662f\u5f15\u64ce\u672c\u8eab\u7684\u7248\u672c\uff0c\u53e6\u4e00\u4e2a\u5219\u662f\u7269\u6599\u7248\u672c\uff0c\u5728\u66f4\u65b0\u64cd\u4f5c\u4e2d\u7269\u6599\u5982\u679c\u5b58\u5728\u4fee\u6539\u5219\u4f1a\u65b0\u589e\u4e00\u4e2a\u7269\u6599\u7248\u672c\u5e76\u5c06\u5176\u5b58\u50a8\u5728BML\u4e2d\uff0c\u652f\u6301\u7269\u6599\u7248\u672c\u7684\u5220\u9664\u548c\u56de\u6eda\u3002\\n\\n3\u3001\u5229\u7528BML Service\u5bf9\u5f15\u64ce\u7269\u6599\u6587\u4ef6\u8fdb\u884c\u5b58\u50a8\uff0c\u901a\u8fc7RPC\u8c03\u7528BML\u7684\u670d\u52a1\u5bf9\u6587\u4ef6\u8fdb\u884c\u5b58\u50a8\uff0c\u5f97\u5230\u5b58\u50a8\u7684\u8d44\u6e90id\u548c\u7248\u672c\u5e76\u4fdd\u5b58\u3002\\n\\n### \u6838\u5fc3\u6d41\u7a0b\\n\\n1. \u4e0a\u4f20zip\u7c7b\u578b\u7684\u5f15\u64ce\u63d2\u4ef6\u6587\u4ef6\uff0c\u5148\u5b58\u50a8\u5728\u5f15\u64ce\u63d2\u4ef6Home\u76ee\u5f55\u4e2d\u5e76\u89e3\u538b\u6587\u4ef6\uff0c\u4e4b\u540e\u8fdb\u884c\u542f\u52a8\u5237\u65b0\u7a0b\u5e8f\u3002\\n2. \u5bf9\u89e3\u538b\u540e\u7684\u5f15\u64ce\u6587\u4ef6\u4e2d\u7684conf\u3001lib\u76ee\u5f55\u8fdb\u884c\u538b\u7f29\uff0c\u4e0a\u4f20\u81f3BML\uff08\u7269\u6599\u7ba1\u7406\u7cfb\u7edf\uff09\u4e2d\uff0c\u5206\u522b\u83b7\u53d6\u5bf9\u5e94\u7684BML\u7684\u8d44\u6e90id\u548c\u8d44\u6e90\u7248\u672c\uff0c\u8bfb\u53d6\u5bf9\u5e94\u5f15\u64ce\u540d\u79f0\u548c\u7248\u672c\u4fe1\u606f\u3002\\n3. \u5728\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u8868\u4e2d\uff0c\u65b0\u589e\u5f15\u64ce\u7269\u6599\u7684\u8bb0\u5f55\uff0c\u6bcf\u6b21\u4e0a\u4f20\u90fd\u4f1a\u5206\u522b\u4ea7\u751flib\u548cconf\u4e24\u6761\u6570\u636e\u3002\u9664\u4e86\u8bb0\u5f55\u8fd9\u4e2a\u5f15\u64ce\u7684\u540d\u79f0\u548c\u7c7b\u578b\u4fe1\u606f\u5916\uff0c\u6700\u91cd\u8981\u7684\u662f\u8bb0\u5f55\u4e86\u8be5\u5f15\u64ce\u5728\u7269\u6599\u7ba1\u7406\u7cfb\u7edf\u4e2d\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u5f15\u64ce\u7684\u8d44\u6e90id\u548c\u7248\u672c\u4fe1\u606f\uff0c\u5173\u8054\u81f3BML\u4e2d\u7684\u8d44\u6e90\u8868\u3002\\n\\n## \u6570\u636e\u5e93\u8bbe\u8ba1\\n\\n\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u4fe1\u606f\u8868(linkis_cg_engine_conn_plugin_bml_resources)\\n\\n| \u5b57\u6bb5\u540d | \u4f5c\u7528  | \u5907\u6ce8  |\\n| --- | --- | --- |\\n| id  | \u5f15\u64ce\u7269\u6599\u5305\u6807\u8bc6id | Primary key |\\n| engine_conn_type | \u5b58\u653e\u8d44\u6e90\u7684\u4f4d\u7f6e | \u5982Spark |\\n| version | \u5f15\u64ce\u7684\u7248\u672c | \u5982Spark\u7684v2.4.3 |\\n| file_name | \u5f15\u64ce\u6587\u4ef6\u540d | \u5982lib.zip |\\n| file_size | \u5f15\u64ce\u6587\u4ef6\u5927\u5c0f |     |\\n| last_modified | \u6587\u4ef6\u6700\u540e\u7684\u4fee\u6539\u65f6\u95f4 |     |\\n| bml_resource_id | \u8bb0\u5f55\u8d44\u6e90\u5728BML\uff08\u7269\u6599\u7ba1\u7406\u7cfb\u7edf\uff09\u4e2d\u7684id | \u7528\u4e8e\u5728BML\u4e2d\u6807\u8bc6\u5f15\u64ce\u6587\u4ef6\u7684id |\\n| bml_resource_version | \u8bb0\u5f55\u8d44\u6e90\u5728BML\u4e2d\u7684\u7248\u672c | \u5982v000001 |\\n| create_time | \u8d44\u6e90\u7684\u521b\u5efa\u65f6\u95f4 |     |\\n| last_update_time | \u8d44\u6e90\u6700\u540e\u7684\u66f4\u65b0\u65f6\u95f4 |     |"},{"id":"/2022/10/09/linkis-service-merge","metadata":{"permalink":"/zh-CN/blog/2022/10/09/linkis-service-merge","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-10-09-linkis-service-merge.md","title":"Linkis 1.3.0 PES(Public Enhancement Services) \u670d\u52a1\u7ec4\u5185\u90e8\u5206\u670d\u52a1\u7684\u5408\u5e76","description":"\u524d\u8a00","date":"2022-10-09T00:00:00.000Z","formattedDate":"2022\u5e7410\u67089\u65e5","tags":[{"label":"blog","permalink":"/zh-CN/blog/tags/blog"},{"label":"linki1.3.0","permalink":"/zh-CN/blog/tags/linki-1-3-0"},{"label":"service merge","permalink":"/zh-CN/blog/tags/service-merge"}],"readingTime":5.825,"hasTruncateMarker":false,"authors":[{"name":"aiceflower","title":"\u5fae\u4f17\u94f6\u884c\u5f00\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/aiceflower/","imageURL":"https://avatars.githubusercontent.com/u/22620332?s=400&v=4","key":"aiceflower"}],"frontMatter":{"title":"Linkis 1.3.0 PES(Public Enhancement Services) \u670d\u52a1\u7ec4\u5185\u90e8\u5206\u670d\u52a1\u7684\u5408\u5e76","authors":["aiceflower"],"tags":["blog","linki1.3.0","service merge"]},"prevItem":{"title":"\u5f15\u64ce\u7269\u6599\u7ba1\u7406","permalink":"/zh-CN/blog/2022/12/02/material-manage"},"nextItem":{"title":"\u57fa\u4e8e CDH6.3.2 \u90e8\u7f72 Apache Linkis1.1.1 \u548c DSS1.1.0","permalink":"/zh-CN/blog/2022/09/27/linkis111-deploy"}},"content":"### \u524d\u8a00\\n\\n\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\u548c\u793e\u533a\u4ea7\u54c1\u7684\u66f4\u65b0\u8fed\u4ee3\uff0c\u6211\u4eec\u53d1\u73b0Linkis1.X\u670d\u52a1\u8fc7\u591a\uff0c\u53ef\u4ee5\u9002\u5f53\u8fdb\u884c\u670d\u52a1\u5408\u5e76\uff0c\u51cf\u5c11\u670d\u52a1\u6570\u91cf\uff0c\u65b9\u4fbf\u90e8\u7f72\u548c\u8c03\u8bd5\u3002\u76ee\u524dLinkis\u670d\u52a1\u4e3b\u8981\u5206\u4e3a\u4e09\u5927\u7c7b\uff0c\u5305\u62ec\u8ba1\u7b97\u6cbb\u7406\u670d\u52a1\uff08CG: entrance/ecp/ecm/linkismanager\uff09\u3001\u516c\u5171\u589e\u5f3a\u670d\u52a1\uff08PS:publicservice/datasource/cs\uff09\u548c\u5fae\u670d\u52a1\u6cbb\u7406\u670d\u52a1\uff08MG\uff1aGateway/Eureka\uff09\u3002\u8fd9\u4e09\u7c7b\u670d\u52a1\u5ef6\u4f38\u7684\u5b50\u670d\u52a1\u8fc7\u591a\uff0c\u53ef\u4ee5\u8fdb\u884c\u670d\u52a1\u5408\u5e76\uff0c\u505a\u5230\u5c06PS\u7684\u670d\u52a1\u5168\u90e8\u5408\u5e76\uff0cCG\u670d\u52a1\u652f\u6301\u5168\u90e8\u5408\u5e76\uff0c\u540c\u65f6\u652f\u6301\u5c06ecm\u670d\u52a1\u5355\u72ec\u51fa\u53bb\u3002\\n\\n### \u670d\u52a1\u5408\u5e76\u53d8\u52a8\\n\\n\u672c\u6b21\u670d\u52a1\u5408\u5e76\u4e3b\u8981\u53d8\u52a8\u5982\u4e0b\uff1a\\n\\n- \u652f\u6301Restful\u670d\u52a1\u8f6c\u53d1\uff1a\u4fee\u6539\u70b9\u4e3b\u8981\u4e3aGateway\u7684\u8f6c\u53d1\u903b\u8f91\uff0c\u7c7b\u4f3c\u4e8e\u73b0\u5728publicservice\u670d\u52a1\u5408\u5e76\u53c2\u6570\uff1awds.linkis.gateway.conf.publicservice.list\\n- \u652f\u6301\u5c06RPC\u670d\u52a1\u8fdc\u7a0b\u8c03\u7528\u6539\u4e3a\u672c\u5730\u8c03\u7528\uff0c\u7c7b\u4f3cLocalMessageSender\uff0c\u73b0\u5728\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7\u6539Sender\u5b8c\u6210\u672c\u5730\u8c03\u7528\u7684\u8fd4\u56de\\n- \u914d\u7f6e\u6587\u4ef6\u53d8\u52a8\\n- \u670d\u52a1\u542f\u505c\u811a\u672c\u53d8\u52a8\\n\\n### \u5f85\u5b9e\u73b0\u76ee\u6807\\n\\n- \u57fa\u672c\u76ee\u6807\uff1a\u5408\u5e76PS\u670d\u52a1\u4e3a\u4e00\u4e2a\u670d\u52a1\\n- \u57fa\u672c\u76ee\u6807\uff1a\u5408\u5e76CG\u670d\u52a1\u4e3aCG-Service\u548cECM\\n- \u8fdb\u9636\u76ee\u6807\uff1a\u5408\u5e76CG\u670d\u52a1\u4e3a\u4e00\u4e2a\u670d\\n- \u7ec8\u7ed3\u76ee\u6807\uff1a\u53bb\u6389eureka\u3001gateway\u53d8\u4e3a\u5355\u4f53\u670d\u52a1\\n\\n\\n### \u5177\u4f53\u53d8\u52a8\\n\\n#### Gateway\u53d8\u52a8\uff08org.apache.linkis.gateway.ujes.route.HaContextGatewayRouter\uff09\\n\\n```scala\\n//\u53d8\u52a8\u524d\\noverride def route(gatewayContext: GatewayContext): ServiceInstance = {\\n\\n    if (gatewayContext.getGatewayRoute.getRequestURI.contains(HaContextGatewayRouter.CONTEXT_SERVICE_STR) ||\\n        gatewayContext.getGatewayRoute.getRequestURI.contains(HaContextGatewayRouter.OLD_CONTEXT_SERVICE_PREFIX)){\\n      val params: util.HashMap[String, String] = gatewayContext.getGatewayRoute.getParams\\n      if (!gatewayContext.getRequest.getQueryParams.isEmpty) {\\n        for ((k, vArr) <- gatewayContext.getRequest.getQueryParams) {\\n          if (vArr.nonEmpty) {\\n            params.putIfAbsent(k, vArr.head)\\n          }\\n        }\\n      }\\n      if (gatewayContext.getRequest.getHeaders.containsKey(ContextHTTPConstant.CONTEXT_ID_STR)) {\\n        params.putIfAbsent(ContextHTTPConstant.CONTEXT_ID_STR, gatewayContext.getRequest.getHeaders.get(ContextHTTPConstant.CONTEXT_ID_STR)(0))\\n      }\\n      if (null == params || params.isEmpty) {\\n        dealContextCreate(gatewayContext)\\n      } else {\\n        var contextId : String = null\\n        for ((key, value) <- params) {\\n          if (key.equalsIgnoreCase(ContextHTTPConstant.CONTEXT_ID_STR)) {\\n            contextId = value\\n            }\\n        }\\n        if (StringUtils.isNotBlank(contextId)) {\\n          dealContextAccess(contextId.toString, gatewayContext)\\n        } else {\\n          dealContextCreate(gatewayContext)\\n        }\\n      }\\n    }else{\\n      null\\n    }\\n  }\\n  //\u53d8\u52a8\u540e\\n  override def route(gatewayContext: GatewayContext): ServiceInstance = {\\n\\n    if (\\n        gatewayContext.getGatewayRoute.getRequestURI.contains(\\n          RPCConfiguration.CONTEXT_SERVICE_REQUEST_PREFIX\\n        )\\n    ) {\\n      val params: util.HashMap[String, String] = gatewayContext.getGatewayRoute.getParams\\n      if (!gatewayContext.getRequest.getQueryParams.isEmpty) {\\n        for ((k, vArr) <- gatewayContext.getRequest.getQueryParams.asScala) {\\n          if (vArr.nonEmpty) {\\n            params.putIfAbsent(k, vArr.head)\\n          }\\n        }\\n      }\\n      if (gatewayContext.getRequest.getHeaders.containsKey(ContextHTTPConstant.CONTEXT_ID_STR)) {\\n        params.putIfAbsent(\\n          ContextHTTPConstant.CONTEXT_ID_STR,\\n          gatewayContext.getRequest.getHeaders.get(ContextHTTPConstant.CONTEXT_ID_STR)(0)\\n        )\\n      }\\n      if (null == params || params.isEmpty) {\\n        dealContextCreate(gatewayContext)\\n      } else {\\n        var contextId: String = null\\n        for ((key, value) <- params.asScala) {\\n          if (key.equalsIgnoreCase(ContextHTTPConstant.CONTEXT_ID_STR)) {\\n            contextId = value\\n          }\\n        }\\n        if (StringUtils.isNotBlank(contextId)) {\\n          dealContextAccess(contextId, gatewayContext)\\n        } else {\\n          dealContextCreate(gatewayContext)\\n        }\\n      }\\n    } else {\\n      null\\n    }\\n  }\\n\\n\\n  //\u53d8\u52a8\u524d\\n  def dealContextCreate(gatewayContext:GatewayContext):ServiceInstance = {\\n    val serviceId =  findService(HaContextGatewayRouter.CONTEXT_SERVICE_STR, list => {\\n      val services = list.filter(_.contains(HaContextGatewayRouter.CONTEXT_SERVICE_STR))\\n      services.headOption\\n    })\\n    val serviceInstances = ServiceInstanceUtils.getRPCServerLoader.getServiceInstances(serviceId.orNull)\\n    if (serviceInstances.size > 0) {\\n      val index = new Random().nextInt(serviceInstances.size)\\n      serviceInstances(index)\\n    } else {\\n      logger.error(s\\"No valid instance for service : \\" + serviceId.orNull)\\n      null\\n    }\\n  }\\n  //\u53d8\u52a8\u540e\\n  def dealContextCreate(gatewayContext: GatewayContext): ServiceInstance = {\\n    val serviceId = findService(\\n      RPCConfiguration.CONTEXT_SERVICE_NAME,\\n      list => {\\n        val services = list.filter(_.contains(RPCConfiguration.CONTEXT_SERVICE_NAME))\\n        services.headOption\\n      }\\n    )\\n    val serviceInstances =\\n      ServiceInstanceUtils.getRPCServerLoader.getServiceInstances(serviceId.orNull)\\n    if (serviceInstances.size > 0) {\\n      val index = new Random().nextInt(serviceInstances.size)\\n      serviceInstances(index)\\n    } else {\\n      logger.error(s\\"No valid instance for service : \\" + serviceId.orNull)\\n      null\\n    }\\n  }\\n\\n  //\u53d8\u52a8\u524d\\n  def dealContextAccess(contextIdStr:String, gatewayContext: GatewayContext):ServiceInstance = {\\n    val contextId : String = {\\n      var tmpId : String = null\\n      if (serializationHelper.accepts(contextIdStr)) {\\n        val contextID : ContextID = serializationHelper.deserialize(contextIdStr).asInstanceOf[ContextID]\\n        if (null != contextID) {\\n          tmpId = contextID.getContextId\\n        } else {\\n          logger.error(s\\"Deserializate contextID null. contextIDStr : \\" + contextIdStr)\\n        }\\n      } else {\\n        logger.error(s\\"ContxtIDStr cannot be deserialized. contextIDStr : \\" + contextIdStr)\\n      }\\n      if (null == tmpId) {\\n        contextIdStr\\n      } else {\\n        tmpId\\n      }\\n    }\\n    val instances = contextIDParser.parse(contextId)\\n    var serviceId:Option[String] = None\\n    serviceId = findService(HaContextGatewayRouter.CONTEXT_SERVICE_STR, list => {\\n      val services = list.filter(_.contains(HaContextGatewayRouter.CONTEXT_SERVICE_STR))\\n        services.headOption\\n      })\\n    val serviceInstances = ServiceInstanceUtils.getRPCServerLoader.getServiceInstances(serviceId.orNull)\\n    if (instances.size() > 0) {\\n      serviceId.map(ServiceInstance(_, instances.get(0))).orNull\\n    } else if (serviceInstances.size > 0) {\\n      serviceInstances(0)\\n    } else {\\n      logger.error(s\\"No valid instance for service : \\" + serviceId.orNull)\\n      null\\n    }\\n  }\\n\\n}\\n//\u53d8\u52a8\u540e\\ndef dealContextAccess(contextIdStr: String, gatewayContext: GatewayContext): ServiceInstance = {\\n    val contextId: String = {\\n      var tmpId: String = null\\n      if (serializationHelper.accepts(contextIdStr)) {\\n        val contextID: ContextID =\\n          serializationHelper.deserialize(contextIdStr).asInstanceOf[ContextID]\\n        if (null != contextID) {\\n          tmpId = contextID.getContextId\\n        } else {\\n          logger.error(s\\"Deserializate contextID null. contextIDStr : \\" + contextIdStr)\\n        }\\n      } else {\\n        logger.error(s\\"ContxtIDStr cannot be deserialized. contextIDStr : \\" + contextIdStr)\\n      }\\n      if (null == tmpId) {\\n        contextIdStr\\n      } else {\\n        tmpId\\n      }\\n    }\\n    val instances = contextIDParser.parse(contextId)\\n    var serviceId: Option[String] = None\\n    serviceId = findService(\\n      RPCConfiguration.CONTEXT_SERVICE_NAME,\\n      list => {\\n        val services = list.filter(_.contains(RPCConfiguration.CONTEXT_SERVICE_NAME))\\n        services.headOption\\n      }\\n    )\\n    val serviceInstances =\\n      ServiceInstanceUtils.getRPCServerLoader.getServiceInstances(serviceId.orNull)\\n    if (instances.size() > 0) {\\n      serviceId.map(ServiceInstance(_, instances.get(0))).orNull\\n    } else if (serviceInstances.size > 0) {\\n      serviceInstances(0)\\n    } else {\\n      logger.error(s\\"No valid instance for service : \\" + serviceId.orNull)\\n      null\\n    }\\n  }\\n\\n//\u53d8\u52a8\u524d\\nobject HaContextGatewayRouter{\\n  val CONTEXT_ID_STR:String = \\"contextId\\"\\n  val CONTEXT_SERVICE_STR:String = \\"ps-cs\\"\\n  @Deprecated\\n  val OLD_CONTEXT_SERVICE_PREFIX = \\"contextservice\\"\\n  val CONTEXT_REGEX: Regex = (normalPath(API_URL_PREFIX) + \\"rest_[a-zA-Z][a-zA-Z_0-9]*/(v\\\\\\\\d+)/contextservice/\\" + \\".+\\").r\\n}\\n//\u53d8\u52a8\u540e\\nobject HaContextGatewayRouter {\\n\\n  val CONTEXT_ID_STR: String = \\"contextId\\"\\n\\n  @deprecated(\\"please use RPCConfiguration.CONTEXT_SERVICE_REQUEST_PREFIX\\")\\n  val CONTEXT_SERVICE_REQUEST_PREFIX = RPCConfiguration.CONTEXT_SERVICE_REQUEST_PREFIX\\n\\n  @deprecated(\\"please use RPCConfiguration.CONTEXT_SERVICE_NAME\\")\\n  val CONTEXT_SERVICE_NAME: String =\\n    if (\\n        RPCConfiguration.ENABLE_PUBLIC_SERVICE.getValue && RPCConfiguration.PUBLIC_SERVICE_LIST\\n          .exists(_.equalsIgnoreCase(RPCConfiguration.CONTEXT_SERVICE_REQUEST_PREFIX))\\n    ) {\\n      RPCConfiguration.PUBLIC_SERVICE_APPLICATION_NAME.getValue\\n    } else {\\n      RPCConfiguration.CONTEXT_SERVICE_APPLICATION_NAME.getValue\\n    }\\n\\n  val CONTEXT_REGEX: Regex =\\n    (normalPath(API_URL_PREFIX) + \\"rest_[a-zA-Z][a-zA-Z_0-9]*/(v\\\\\\\\d+)/contextservice/\\" + \\".+\\").r\\n\\n}\\n```\\n\\n#### RPC\u670d\u52a1\u53d8\u52a8\uff08org.apache.linkis.rpc.conf.RPCConfiguration\uff09\\n```scala\\n//\u53d8\u52a8\u524d\\nval BDP_RPC_BROADCAST_THREAD_SIZE: CommonVars[Integer] = CommonVars(\\"wds.linkis.rpc.broadcast.thread.num\\", new Integer(25))\\n//\u53d8\u52a8\u540e\\nval BDP_RPC_BROADCAST_THREAD_SIZE: CommonVars[Integer] = CommonVars(\\"wds.linkis.rpc.broadcast.thread.num\\", 25)\\n\\n//\u53d8\u52a8\u524d\\nval PUBLIC_SERVICE_LIST: Array[String] = CommonVars(\\"wds.linkis.gateway.conf.publicservice.list\\", \\"query,jobhistory,application,configuration,filesystem,udf,variable,microservice,errorcode,bml,datasource\\").getValue.split(\\",\\")\\n//\u53d8\u52a8\u540e\\nval PUBLIC_SERVICE_LIST: Array[String] = CommonVars(\\"wds.linkis.gateway.conf.publicservice.list\\", \\"cs,contextservice,data-source-manager,metadataquery,metadatamanager,query,jobhistory,application,configuration,filesystem,udf,variable,microservice,errorcode,bml,datasource\\").getValue.split(\\",\\")\\n\\n```\\n#### \u914d\u7f6e\u6587\u4ef6\u53d8\u52a8\\n```yaml\\n##\u53bb\u9664\u90e8\u5206\\n\\n#\u5220\u9664\u5982\u4e0b\u914d\u7f6e\u6587\u4ef6\\nlinkis-dist/package/conf/linkis-ps-cs.properties\\nlinkis-dist/package/conf/linkis-ps-data-source-manager.properties\\nlinkis-dist/package/conf/linkis-ps-metadataquery.properties\\n\\n##\u4fee\u6539\u90e8\u5206\\n\\n#\u4fee\u6539linkis-dist/package/conf/linkis-ps-publicservice.properties\\n#restful\u4fee\u6539\u524d\\nwds.linkis.server.restful.scan.packages=org.apache.linkis.jobhistory.restful,org.apache.linkis.variable.restful,org.apache.linkis.configuration.restful,org.apache.linkis.udf.api,org.apache.linkis.filesystem.restful,org.apache.linkis.filesystem.restful,org.apache.linkis.instance.label.restful,org.apache.linkis.metadata.restful.api,org.apache.linkis.cs.server.restful,org.apache.linkis.bml.restful,org.apache.linkis.errorcode.server.restful\\n\\n#restful\u4fee\u6539\u540e\\nwds.linkis.server.restful.scan.packages=org.apache.linkis.cs.server.restful,org.apache.linkis.datasourcemanager.core.restful,org.apache.linkis.metadata.query.server.restful,org.apache.linkis.jobhistory.restful,org.apache.linkis.variable.restful,org.apache.linkis.configuration.restful,org.apache.linkis.udf.api,org.apache.linkis.filesystem.restful,org.apache.linkis.filesystem.restful,org.apache.linkis.instance.label.restful,org.apache.linkis.metadata.restful.api,org.apache.linkis.cs.server.restful,org.apache.linkis.bml.restful,org.apache.linkis.errorcode.server.restful\\n\\n#mybatis\u4fee\u6539\u524d\\nwds.linkis.server.mybatis.mapperLocations=classpath:org/apache/linkis/jobhistory/dao/impl/*.xml,classpath:org/apache/linkis/variable/dao/impl/*.xml,classpath:org/apache/linkis/configuration/dao/impl/*.xml,classpath:org/apache/linkis/udf/dao/impl/*.xml,classpath:org/apache/linkis/instance/label/dao/impl/*.xml,classpath:org/apache/linkis/metadata/hive/dao/impl/*.xml,org/apache/linkis/metadata/dao/impl/*.xml,classpath:org/apache/linkis/bml/dao/impl/*.xml\\n\\nwds.linkis.server.mybatis.typeAliasesPackage=org.apache.linkis.configuration.entity,org.apache.linkis.jobhistory.entity,org.apache.linkis.udf.entity,org.apache.linkis.variable.entity,org.apache.linkis.instance.label.entity,org.apache.linkis.manager.entity,org.apache.linkis.metadata.domain,org.apache.linkis.bml.entity\\n\\nwds.linkis.server.mybatis.BasePackage=org.apache.linkis.jobhistory.dao,org.apache.linkis.variable.dao,org.apache.linkis.configuration.dao,org.apache.linkis.udf.dao,org.apache.linkis.instance.label.dao,org.apache.linkis.metadata.hive.dao,org.apache.linkis.metadata.dao,org.apache.linkis.bml.dao,org.apache.linkis.errorcode.server.dao,org.apache.linkis.publicservice.common.lock.dao\\n\\n#mybatis\u4fee\u6539\u540e\\nwds.linkis.server.mybatis.mapperLocations=classpath*:org/apache/linkis/cs/persistence/dao/impl/*.xml,classpath:org/apache/linkis/datasourcemanager/core/dao/mapper/*.xml,classpath:org/apache/linkis/jobhistory/dao/impl/*.xml,classpath:org/apache/linkis/variable/dao/impl/*.xml,classpath:org/apache/linkis/configuration/dao/impl/*.xml,classpath:org/apache/linkis/udf/dao/impl/*.xml,classpath:org/apache/linkis/instance/label/dao/impl/*.xml,classpath:org/apache/linkis/metadata/hive/dao/impl/*.xml,org/apache/linkis/metadata/dao/impl/*.xml,classpath:org/apache/linkis/bml/dao/impl/*.xml\\n\\nwds.linkis.server.mybatis.typeAliasesPackage=org.apache.linkis.cs.persistence.entity,org.apache.linkis.datasourcemanager.common.domain,org.apache.linkis.datasourcemanager.core.vo,org.apache.linkis.configuration.entity,org.apache.linkis.jobhistory.entity,org.apache.linkis.udf.entity,org.apache.linkis.variable.entity,org.apache.linkis.instance.label.entity,org.apache.linkis.manager.entity,org.apache.linkis.metadata.domain,org.apache.linkis.bml.entity\\n\\nwds.linkis.server.mybatis.BasePackage=org.apache.linkis.cs.persistence.dao,org.apache.linkis.datasourcemanager.core.dao,org.apache.linkis.jobhistory.dao,org.apache.linkis.variable.dao,org.apache.linkis.configuration.dao,org.apache.linkis.udf.dao,org.apache.linkis.instance.label.dao,org.apache.linkis.metadata.hive.dao,org.apache.linkis.metadata.dao,org.apache.linkis.bml.dao,org.apache.linkis.errorcode.server.dao,org.apache.linkis.publicservice.common.lock.dao\\n```\\n\\n#### \u90e8\u7f72\u811a\u672c\u53d8\u52a8\uff08linkis-dist/package/sbin/linkis-start-all.sh\uff09\\n```shell\\n#\u670d\u52a1\u542f\u52a8\u811a\u672c\u53bb\u6389\u5982\u4e0b\u90e8\u5206\\n\\n#linkis-ps-cs\\nSERVER_NAME=\\"ps-cs\\"\\nSERVER_IP=$CS_INSTALL_IP\\nstartApp\\n\\nif [ \\"$ENABLE_METADATA_QUERY\\" == \\"true\\" ]; then\\n  #linkis-ps-data-source-manager\\n  SERVER_NAME=\\"ps-data-source-manager\\"\\n  SERVER_IP=$DATASOURCE_MANAGER_INSTALL_IP\\n  startApp\\n\\n  #linkis-ps-metadataquery\\n  SERVER_NAME=\\"ps-metadataquery\\"\\n  SERVER_IP=$METADATA_QUERY_INSTALL_IP\\n  startApp\\nfi\\n\\n#linkis-ps-cs\\nSERVER_NAME=\\"ps-cs\\"\\nSERVER_IP=$CS_INSTALL_IP\\ncheckServer\\n\\nif [ \\"$ENABLE_METADATA_QUERY\\" == \\"true\\" ]; then\\n  #linkis-ps-data-source-manager\\n  SERVER_NAME=\\"ps-data-source-manager\\"\\n  SERVER_IP=$DATASOURCE_MANAGER_INSTALL_IP\\n  checkServer\\n\\n  #linkis-ps-metadataquery\\n  SERVER_NAME=\\"ps-metadataquery\\"\\n  SERVER_IP=$METADATA_QUERY_INSTALL_IP\\n  checkServer\\nfi\\n\\n\\n#\u670d\u52a1\u505c\u6b62\u811a\u672c\u53bb\u6389\u5982\u4e0b\u90e8\u5206\\n#linkis-ps-cs\\nSERVER_NAME=\\"ps-cs\\"\\nSERVER_IP=$CS_INSTALL_IP\\nstopApp\\n\\nif [ \\"$ENABLE_METADATA_QUERY\\" == \\"true\\" ]; then\\n  #linkis-ps-data-source-manager\\n  SERVER_NAME=\\"ps-data-source-manager\\"\\n  SERVER_IP=$DATASOURCE_MANAGER_INSTALL_IP\\n  stopApp\\n\\n  #linkis-ps-metadataquery\\n  SERVER_NAME=\\"ps-metadataquery\\"\\n  SERVER_IP=$METADATA_QUERY_INSTALL_IP\\n  stopApp\\nfi\\n\\n```\\n\u66f4\u591a\u670d\u52a1\u5408\u5e76\u53d8\u52a8\u7ec6\u8282\u53c2\u89c1\uff1ahttps://github.com/apache/incubator-linkis/pull/2927/files"},{"id":"/2022/09/27/linkis111-deploy","metadata":{"permalink":"/zh-CN/blog/2022/09/27/linkis111-deploy","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-09-27-linkis111-deploy/index.md","title":"\u57fa\u4e8e CDH6.3.2 \u90e8\u7f72 Apache Linkis1.1.1 \u548c DSS1.1.0","description":"\u524d\u8a00","date":"2022-09-27T00:00:00.000Z","formattedDate":"2022\u5e749\u670827\u65e5","tags":[{"label":"blog","permalink":"/zh-CN/blog/tags/blog"},{"label":"linki1.1.1","permalink":"/zh-CN/blog/tags/linki-1-1-1"},{"label":"hadoop3.0.0-cdh6.3.2","permalink":"/zh-CN/blog/tags/hadoop-3-0-0-cdh-6-3-2"},{"label":"spark2.4.8","permalink":"/zh-CN/blog/tags/spark-2-4-8"},{"label":"hive2.1.1","permalink":"/zh-CN/blog/tags/hive-2-1-1"}],"readingTime":6.375,"hasTruncateMarker":false,"authors":[{"name":"kevinWdong","title":"contributors","url":"https://github.com/kongslove","imageURL":"https://avatars.githubusercontent.com/u/42604208?v=4","key":"kevinWdong"}],"frontMatter":{"title":"\u57fa\u4e8e CDH6.3.2 \u90e8\u7f72 Apache Linkis1.1.1 \u548c DSS1.1.0","authors":["kevinWdong"],"tags":["blog","linki1.1.1","hadoop3.0.0-cdh6.3.2","spark2.4.8","hive2.1.1"]},"prevItem":{"title":"Linkis 1.3.0 PES(Public Enhancement Services) \u670d\u52a1\u7ec4\u5185\u90e8\u5206\u670d\u52a1\u7684\u5408\u5e76","permalink":"/zh-CN/blog/2022/10/09/linkis-service-merge"},"nextItem":{"title":"Linkis1.1.1 \u9002\u914d hadoop3.1.1 \u4ee5\u53ca\u90e8\u7f72\u5176\u4ed6\u7cfb\u7edf\u670d\u52a1","permalink":"/zh-CN/blog/2022/08/08/linkis111-compile-integration"}},"content":"### \u524d\u8a00\\n\\n\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\u548c\u793e\u533a\u4ea7\u54c1\u7684\u66f4\u65b0\u8fed\u4ee3\uff0c\u6211\u4eec\u53d1\u73b0Linkis1.X\u5728\u8d44\u6e90\u7ba1\u7406\uff0c\u5f15\u64ce\u7ba1\u7406\u65b9\u9762\u6709\u6781\u5927\u7684\u6027\u80fd\u63d0\u5347\uff0c\u53ef\u4ee5\u66f4\u597d\u7684\u6ee1\u8db3\u6570\u636e\u4e2d\u53f0\u7684\u5efa\u8bbe\u3002\u76f8\u8f83\u4e8e0.9.3\u7248\u672c\u548c\u6211\u4eec\u4e4b\u524d\u4f7f\u7528\u7684\u5e73\u53f0\uff0c \u5728\u7528\u6237\u4f53\u9a8c\u65b9\u9762\u4e5f\u5f97\u5230\u5f88\u5927\u7684\u63d0\u5347\uff0c\u4efb\u52a1\u5931\u8d25\u9875\u9762\u65e0\u6cd5\u65b9\u4fbf\u67e5\u770b\u8be6\u60c5\u7b49\u95ee\u9898\u4e5f\u90fd\u5f97\u5230\u6539\u5584\uff0c\u56e0\u6b64\u51b3\u5b9a\u5347\u7ea7Linkis\u4ee5\u53caWDS\u5957\u4ef6\uff0c\u90a3\u4e48\u5982\u4e0b\u662f\u5177\u4f53\u7684\u5b9e\u8df5\u64cd\u4f5c\uff0c\u5e0c\u671b\u7ed9\u5927\u5bb6\u5e26\u6765\u53c2\u8003\u3002 \\n\\n## \u4e00\u3001\u73af\u5883\\n\\n#### CDH6.3.2 \u5404\u7ec4\u4ef6\u7248\u672c\\n\\n- hadoop:3.0.0-cdh6.3.2\\n- hive:2.1.1-cdh6.3.2\\n- spark\uff1a2.4.8\\n\\n#### \u786c\u4ef6\u73af\u5883\\n\\n2\u53f0 128G \u4e91\u7269\u7406\u673a\\n\\n## \u4e8c\u3001Linkis\u5b89\u88c5\u90e8\u7f72\\n\\n### 2.1\u7f16\u8bd1\u4ee3\u7801or release\u5b89\u88c5\u5305\uff1f\\n\\n\u672c\u6b21\u5b89\u88c5\u90e8\u7f72\u91c7\u7528\u7684\u662f**release\u5b89\u88c5\u5305**\u65b9\u5f0f\u90e8\u7f72\u3002\u4e3a\u4e86\u9002\u914d\u53f8\u5185CDH6.3.2\u7248\u672c\uff0chadoop\u548chive\u7684\u76f8\u5173\u4f9d\u8d56\u5305\u9700\u8981\u66ff\u6362\u6210CDH6.3.2\u7248\u672c\uff0c\u8fd9\u91cc\u91c7\u7528\u7684\u662f\u76f4\u63a5\u66ff\u6362\u5b89\u88c5\u5305\u7684\u65b9\u5f0f\u3002\u9700\u8981\u66ff\u6362\u7684\u4f9d\u8d56\u5305\u4e0e\u6a21\u5757\u5982\u4e0bl\u5217\u8868\u6240\u793a\u3002\\n\\n```\\n--\u6d89\u53ca\u5230\u7684\u6a21\u5757\\nlinkis-engineconn-plugins/spark\\nlinkis-engineconn-plugins/hive\\n/linkis-commons/public-module\\n/linkis-computation-governance/\\n```\\n\\n\\n\\n```\\n-----\u9700\u8981\u66f4\u6362cdh\u5305\u7684\u5217\u8868\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hive-shims-0.23-2.1.1-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hive-shims-scheduler-2.1.1-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hadoop-annotations-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hadoop-auth-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hadoop-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hadoop-hdfs-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/spark/dist/v2.4.8/lib/hadoop-hdfs-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-mapreduce-client-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-mapreduce-client-jobclient-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-yarn-api-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-yarn-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-yarn-server-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-hdfs-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-mapreduce-client-core-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-mapreduce-client-shuffle-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/hive/dist/v2.1.1/lib/hadoop-yarn-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-annotations-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-auth-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-mapreduce-client-core-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-yarn-api-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-yarn-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-engineconn-plugins/flink/dist/v1.12.2/lib/hadoop-yarn-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-commons/public-module/hadoop-annotations-3.0.0-cdh6.3.2.jar\\n./lib/linkis-commons/public-module/hadoop-auth-3.0.0-cdh6.3.2.jar\\n./lib/linkis-commons/public-module/hadoop-common-3.0.0-cdh6.3.2.jar\\n./lib/linkis-commons/public-module/hadoop-hdfs-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-computation-governance/linkis-cg-linkismanager/hadoop-annotations-3.0.0-cdh6.3.2.jar\\n./lib/linkis-computation-governance/linkis-cg-linkismanager/hadoop-auth-3.0.0-cdh6.3.2.jar\\n./lib/linkis-computation-governance/linkis-cg-linkismanager/hadoop-yarn-api-3.0.0-cdh6.3.2.jar\\n./lib/linkis-computation-governance/linkis-cg-linkismanager/hadoop-yarn-client-3.0.0-cdh6.3.2.jar\\n./lib/linkis-computation-governance/linkis-cg-linkismanager/hadoop-yarn-common-3.0.0-cdh6.3.2.jar\\n\\n```\\n\\n### 2.2\u90e8\u7f72\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898\\n\\n1\u3001kerberos\u914d\u7f6e\\n\u9700\u8981\u5728linkis.properties\u516c\u5171\u914d\u7f6e\u4e2d\u6dfb\u52a0\\n\u5404\u4e2a\u5f15\u64ceconf\u4e5f\u9700\u8981\u6dfb\u52a0\\n\\n```\\nwds.linkis.keytab.enable=true\\nwds.linkis.keytab.file=/hadoop/bigdata/kerberos/keytab\\nwds.linkis.keytab.host.enabled=false\\nwds.linkis.keytab.host=your_host\\n```\\n\\n2\u3001\u66f4\u6362Hadoop\u4f9d\u8d56\u5305\u540e\u542f\u52a8\u62a5\u9519java.lang.NoClassDefFoundError:org/apache/commons/configuration2/Configuration\\n\\n![image](./img/config-err.png)\\n\\n\u539f\u56e0\uff1aConfiguration\u7c7b\u51b2\u7a81\uff0c\u5728linkis-commons\u6a21\u5757\u4e0b\u5728\u6dfb\u52a0\u4e00\u4e2acommons-configuration2-2.1.1.jar\u89e3\u51b3\u51b2\u7a81\\n\\n3\u3001script\u4e2d\u8fd0\u884cspark\u3001python\u7b49\u62a5\u9519no plugin for XXX\\n\u73b0\u8c61\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4fee\u6539\u5b8cspark/python\u7684\u7248\u672c\u540e\uff0c\u542f\u52a8\u5f15\u64ce\u62a5\u9519no plugin for XXX\\n![image](./img/pugin-error.png)\\n\u539f\u56e0\uff1aLabelCommonConfig.java\u548cGovernaceCommonConf.scala\u8fd9\u4e24\u4e2a\u7c7b\u4e2d\u5199\u6b7b\u4e86\u5f15\u64ce\u7684\u7248\u672c\uff0c\u4fee\u6539\u76f8\u5e94\u7248\u672c\uff0c\u7f16\u8bd1\u540e\u66ff\u6362\u6389linkis\u4ee5\u53ca\u5176\u4ed6\u7ec4\u4ef6\uff08\u5305\u62ecschedulis\u7b49\uff09\u91cc\u9762\u6240\u6709\u5305\u542b\u8fd9\u4e24\u4e2a\u7c7b\u7684jar\uff08linkis-computation-governance-common-1.1.1.jar\u548clinkis-label-common-1.1.1.jar\uff09\\n\\n4\u3001python\u5f15\u64ce\u6267\u884c\u62a5\u9519\uff0c\u521d\u59cb\u5316\u5931\u8d25\\n\\n- \u4fee\u6539python.py,\u79fb\u9664\u5f15\u5165pandas\u6a21\u5757\\n\\n- \u914d\u7f6epython\u52a0\u8f7d\u76ee\u5f55\uff0c\u4fee\u6539python\u5f15\u64ce\u7684linkis-engineconn.properties\\n\\n  ```\\n  pythonVersion=/usr/local/bin/python3.6\\n  ```\\n\\n  \\n\\n5\u3001\u8fd0\u884cpyspark\u4efb\u52a1\u5931\u8d25\u62a5\u9519\\n![image](./img/pyspark-error.png)\\n\u539f\u56e0\uff1a\u672a\u8bbe\u7f6ePYSPARK_VERSION\\n\u89e3\u51b3\u65b9\u6cd5\uff1a\\n\u5728/etc/profile\u4e0b\u8bbe\u7f6e\u4e24\u4e2a\u53c2\u6570\\n\\n```\\nexport PYSPARK_PYTHON=/usr/local/bin/python3.6\\n\\nexport PYSPARK_DRIVER_PYTHON=/usr/local/bin/python3.6\\n```\\n\\n\\n\\n6\u3001\u6267\u884cpyspark\u4efb\u52a1\u62a5\u9519\\njava.lang.NoSuchFieldError: HIVE_STATS_JDBC_TIMEOUT\\n![image](./img/spark-hive-verion-error.png)\\n\u539f\u56e0\uff1aspark2.4.8\u91cc\u9762\u4f7f\u7528\u7684\u662fhive1.2.1\u7684\u5305\uff0c\u4f46\u662f\u6211\u4eec\u7684hive\u5347\u7ea7\u5230\u4e862.1.1\u7248\u672c\uff0chive2\u91cc\u9762\u5df2\u7ecf\u53bb\u6389\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u7136\u540espark-sql\u91cc\u9762\u7684\u4ee3\u7801\u4f9d\u7136\u662f\u8981\u8c03\u7528hive\u7684\u8fd9\u4e2a\u53c2\u6570\u7684\uff0c\u7136\u540e\u5c31\u62a5\u9519\u4e86\uff0c\\n\u6240\u4ee5\u5728spark-sql/hive\u4ee3\u7801\u4e2d\u5220\u9664\u6389\u4e86HIVE_STATS_JDBC_TIMEOUT\u8fd9\u4e2a\u53c2\u6570\uff0c\u91cd\u65b0\u7f16\u8bd1\u540e\u6253\u5305\uff0c\u66ff\u6362spark2.4.8\u4e2d\u7684spark-hive_2.11-2.4.8.jar\\n\\n\\n\\n7\u3001jdbc\u5f15\u64ce\u6267\u884c\u51fa\u73b0\u4ee3\u7406\u7528\u6237\u5f02\u5e38\\n\\n\u73b0\u8c61\uff1a\u7528A\u7528\u6237\u53bb\u6267\u884c\u4e00\u4e2ajdbc\u4efb\u52a11\uff0c\u5f15\u64ce\u9009\u4e86\u53ef\u4ee5\u590d\u7528\uff0c\u7136\u540e\u6211\u4e5f\u7528B\u7528\u6237\u53bb\u6267\u884c\u4e00\u4e2ajdbc\u4efb\u52a12\uff0c\u53d1\u73b0 \u4efb\u52a12\u7684\u63d0\u4ea4\u4eba\u662fA\\n\u5206\u6790\u539f\u56e0\uff1a\\nConnectionManager::getConnection\\n![image](./img/jdbc-engine-analyze.png)\\n\u8fd9\u91cc\u521b\u5efadatasource\u7684\u65f6\u5019\u662f\u6839\u636ekey\u6765\u5224\u65ad\u662f\u5426\u521b\u5efa\uff0c\u800c\u8fd9\u4e2akey\u662fjdbc url \uff0c\u4f46\u8fd9\u79cd\u7c92\u5ea6\u53ef\u80fd\u6709\u70b9\u5927\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u7528\u6237\u53bb\u8bbf\u95ee\u540c\u4e00\u4e2a\u6570\u636e\u6e90\uff0c\u6bd4\u5982\u8bf4hive,\u4ed6\u4eec\u7684url\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u8d26\u53f7\u5bc6\u7801\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5f53\u7b2c\u4e00\u4e2a\u7528\u6237\u53bb\u521b\u5efadatasource\u65f6\uff0cusername\u5df2\u7ecf\u6307\u5b9a\u4e86\uff0c\u7b2c\u4e8c\u4e2a\u7528\u6237\u8fdb\u6765\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u8fd9\u4e2a\u6570\u636e\u6e90\u5b58\u5728\uff0c\u5c31\u76f4\u63a5\u62ff\u8fd9\u4e2a\u6570\u636e\u6e90\u53bb\u7528\uff0c\u800c\u4e0d\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684datasource\uff0c\u6240\u4ee5\u9020\u6210\u4e86\u7528\u6237B\u63d0\u4ea4\u7684\u4ee3\u7801\u901a\u8fc7A\u53bb\u6267\u884c\u4e86\u3002  \\n\u89e3\u51b3\u65b9\u6cd5\uff1a\u6570\u636e\u6e90\u7f13\u5b58map\u7684key\u7c92\u5ea6\u964d\u4f4e\uff0c\u6539\u6210jdbc.url+jdbc.user\u3002\\n\\n\\n\\n## \u4e09\u3001DSS\u90e8\u7f72\\n\\n\u5b89\u88c5\u8fc7\u7a0b\u53c2\u8003\u5b98\u7f51\u6587\u6863\u8fdb\u884c\u5b89\u88c5\u914d\u7f6e\uff0c\u4e0b\u9762\u8bf4\u660e\u4e00\u4e0b\u5728\u5b89\u88c5\u8c03\u8bd5\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u4e00\u4e9b\u4e8b\u9879\u3002\\n\\n#### 3.1 DSS \u5de6\u4fa7\u6570\u636e\u5e93\u5c55\u793a\u7684\u6570\u636e\u5e93\u5217\u8868\u663e\u793a\u4e0d\u5168\\n\\n\u5206\u6790\uff1aDSS\u6570\u636e\u6e90\u6a21\u5757\u663e\u793a\u7684\u6570\u636e\u5e93\u4fe1\u606f\u662f\u6765\u6e90\u4e8ehive\u7684\u5143\u6570\u636e\u5e93\uff0c\u4f46\u7531\u4e8eCDH6\u4e2d\u901a\u8fc7sentry\u8fdb\u884c\u6743\u9650\u63a7\u5236\uff0c\u5927\u90e8\u5206\u7684hive\u8868\u5143\u6570\u636e\u4fe1\u606f\u6ca1\u6709\u5b58\u5728\u4e8ehive metastore\u4e2d\uff0c\u6240\u4ee5\u5c55\u793a\u7684\u6570\u636e\u5b58\u5728\u7f3a\u5931\u3002\\n\u89e3\u51b3\u65b9\u6cd5\uff1a\\n\u5c06\u539f\u6709\u903b\u8f91\u6539\u9020\u6210\u4f7f\u7528jdbc\u94fe\u63a5hive\u7684\u65b9\u5f0f\uff0c\u4ecejdbc\u4e2d\u83b7\u53d6\u8868\u6570\u636e\u5c55\u793a\u3002\\n\u7b80\u5355\u903b\u8f91\u63cf\u8ff0\uff1a\\njdbc\u7684properties\u4fe1\u606f\u901a\u8fc7linkis\u63a7\u5236\u53f0\u914d\u7f6e\u7684IDE-jdbc\u7684\u914d\u7f6e\u4fe1\u606f\u83b7\u53d6\u3002\\nDBS\uff1a\u901a\u8fc7connection.getMetaData()\u83b7\u53d6schema\\nTBS\uff1aconnection.getMetaData().getTables()\u83b7\u53d6\u5bf9\u5e94db\u4e0b\u7684tables\\nCOLUMNS:\u901a\u8fc7\u6267\u884cdescribe  table \u83b7\u53d6\u8868\u7684columns\u4fe1\u606f\\n\\n#### 3.2 DSS \u5de5\u4f5c\u6d41\u4e2d\u6267\u884cjdbc\u811a\u672c\u62a5\u9519 jdbc.name is empty\\n\\n\u5206\u6790\uff1adss workflow\u4e2d\u9ed8\u8ba4\u6267\u884c\u7684creator\u662fSchedulis\uff0c\u7531\u4e8e\u5728\u7ba1\u7406\u53f0\u4e2d\u672a\u914d\u7f6eSchedulis\u7684\u76f8\u5173\u5f15\u64ce\u53c2\u6570\uff0c\u5bfc\u81f4\u8bfb\u53d6\u7684\u53c2\u6570\u5168\u4e3a\u7a7a\u3002\\n\u5728\u63a7\u5236\u53f0\u4e2d\u6dfb\u52a0Schedulis\u7684Category\u65f6\u62a5\u9519\uff0c\u201dSchedulis\u76ee\u5f55\u5df2\u5b58\u5728\u201c\u3002\u7531\u4e8e\u8c03\u5ea6\u7cfb\u7edf\u4e2d\u7684creator\u662fschedulis\uff0c\u5bfc\u81f4\u65e0\u6cd5\u6dfb\u52a0Schedulis Category,\u4e3a\u4e86\u66f4\u597d\u7684\u6807\u8bc6\u5404\u4e2a\u7cfb\u7edf\uff0c\u6240\u4ee5\u5c06dss workflow\u4e2d\u9ed8\u8ba4\u6267\u884c\u7684creator\u6539\u6210nodeexcetion\uff0c\u8be5\u53c2\u6570\u53ef\u4ee5\u5728dss-flow-execution-server.properties\u4e2d\u6dfb\u52a0wds.linkis.flow.job.creator.v1=nodeexecution\u4e00\u884c\u914d\u7f6e\u5373\u53ef\u3002"},{"id":"/2022/08/08/linkis111-compile-integration","metadata":{"permalink":"/zh-CN/blog/2022/08/08/linkis111-compile-integration","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-08-08-linkis111-compile-integration/index.md","title":"Linkis1.1.1 \u9002\u914d hadoop3.1.1 \u4ee5\u53ca\u90e8\u7f72\u5176\u4ed6\u7cfb\u7edf\u670d\u52a1","description":"\u73af\u5883\u4ee5\u53ca\u7248\u672c","date":"2022-08-08T00:00:00.000Z","formattedDate":"2022\u5e748\u67088\u65e5","tags":[{"label":"blog","permalink":"/zh-CN/blog/tags/blog"},{"label":"linki1.1.1","permalink":"/zh-CN/blog/tags/linki-1-1-1"},{"label":"hadoop3.1.1","permalink":"/zh-CN/blog/tags/hadoop-3-1-1"},{"label":"spark3.0.1","permalink":"/zh-CN/blog/tags/spark-3-0-1"},{"label":"hive3.1.2","permalink":"/zh-CN/blog/tags/hive-3-1-2"},{"label":"flink1.13.2","permalink":"/zh-CN/blog/tags/flink-1-13-2"}],"readingTime":17.745,"hasTruncateMarker":false,"authors":[{"name":"ruY9527","title":"contributors","url":"https://github.com/ruY9527","imageURL":"https://avatars.githubusercontent.com/u/43773582?v=4","key":"ruY9527"}],"frontMatter":{"title":"Linkis1.1.1 \u9002\u914d hadoop3.1.1 \u4ee5\u53ca\u90e8\u7f72\u5176\u4ed6\u7cfb\u7edf\u670d\u52a1","authors":["ruY9527"],"tags":["blog","linki1.1.1","hadoop3.1.1","spark3.0.1","hive3.1.2","flink1.13.2"]},"prevItem":{"title":"\u57fa\u4e8e CDH6.3.2 \u90e8\u7f72 Apache Linkis1.1.1 \u548c DSS1.1.0","permalink":"/zh-CN/blog/2022/09/27/linkis111-deploy"},"nextItem":{"title":"\u5982\u4f55\u8fdb\u884c Kubernetes \u90e8\u7f72","permalink":"/zh-CN/blog/2022/07/16/deploy-linkis-with-kubernetes"}},"content":"## \u73af\u5883\u4ee5\u53ca\u7248\u672c\\n\\n- jdk-8 , maven-3.6.3\\n- node-14.15.0(\u662f\u5426\u9700\u8981\u81ea\u5df1\u7f16\u8bd1\u524d\u7aef\u4ee3\u7801\u8c03\u6574)\\n- Gradle-4.6(\u662f\u5426\u7f16\u8bd1Qualitis\u8d28\u91cf\u670d\u52a1)\\n- hadoop-3.1.1,Spark-3.0.1,Hive-3.1.2,Flink-1.13.2,Sqoop-1.4.7 (Apache\u7248\u672c)\\n- linkis-1.1.1\\n- DataSphereStudio-1.1.0\\n- Schudulis-0.7.0\\n- Qualitis-0.9.2\\n- Visualis-1.0.0\\n- Streamis-0.2.0\\n- Exchangis-1.0.0\\n- Chrome\u5efa\u8bae100\u4ee5\u4e0b\u7684\u7248\u672c\\n\\n## \u5404\u7ec4\u4ef6\u573a\u666f\u4ee5\u53ca\u7248\u672c\\n\\n| \u7cfb\u7edf\u540d\u5b57         | \u7248\u672c  | \u573a\u666f                                                         |\\n| ---------------- | ----- | ------------------------------------------------------------ |\\n| linkis           | 1.1.1 | \u5f15\u64ce\u7f16\u6392,\u8fd0\u884c\u6267\u884chive,spark,flinkSql,shell,python\u7b49,\u6570\u636e\u6e90\u7edf\u4e00\u7ba1\u7406\u7b49 |\\n| DataSphereStudio | 1.1.0 | \u5b9e\u73b0\u5bf9\u4efb\u52a1\u7684dag\u7f16\u6392,\u5b9e\u73b0\u6574\u5408\u5176\u4ed6\u7cfb\u7edf\u7684\u89c4\u8303\u4ee5\u53ca\u7edf\u4e00\u63a5\u5165,\u63d0\u4f9b\u57fa\u4e8eSparkSql\u7684\u670d\u52a1Api |\\n| Schudulis        | 0.7.0 | \u4efb\u52a1\u8c03\u5ea6,\u4ee5\u53ca\u8c03\u5ea6\u8be6\u60c5\u548c\u91cd\u8dd1,\u5e76\u4e14\u63d0\u4f9b\u57fa\u4e8e\u9009\u62e9\u65f6\u95f4\u7684\u8865\u6f0f\u6570\u636e   |\\n| Qualitis         | 0.9.2 | \u63d0\u4f9b\u5185\u7f6eSql\u7684\u7248\u672c\u7b49\u529f\u80fd,\u5bf9\u5e38\u89c1\u7684\u6570\u636e\u8d28\u91cf\u4ee5\u53ca\u53ef\u4ee5\u81ea\u5b9a\u4e49sql,\u5bf9\u4e00\u4e9b\u4e0d\u7b26\u5408\u89c4\u5219\u7684\u6570\u636e\u8fdb\u884c\u6821\u9a8c\u5e76\u5199\u5165\u5230\u5bf9\u5e94\u7684\u5e93\u4e2d |\\n| Exchangis        | 1.0.0 | Hive\u5230Mysql,Mysql\u5230Hive\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362                        |\\n| Streamis         | 0.2.0 | \u6d41\u5f0f\u5f00\u53d1\u5e94\u7528\u4e2d\u5fc3                                             |\\n| Visualis         | 1.0.0 | \u53ef\u89c6\u5316\u62a5\u8868\u5c55\u793a,\u53ef\u4ee5\u5206\u4eab\u5916\u94fe\u63a5                                |\\n\\n\\n## \u90e8\u7f72\u987a\u5e8f\\n\\n  \u4ece\u5e8f\u53f73\u4e4b\u540e\u7684\u987a\u5e8f\u53ef\u4ee5\u81ea\u5df1\u9009\u62e9\u8fdb\u884c\u8c03\u6574.\u4f46\u662f\u5728\u90e8\u7f72exchangis\u4e2d\u9700\u8981\u6ce8\u610f\u4e00\u70b9,\u5c06exchangis\u7684sqoop\u5f15\u64ce\u63d2\u4ef6,\u7ed9copy\u5230linkis\u7684lib\u4e0b\u7684engine\u63d2\u4ef6\u5305\u4e0b\\nSchedulis,Qualitis,Exchangis,Streamis,Visualis\u7b49\u7cfb\u7edf,\u90fd\u662f\u901a\u8fc7\u5404\u81ea\u7684appconn\u6765\u4e0edss\u8fdb\u884c\u6574\u5408,\u6ce8\u610f\u6bcf\u6b21\u6574\u5408\u7ec4\u4ef6-appconn\u540e,\u8fdb\u884c\u91cd\u542fdss\u5bf9\u5e94\u7684\u670d\u52a1\u6a21\u5757\u6216\u8005\u91cd\u542fdss\\n\\n1. linkis\\n1. DataSphereStudio\\n1. Schedulis\\n1. Qualitis\\n1. Exchangis\\n1. Streamis\\n1. Visualis\\n\\n![image.png](./img/sx1.png)\\n\\n\u5982\u679c\u4f60\u96c6\u6210\u4e86Skywalking\u7684\u8bdd,\u5c31\u53ef\u4ee5\u5728\u6269\u62d3\u6251\u56fe\u4e2d,\u770b\u5230\u670d\u52a1\u7684\u72b6\u6001\u548c\u8fde\u63a5\u72b6\u6001,\u5982\u4e0b\u56fe\\n![image.png](./img/sx2.png)\\n\u540c\u65f6\u4f60\u4e5f\u53ef\u4ee5\u770b\u6e05\u6670\u5230\u5728\u8ffd\u8e2a\u4e2d\u770b\u5230\u8c03\u7528\u94fe\u8def,\u5982\u4e0b\u56fe,\u4e5f\u4fbf\u4e8e\u4f60\u5b9a\u4f4d\u5177\u4f53\u670d\u52a1\u7684\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\\n![image.png](./img/sx3.png)\\n\\n## \u4f9d\u8d56\u8c03\u6574\u4ee5\u53ca\u6253\u5305\\n\\n### linkis\\n\\n\u7531\u4e8espark\u662f\u91c7\u7528\u4e863.x\u7248\u672c\u7684,scala\u4e5f\u662f\u9700\u8981\u5347\u7ea7\u523012\u7248\u672c\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/apache/incubator-linkis/tree/release-1.1.1)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/incubator-linkis/tree/release-1.1.1-hadoop3.x)\\n\\n#### linkis\u7684pom\u6587\u4ef6\\n\\n```xml\\n<hadoop.version>3.1.1</hadoop.version>\\n<scala.version>2.12.10</scala.version>\\n<scala.binary.version>2.12</scala.binary.version>\\n\\n\x3c!-- \u5c06hadoop-hdfs \u66ff\u6362\u6210\u4e3ahadoop-hdfs-client --\x3e\\n<dependency>\\n    <groupId>org.apache.hadoop</groupId>\\n    <artifactId>hadoop-hdfs-client</artifactId>\\n    <version>${hadoop.version}</version>\\n```\\n\\n#### linkis-hadoop-common\u7684pom\u6587\u4ef6\\n\\n```xml\\n       \x3c!-- \u6ce8\u610f\u8fd9\u91cc\u7684 <version>${hadoop.version}</version> , \u6839\u636e\u4f60\u6709\u6ca1\u6709\u9047\u5230\u9519\u8bef\u6765\u8fdb\u884c\u8c03\u6574 --\x3e \\n       <dependency>\\n            <groupId>org.apache.hadoop</groupId>\\n            <artifactId>hadoop-hdfs-client</artifactId>\\n            <version>${hadoop.version}</version>\\n        </dependency>\\n```\\n\\n#### linkis-engineplugin-hive\u7684pom\u6587\u4ef6\\n\\n```xml\\n<hive.version>3.1.2</hive.version>\\n```\\n\\n#### linkis-engineplugin-spark\u7684pom\u6587\u4ef6\\n\\n```xml\\n<spark.version>3.0.1</spark.version>\\n```\\n\\nSparkScalaExecutor \u4e2d getField \u65b9\u6cd5\u9700\u8c03\u6574\u4e0b\u4ee3\u7801\\n\\n```java\\nprotected def getField(obj: Object, name: String): Object = {\\n    // val field = obj.getClass.getField(name)\\n    val field = obj.getClass.getDeclaredField(\\"in0\\")\\n        field.setAccessible(true)\\n        field.get(obj)\\n  }\\n```\\n\\n#### linkis-engineconn-plugin-flink\u7684pom\u6587\u4ef6\\n\\n```xml\\n<flink.version>1.13.2</flink.version>\\n```\\n\\n\u7531\u4e8eflink1.12.2\u7248\u672c\u548c1.13.2\u6709\u4e9b\u7c7b\u7684\u8c03\u6574,\u8fd9\u91cc\u76ee\u524d\u53c2\u8003\u793e\u533a\u540c\u5b66\u7ed9\u51fa\u7684\u4e34\u65f6\\"\u66b4\u529b\\"\u65b9\u6cd5: \u5c061.12.2\u90e8\u5206\u7684\u7c7b\u7ed9copy\u52301.13.2,\u8c03\u6574scala\u7248\u672c\u523012,\u81ea\u5df1\u7f16\u8bd1\\n\u6d89\u53ca\u5230flink\u5177\u4f53\u7684\u6a21\u5757: flink-sql-client_${scala.binary.version}\\n\\n```\\n-- \u6ce8\u610f,\u4e0b\u5217\u7684\u7c7b\u662f\u4ece1.12.2\u7ed9copy\u52301.13.2\u7248\u672c\u6765\\norg.apache.flink.table.client.config.entries.DeploymentEntry\\norg.apache.flink.table.client.config.entries.ExecutionEntry\\norg.apache.flink.table.client.gateway.local.CollectBatchTableSink\\norg.apache.flink.table.client.gateway.local.CollectStreamTableSink\\n```\\n\\n![image.png](./img/flink1.png)![image.png](./img/flink2.png)\\n\\n#### linkis-engineplugin-python\\n\\n[\u53c2\u8003pr](https://github.com/apache/incubator-linkis/commit/7a26e85c53fc7cd55ddefbd78b1748b00f85ddd6)\\n\u5982\u679clinkis-engineplugin-python\u4e0b\u7684resource/python\u7684python.py\u6587\u4ef6\u4e2d,\u6709import pandas as pd , \u5982\u679c\u4e0d\u60f3\u5b89\u88c5pandas\u7684\u8bdd,\u9700\u5bf9\u5176\u8fdb\u884c\u79fb\u9664\\n\\n#### linkis-label-common\\n\\norg.apache.linkis.manager.label.conf.LabelCommonConfig\\n\u4fee\u6539\u9ed8\u8ba4\u7248\u672c,\u4fbf\u4e8e\u540e\u7eed\u7684\u81ea\u7f16\u8bd1\u8c03\u5ea6\u7ec4\u4ef6\u4f7f\u7528\\n\\n```\\n    public static final CommonVars<String> SPARK_ENGINE_VERSION =\\n            CommonVars.apply(\\"wds.linkis.spark.engine.version\\", \\"3.0.1\\");\\n\\n    public static final CommonVars<String> HIVE_ENGINE_VERSION =\\n            CommonVars.apply(\\"wds.linkis.hive.engine.version\\", \\"3.1.2\\");\\n```\\n\\n#### linkis-computation-governance-common\\n\\norg.apache.linkis.governance.common.conf.GovernanceCommonConf\\n\u4fee\u6539\u9ed8\u8ba4\u7248\u672c,\u4fbf\u4e8e\u540e\u7eed\u7684\u81ea\u7f16\u8bd1\u8c03\u5ea6\u7ec4\u4ef6\u4f7f\u7528\\n\\n```\\n  val SPARK_ENGINE_VERSION = CommonVars(\\"wds.linkis.spark.engine.version\\", \\"3.0.1\\")\\n\\n  val HIVE_ENGINE_VERSION = CommonVars(\\"wds.linkis.hive.engine.version\\", \\"3.1.2\\")\\n```\\n\\n#### \u7f16\u8bd1\\n\\n\u786e\u4fdd\u4ee5\u4e0a\u4fee\u6539\u548c\u73af\u5883\u90fd\u6709,\u4f9d\u6b21\u6267\u884c\\n\\n```shell\\n    cd incubator-linkis-x.x.x\\n    mvn -N  install\\n    mvn clean install -DskipTests\\n```\\n\\n#### \u7f16\u8bd1\u9519\u8bef\\n\\n- \u5982\u679c\u4f60\u6574\u7406\u8fdb\u884c\u7f16\u8bd1\u7684\u65f6\u5019,\u51fa\u73b0\u4e86\u9519\u8bef,\u5c1d\u8bd5\u5355\u72ec\u8fdb\u5165\u5230\u4e00\u4e2a\u6a21\u5757\u4e2d\u8fdb\u884c\u7f16\u8bd1,\u770b\u662f\u5426\u6709\u9519\u8bef,\u6839\u636e\u5177\u4f53\u7684\u9519\u8bef\u6765\u8fdb\u884c\u8c03\u6574\\n- \u6bd4\u5982\u4e0b\u9762\u4e3e\u4f8b(\u7fa4\u53cb\u9002\u914dcdh\u4f4e\u7248\u672c\u7684\u65f6\u5019,\u5b58\u5728py4j\u7248\u672c\u4e0d\u9002\u914d): \u5982\u679c\u4f60\u9047\u5230\u4e86\u8fd9\u79cd\u95ee\u9898,\u53ef\u4ee5\u8c03\u6574\u4e0b\u6709\u5bf9\u5e94\u65b9\u6cd5\u7684\u7248\u672c\u6765\u8fdb\u884c\u662f\u5426\u9002\u914d\\n\\n![image.png](./img/linkis1.png)\\n\\n### DataSphereStudio\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/DataSphereStudio/tree/1.1.0)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/DataSphereStudio/tree/1.1.0-hadoop3.x)\\n\\n#### DataSphereStudio\u7684pom\u6587\u4ef6\\n\\n\u7531\u4e8edss\u4f9d\u8d56\u4e86linkis,\u6240\u6709\u7f16\u8bd1dss\u4e4b\u524d\u7f16\u8bd1linkis\\n\\n```xml\\n\x3c!-- scala \u73af\u5883\u4e00\u81f4 --\x3e\\n<scala.version>2.12.10</scala.version>\\n```\\n\\n#### dss-dolphinschuduler-token\\n\\nDolphinSchedulerTokenRestfulApi: \u53bb\u6389\u7c7b\u578b\u7684\u8f6c\u6362\\n\\n```\\nresponseRef.getValue(\\"expireTime\\")\\n```\\n\\n#### web\u8c03\u6574\\n\\n [\u524d\u7aef\u7f16\u8bd1\u5730\u5740](https://github.com/WeBankFinTech/DataSphereStudio-Doc/blob/main/zh_CN/%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF%E7%BC%96%E8%AF%91%E6%96%87%E6%A1%A3.md)\\n[\u53c2\u8003pr](https://github.com/WeBankFinTech/DataSphereStudio/commit/1dc9d99648e9f78b2dfb4776df4b9f46ef530c8a)\\n\u5c06\u5982\u4e0b\u76ee\u5f55\u4ecemaster\u5206\u652f\u7684\u5185\u5bb9\u8986\u76d6,\u6216\u8005web\u57fa\u4e8emaster\u5206\u652f\u53bbbuild\\n![image.png](./img/dss1.png)\\n\\n#### \u7f16\u8bd1\\n\\n```shell\\n    cd DataSphereStudio\\n    mvn -N  install\\n    mvn clean install -DskipTests\\n```\\n\\n### Schedulis\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/Schedulis/tree/release-0.7.0)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/Schedulis/tree/release-0.7.0-hadoop.x)\\n\\n#### Schedulis\u7684pom\u6587\u4ef6\\n\\n```xml\\n       <hadoop.version>3.1.1</hadoop.version>\\n       <hive.version>3.1.2</hive.version>\\n       <spark.version>3.0.1</spark.version>\\n```\\n\\n####  azkaban-jobtype\\n\\n\u4e0b\u8f7d\u5bf9\u5e94\u7248\u672c\u7684jobtype\u6587\u4ef6(\u6ce8\u610f\u5bf9\u5e94\u597d\u7248\u672c): [\u4e0b\u8f7d\u5730\u5740](https://github.com/WeBankFinTech/Schedulis/blob/master/docs/schedulis_deploy_cn.md)\\n\u4e0b\u8f7d\u5b8c\u540e,\u5c06\u6574\u4e2ajobtypes\u653e\u5728jobtypes\u4e0b\\n![image.png](./img/schedulis1.png)\\n\\n### Qualitis\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/Qualitis/tree/release-0.9.2)\\n\\n#### forgerock\u5305\u4e0b\u8f7d\\n\\n[release\u5730\u5740](https://github.com/WeBankFinTech/Qualitis/releases) \u4e0b\u7684[release-0.9.1](https://github.com/WeBankFinTech/Qualitis/releases/tag/release-0.9.1),\u89e3\u538b\u5b8c\u540e\u653e\u5728.m2\\\\repository\\\\org\u4e0b\u5373\u53ef.\\n\\n#### \u7f16\u8bd1\\n\\ngradle\u5efa\u8bae\u4f7f\u75284.6\\n\\n```shell\\ncd Qualitis\\ngradle clean distZip\\n```\\n\\n\u7f16\u8bd1\u5b8c\u540e,\u4f1a\u518dqualitis\u4e0b\u6709\u4e00\u4e2aqualitis-0.9.2.zip\u6587\u4ef6\\n![image.png](./img/qualitis1.png)\\n\\n#### dss-qualitis-appconn\u7f16\u8bd1\\n\\n\u5c06appconn\u5185\u4ece\u7ed9copy\u5230DataSphereStudio\u4e0b\u7684appconns\u4e2d(\u521b\u5efadss-qualitis-appconn\u6587\u4ef6\u5939),\u5982\u4e0b\u56fe\\n\u5bf9dss-qualitis-appconn\u8fdb\u884c\u7f16\u8bd1,out\u4e0b\u7684qualitis\u5c31\u662fdss\u6574\u5408qualitis\u7684\u5305\\n![image.png](./img/qualitis2.png)\\n\\n### Exchangis\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/Exchangis/tree/release-1.0.0)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/Exchangis/tree/release-1.0.0-hadoop3.x)\\n\\n#### Exchangis\u7684pom\u6587\u4ef6\\n\\n```xml\\n\x3c!-- scala \u7248\u672c\u4fdd\u6301\u4e00\u81f4 --\x3e\\n<scala.version>2.12.10</scala.version>\\n```\\n\\n#### \u540e\u7aef\u7f16\u8bd1\\n\\n[\u5b98\u65b9\u7f16\u8bd1\u6587\u6863](https://github.com/WeBankFinTech/Exchangis/blob/dev-1.0.0/docs/zh_CN/ch1/exchangis_deploy_cn.md)\\nassembly-package\u7684target\u5305\u4e2dwedatasphere-exchangis-1.0.0.tar.gz\u662f\u81ea\u8eab\u7684\u670d\u52a1\u5305\\nlinkis-engineplugin-sqoop\u662f\u9700\u8981\u653e\u5165linkis\u4e2d(lib/linkis-engineconn-plugins)\\nexchangis-appconn.zip\u662f\u9700\u8981\u653e\u5165dss\u4e2d(dss-appconns)\\n\\n```xml\\nmvn clean install \\n```\\n\\n![image.png](./img/exchangis1.png)\\n\\n#### \u524d\u7aef\u7f16\u8bd1\\n\\n\u5982\u679c\u524d\u7aef\u4f60\u662f\u81ea\u5df1\u7528nginx\u90e8\u7f72\u7684\u8bdd,\u9700\u8981\u6ce8\u610f\u662f\u62ff\u5230dist\u4e0b\u9762dist\u6587\u4ef6\u5939\\n![image.png](./img/exchangis2.png)\\n\\n### Visualis\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/Visualis/tree/v1.0.0)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/Visualis/tree/v1.0.0-hadoop3.x)\\n\\n#### Visualis\u7684pom\u6587\u4ef6\\n\\n```xml\\n<scala.version>2.12.10</scala.version>\\n```\\n\\n#### \u7f16\u8bd1\\n\\n [\u5b98\u65b9\u7f16\u8bd1\u6587\u6863](https://github.com/WeBankFinTech/Visualis/blob/master/visualis_docs/zh_CN/Visualis_deploy_doc_cn.md)\\nassembly\u4e0b\u7684target\u4e2dvisualis-server-zip\u662f\u81ea\u8eab\u670d\u52a1\u7684\u5305\\nvisualis-appconn\u7684target\u662fvisualis.zip\u662fdss\u9700\u8981\u7684\u5305(dss-appconns)\\nbuild\u662f\u524d\u7aef\u6253\u51fa\u6765\u7684\u5305\\n\\n```xml\\ncd Visualis\\nmvn -N install\\nmvn clean package -DskipTests=true\\n```\\n\\n![image.png](./img/visualis1.png)\\n\\n### Streamis\\n\\n[\u539f\u9879\u76ee\u4ee3\u7801\u5730\u5740](https://github.com/WeBankFinTech/Streamis/tree/0.2.0)\\n[\u9002\u914d\u4fee\u6539\u4ee3\u7801\u53c2\u8003\u5730\u5740](https://github.com/ruY9527/Streamis/tree/0.2.0-hadoop3.x)\\n\\n#### Streamis\u7684pom\u6587\u4ef6\\n\\n```xml\\n<scala.version>2.12.10</scala.version>\\n```\\n\\nstreamis-project-server\u7684pom\u6587\u4ef6\\n\\n```xml\\n       \x3c!-- \u5982\u679c\u4f60\u8fd9\u91cc\u662f1.0.1\u7684\u8bdd,\u5c31\u8c03\u6574\u5230${dss.version} --\x3e\\n       <dependency>\\n            <groupId>com.webank.wedatasphere.dss</groupId>\\n            <artifactId>dss-sso-integration-standard</artifactId>\\n            <version>${dss.version}</version>\\n            <scope>compile</scope>\\n        </dependency>\\n```\\n\\n#### \u7f16\u8bd1\\n\\n [\u5b98\u65b9\u7f16\u8bd1\u6587\u6863](https://github.com/WeBankFinTech/Streamis/blob/main/docs/zh_CN/0.2.0/Streamis%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3.md)\\nassembly\u4e0btarget\u5305wedatasphere-streamis-0.2.0-dist.tar.gz\u662f\u81ea\u8eab\u540e\u7aef\u670d\u52a1\u7684\u5305\\nstreamis-appconn\u4e0btarget\u7684streamis.zip\u5305\u662fdss\u9700\u8981\u7684(dss-appconns)\\ndist\u4e0b\u7684dist\u662f\u524d\u7aef\u7684\u5305\\n\\n```xml\\ncd ${STREAMIS_CODE_HOME}\\nmvn -N install\\nmvn clean install\\n```\\n\\n![image.png](./img/streamis1.png)\\n\\n## \u5b89\u88c5\u90e8\u7f72\\n\\n[\u5b98\u65b9\u90e8\u7f72\u5730\u5740](https://linkis.apache.org/zh-CN/docs/1.1.1/deployment/quick-deploy)\\n[\u5e38\u89c1\u9519\u8bef\u5730\u5740](https://linkis.apache.org/zh-CN/blog/2022/02/21/linkis-deploy)\\n\\n### \u8def\u5f84\u7edf\u4e00\\n\\n\u5efa\u8bae\u5c06\u76f8\u5173\u7684\u7ec4\u4ef6,\u90e8\u7f72\u540c\u4e00\u4e2a\u8def\u5f84(\u6bd4\u5982\u6211\u8fd9\u91cc\u5168\u90e8\u89e3\u538b\u5728/home/hadoop/application\u4e0b)\\n![image.png](./img/deploy1.png)\\n\\n### linkis\u90e8\u7f72\u6ce8\u610f\u70b9\\n\\n#### deploy-config\u6587\u4ef6\u5939\\n\\ndb.sh\u4e2d, MYSQL\u914d\u7f6e\u7684linkis\u8fde\u63a5\u7684\u5730\u5740,HIVE\u7684\u5143\u6570\u636e\u8fde\u63a5\u5730\u5740\\nlinkis-env.sh\\n\\n```shell\\n-- \u4fdd\u5b58script\u811a\u672c\u7684\u8def\u5f84,\u4e0b\u4e00\u6b21\u4f1a\u6709\u4e00\u4e2a\u7528\u6237\u540d\u5b57\u7684\u6587\u4ef6\u5939,\u5bf9\u5e94\u7528\u6237\u7684\u811a\u672c\u5c31\u5b58\u653e\u5728\u8be5\u6587\u4ef6\u5939\u4e2d\\nWORKSPACE_USER_ROOT_PATH=file:///home/hadoop/logs/linkis\\n-- \u5b58\u653e\u7269\u6599\u4ee5\u53ca\u5f15\u64ce\u6267\u884c\u7684log\u6587\u4ef6\\nHDFS_USER_ROOT_PATH=hdfs:///tmp/linkis\\n-- \u5f15\u64ce\u6bcf\u6b21\u6267\u884c\u7684log\u4ee5\u53ca\u542f\u52a8engineConnExec.sh\u76f8\u5173\u7684\u4fe1\u606f\\nENGINECONN_ROOT_PATH=/home/hadoop/logs/linkis/apps\\n-- Yarn\u4e3b\u8282\u70b9\u8bbf\u95ee\u5730\u5740(Active resourcemanager)\\nYARN_RESTFUL_URL\\n-- Hadoop/Hive/Spark\u7684conf\u5730\u5740\\nHADOOP_CONF_DIR\\nHIVE_CONF_DIR\\nSPARK_CONF_DIR\\n-- \u6307\u5b9a\u5bf9\u5e94\u7684\u7248\u672c\\nSPARK_VERSION=3.0.1\\nHIVE_VERSION=3.1.2\\n-- \u6307\u5b9alinkis\u5b89\u88c5\u540e\u7684\u8def\u5f84,\u6bd4\u5982\u6211\u8fd9\u91cc\u5c31\u540c\u610f\u6307\u5b9a\u5728\u5bf9\u5e94\u7ec4\u4ef6\u4e0b\u7684\u8def\u5f84\\nLINKIS_HOME=/home/hadoop/application/linkis/linkis-home\\n```\\n\\n#### flink\\n\\n\u5982\u679c\u4f60\u4f7f\u7528\u4e86flink\u7684\u8bdd,\u53ef\u4ee5\u5c1d\u8bd5\u4ece [flink-engine.sql](./img/flink-engine.sql) \u5bfc\u5165\u5230linkis\u7684\u6570\u636e\u5e93\u4e2d.\\n\\n\u9700\u8981\u4fee\u6539@FLINK_LABEL\u7248\u672c\u4e3a\u81ea\u5df1\u5bf9\u5e94\u7684\u7248\u672c,yarn\u7684\u961f\u5217\u9ed8\u8ba4\u662fdefault.\\n\\n\u540c\u65f6\u8fd9\u4e2a\u7248\u672c,\u5982\u679c\u4f60\u9047\u89c1\u4e86\\"1G\\"\u8f6c\u6362\u6570\u5b57\u7c7b\u578b\u7684\u9519\u8bef,\u5c1d\u8bd5\u53bb\u63891g\u7684\u5355\u4f4d\u4ee5\u53ca\u6b63\u5219\u6821\u9a8c\u7684\u89c4\u5219.\u53c2\u8003\u5982\u4e0b:\\n\\n![flink3.png](./img/flink3.png)\\n\\n#### lzo\u4f7f\u7528\\n\\n\u5982\u679c\u4f60\u7684hive\u4f7f\u7528\u4e86lzo\u7684\u8bdd,\u5c06\u5bf9\u5e94\u7684lzo\u7684jar\u5305\u7ed9copy\u5230hive\u8def\u5f84\u4e0b.\u6bd4\u5982\u4e0b\u9762\u8def\u5f84:\\n\\n```\\nlib/linkis-engineconn-plugins/hive/dist/v3.1.2/lib\\n```\\n\\n#### \u5e38\u89c1\u95ee\u9898\u6ce8\u610f\u70b9\\n\\n- Mysql\u7684\u9a71\u52a8\u5305\u4e00\u5b9a\u8981copy\u5230/lib/linkis-commons/public-module/\u548c/lib/linkis-spring-cloud-services/linkis-mg-gateway/\\n- \u521d\u59cb\u5316\u5bc6\u7801\u5728conf/linkis-mg-gateway.properties\u4e2d\u7684wds.linkis.admin.password\\n- ps-cs \u5728\u542f\u52a8\u811a\u672c\u4e2d,\u6709\u53ef\u80fd\u5b58\u5728\u5b58\u5728\u5931\u8d25\u7684\u60c5\u51b5,\u5982\u679c\u6709\u7684\u8bdd,\u4f7f\u7528 sh linkis-daemon.sh ps-cs , \u5bf9\u5176\u8fdb\u884c\u5355\u72ec\u542f\u52a8\\n- \u76ee\u524d\u65e5\u5fd7\u662f\u6709\u65f6\u95f4\u5907\u4efd\u7684\u8bdd,\u6709\u65f6\u5019\u4e4b\u524d\u7684\u9519\u8bef\u65e5\u5fd7\u627e\u4e0d\u5230\u7684\u8bdd,\u53ef\u80fd\u662f\u5907\u4efd\u5230\u5bf9\u5e94\u65e5\u671f\u7684\u6587\u4ef6\u5939\u91cc\u53bb\u4e86\\n- \u76ee\u524dlib/linkis-engineconn-plugins\u662f\u9ed8\u8ba4\u53ea\u6709spark/shell/python/hive,\u5982\u679c\u4f60\u60f3\u8981appconn,flink,sqoop\u5c31\u5206\u522b\u53bbdss\u4e2d,linkis\u548cexchangis\u4e2d\u83b7\u53d6\\n- \u914d\u7f6e\u6587\u4ef6\u7248\u672c\u68c0\u67e5\\n\\n```shell\\nlinkis.properties\u4e2d,flink\u770b\u6709\u6ca1\u6709\u4f7f\u7528\\nwds.linkis.spark.engine.version=3.0.1\\nwds.linkis.hive.engine.version=3.1.2\\nwds.linkis.flink.engine.version=1.13.2\\n```\\n\\n![image.png](./img/deploy2.png)\\n![image.png](./img/deploy3.png)\\n\\n#### \u9519\u8bef\u8bb0\u5f55\\n\\n1. \u7248\u672c\u4e0d\u517c\u5bb9,\u5982\u679c\u4f60\u9047\u5230\u4e86\u4e0b\u9762\u8fd9\u79cd\u9519\u8bef\u7684\u8bdd,\u662fscala\u7248\u672c\u662f\u5426\u6ca1\u6709\u5b8c\u5168\u4fdd\u6301\u4e00\u81f4,\u68c0\u67e5\u540e\u518d\u7f16\u8bd1\u4e00\u4e0b\u5373\u53ef.\\n\\n![1905943989d7782456c356b6ce0d72b.png](./img/deploy4.png)\\n\\n2. yarn\u914d\u7f6eActive\u8282\u70b9\u5730\u5740,\u5982\u679c\u662f\u914d\u7f6e\u4e86Standby\u5730\u5740\u7684\u8bdd,\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u9519\u8bef\\n\\n![1ca32f79d940016d72bf1393e4bccc8.jpg](./img/deploy5.jpg)\\n\\n3. \\n\\n### DSS\u90e8\u7f72\u6ce8\u610f\u70b9\\n\\n[\u5b98\u65b9\u5b89\u88c5\u6587\u6863](https://github.com/WeBankFinTech/DataSphereStudio-Doc/tree/main/zh_CN)\\n\\n#### config\u6587\u4ef6\u5939\\n\\ndb.sh: \u914d\u7f6edss\u7684\u6570\u636e\u5e93\\nconfig.sh\\n\\n```shell\\n-- dss\u7684\u5b89\u88c5\u8def\u5f84,\u6bd4\u5982\u6211\u8fd9\u91cc\u5c31\u5b9a\u4e49\u5728dss\u4e0b\u7684\u6587\u4ef6\u5939\u4e2d\\nDSS_INSTALL_HOME=/home/hadoop/application/dss/dss\\n```\\n\\n#### conf\u6587\u4ef6\u5939\\n\\ndss.properties\\n\\n```properties\\n# \u4e3b\u8981\u68c0\u67e5spark/hive\u7b49\u7248\u672c\u6709,\u5982\u679c\u6ca1\u6709,\u5c31\u8ffd\u52a0\u4e0a\\nwds.linkis.spark.engine.version=3.0.1\\nwds.linkis.hive.engine.version=3.1.2\\nwds.linkis.flink.engine.version=1.13.2\\n```\\n\\ndss-flow-execution-server.properties\\n\\n```properties\\n# \u4e3b\u8981\u68c0\u67e5spark/hive\u7b49\u7248\u672c\u6709,\u5982\u679c\u6ca1\u6709,\u5c31\u8ffd\u52a0\u4e0a\\nwds.linkis.spark.engine.version=3.0.1\\nwds.linkis.hive.engine.version=3.1.2\\nwds.linkis.flink.engine.version=1.13.2\\n```\\n\\n\u5982\u679c\u8c03\u5ea6\u662f\u60f3\u4f7f\u7528dolphinscheduler\u7684\u8bdd,\u8bf7\u53c2\u6570\u8fd9\u4e2apr\u6dfb\u52a0\u5bf9\u5e94\u7684spark/hive\u7248\u672c\\n[\u53c2\u8003pr](https://github.com/WeBankFinTech/DataSphereStudio/pull/914/files)\\n\\n#### dss-appconns\\n\\nexchangis,qualitis,streamis,visualis \u90fd\u5206\u522b\u8981\u4ece Exchangis , Qualitis , Streamis, Visualis \u7684\u9879\u76ee\u53bb\u83b7\u53d6\\n\\n#### \u5e38\u89c1\u95ee\u9898\u6ce8\u610f\u70b9\\n\\n- \u7531\u4e8edss\u6211\u4eec\u6574\u5408\u4e86schedulis,qualitis,exchangis\u7b49\u7ec4\u4ef6,\u6240\u6709\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u4f1a\u540c\u6b65\u8c03\u7528\u8fd9\u4e9b\u7ec4\u4ef6\u7684\u63a5\u53e3\u521b\u5efa,\u6240\u4ee5\u786e\u4fdddss_appconn_instance\u4e2d\u7684\u914d\u7f6e\u8def\u5f84\u90fd\u662f\u6b63\u786e\u7684,\u53ef\u4ee5\u8bbf\u95ee\u7684\\n- chrome\u6d4f\u89c8\u5668\u5efa\u8bae\u5185\u6838\u4f7f\u752810\u7248\u672c\u4e00\u4e0b\u7684,\u5426\u5219\u4f1a\u51fa\u73b0\u4f60\u53ef\u4ee5\u5355\u72ecScdulis,Qaulitis\u7b49\u7ec4\u4ef6,\u4f46\u662f\u5374\u65e0\u6cd5\u901a\u8fc7dss\u767b\u5f55\u6210\u529f\u95ee\u9898\\n- hostname\u548cip,\u5982\u679c\u662f\u4f7f\u7528ip\u8bbf\u95ee\u7684\u8bdd,\u6267\u884cappconn-install.sh\u5b89\u88c5\u7684\u65f6\u5019,\u4e5f\u786e\u4fdd\u662fip. \u5426\u5219\u4f1a\u51fa\u73b0\u8bbf\u95ee\u5176\u4ed6\u7ec4\u4ef6\u7684\u65f6\u5019,\u4f1a\u63d0\u793a\u6ca1\u6709\u767b\u5f55\u6216\u8005\u6ca1\u6709\u6743\u9650\\n\\n![ec4989a817646f785c59f6802d0fab2.jpg](./img/deploy6.jpg)\\n\\n\\n### Schedulis\u90e8\u7f72\u6ce8\u610f\u70b9\\n\\n [\u5b98\u65b9\u90e8\u7f72\u6587\u6863](https://github.com/WeBankFinTech/Schedulis/blob/master/docs/schedulis_deploy_cn.md)\\n\\n#### conf\u6587\u4ef6\u5939\\n\\nazkaban.properties\\n\\n```properties\\n# azkaban.jobtype.plugin.dir\u548cexecutor.global.properties\u8fd9\u91cc\u6700\u597d\u6539\u6210\u7edd\u5bf9\u8def\u5f84\\n# Azkaban JobTypes Plugins\\nazkaban.jobtype.plugin.dir=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_exec/plugins/jobtypes\\n\\n# Loader for projects\\nexecutor.global.properties=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_exec/conf/global.properties\\n\\n# \u5f15\u64ce\u7684\u7248\u672c\\nwds.linkis.spark.engine.version=3.0.1\\nwds.linkis.hive.engine.version=3.1.2\\nwds.linkis.flink.engine.version=1.13.2\\n```\\n\\n#### web\u6a21\u5757\\n\\nplugins/viewer/system/conf:  \u8fd9\u91cc\u9700\u8981\u914d\u7f6e\u6570\u636e\u5e93\u8fde\u63a5\u5730\u5740,\u4e0eschedulis\u4fdd\u6301\u4e00\u81f4\\nazkaban.properties:  \u7528\u6237\u53c2\u6570\u548c\u7cfb\u7edf\u7ba1\u7406\u7684\u914d\u7f6e\\n\\n```properties\\nviewer.plugins=system\\nviewer.plugin.dir=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_web/plugins/viewer\\n```\\n\\n#### \u5e38\u89c1\u95ee\u9898\u6ce8\u610f\u70b9\\n\\n\u5982\u679c\u51fa\u73b0\u8d44\u6e90\u6216\u8005web\u754c\u9762\u51fa\u73b0\u6ca1\u6709css\u7b49\u9759\u6001\u6587\u4ef6\u7684\u8bdd,\u5c06\u76f8\u5173\u7684\u8def\u5f84\u4fee\u6539\u4e3a\u7edd\u5bf9\u8def\u5f84\\n\u5982\u679c\u51fa\u73b0\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u4e0d\u5230\u7684\u95ee\u9898,\u4e5f\u53ef\u4ee5\u5c06\u8def\u5f84\u4fee\u6539\u4e3a\u7edd\u5bf9\u8def\u5f84\\n\u6bd4\u5982:\\n\\n```\\n### web\u6a21\u5757\u4e2d\\nweb.resource.dir=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_web/web/\\nviewer.plugin.dir=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_web/plugins/viewer\\n\\n### exec\u6a21\u5757\u4e2d\\nazkaban.jobtype.plugin.dir=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_exec/plugins/jobtypes\\nexecutor.global.properties=/home/hadoop/application/schedulis/apps/schedulis_0.7.0_exec/conf/global.properties\\n```\\n\\n### Qualitis\u90e8\u7f72\u6ce8\u610f\u70b9\\n\\n[\u5b98\u65b9\u90e8\u7f72\u6587\u6863](https://github.com/WeBankFinTech/Qualitis/blob/master/docs/zh_CN/ch1/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E6%89%8B%E5%86%8C%E2%80%94%E2%80%94%E5%8D%95%E6%9C%BA%E7%89%88.md)\\n\\n#### conf\u6587\u4ef6\u5939\\n\\napplication-dev.yml\\n\\n```properties\\n  # \u8fd9\u91cc\u914d\u7f6e\u6b63\u786e\u7684spark\u7248\u672c\\n  spark:\\n    application:\\n      name: IDE\\n      reparation: 50\\n    engine:\\n      name: spark\\n      version: 3.0.1\\n```\\n\\n### Exchangis\u90e8\u7f72\u6ce8\u610f\u70b9\\n\\n[\u5b98\u65b9\u90e8\u7f72\u6587\u6863](https://github.com/WeBankFinTech/Exchangis/blob/dev-1.0.0/docs/zh_CN/ch1/exchangis_deploy_cn.md)\\n\\n#### \u5e38\u89c1\u95ee\u9898\u6ce8\u610f\u70b9\\n\\n\u5982\u679c\u70b9\u51fb\u6570\u636e\u6e90\u51fa\u73b0\u6ca1\u6709\u53d1\u5e03\u7684\u9519\u8bef\u7684\u8bdd,\u53ef\u4ee5\u5c1d\u8bd5\u5c06linkis_ps_dm_datasource\u7684published_version_id\u503c\u4fee\u6539\u4e3a1(\u5982\u679c\u662fnull\u7684\u8bdd)\\n\\n### Visualis\\n\\n[\u5b98\u65b9\u90e8\u7f72\u6587\u6863](https://github.com/WeBankFinTech/Visualis/blob/master/visualis_docs/zh_CN/Visualis_deploy_doc_cn.md)\\n\\n#### \u5e38\u89c1\u95ee\u9898\u6ce8\u610f\u70b9\\n\\n\u5982\u679c\u51fa\u73b0\u9884\u89c8\u89c6\u56fe\u4e00\u81f4\u51fa\u4e0d\u6765\u7684\u8bdd,\u8bf7\u68c0\u67e5bin/phantomjs\u8be5\u6587\u4ef6\u662f\u5426\u5b8c\u6574\u4e0a\u4f20.\\n\u5982\u679c\u80fd\u770b\u5230\u5982\u4e0b\u7ed3\u679c\u7684\u8bdd,\u8bf4\u660e\u662f\u4e0a\u4f20\u662f\u5b8c\u6574\u7684\\n\\n```properties\\n./phantomjs -v\\n2.1.1\\n```\\n\\n### Streamis\\n\\n [\u5b98\u65b9\u90e8\u7f72\u6587\u6863](https://github.com/WeBankFinTech/Streamis/blob/main/docs/zh_CN/0.2.0/Streamis%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3.md)\\n\\n### dss-appconn\\n\\nqualitis,exchangis,streamis,visualis\u662f\u5206\u522b\u8981\u4ece\u5404\u79cd\u7684\u6a21\u5757\u4e2d\u7f16\u8bd1\u597d,copy\u5230dss\u4e0b\u7684dss-appconns\u4e2d,\u7136\u540e\u6267\u884cbin\u4e0b\u7684appconn-install.sh\u6765\u4e3a\u5404\u81ea\u7684\u7ec4\u4ef6\u8fdb\u884c\u5b89\u88c5\\n\u5982\u679c\u4f60\u5728\u6574\u5408\u7684\u65f6\u5019,\u5982\u679c\u5230\u4e00\u4e9b\u5982\u4e0b\u7684Sql\u811a\u672c\u9519\u8bef\u7684\u8bdd,\u8bf7\u68c0\u6d4b\u9519\u8bef\u7684Sql\u5468\u8fb9\u662f\u5426\u6709\u6ce8\u91ca,\u5982\u679c\u6709\u7684\u8bdd,\u5220\u6389\u6ce8\u91ca\u518d\u91cd\u65b0appconn-install\u4e00\u904d\u5c1d\u8bd5\\n![903ceec2f69fc1c7a2be5f309f69726.png](./img/deploy7.png)\\n\u6bd4\u5982qualitis\u4e3e\u4f8b,\u4e0b\u9762\u7684ip\u548chost\u7aef\u53e3,\u6839\u636e\u81ea\u5df1\u5177\u4f53\u4f7f\u7528\u7684\u6765\\n\\n```\\nqualitis\\n172.21.129.78\\n8090\\n```\\n\\n## Nginx\u90e8\u7f72\u4e3e\u4f8b\\n\\n linkis.conf:   dss/linkis/visualis \u524d\u7aef\\n exchangis.conf:  exchangis\u524d\u7aef\\n streamis.conf:      streamis\u524d\u7aef\\n Schedulis\u548cQualitis\u662f\u5206\u522b\u5728\u81ea\u5df1\u9879\u76ee\u4e2d.\\n linkis/visualis\u9700\u8981\u5c06\u524d\u7aef\u6253\u5305\u51fa\u6765\u7684dist\u6216\u8005build\u5728\u8fd9\u91cc\u4fee\u6539\u4e3a\u5bf9\u5e94\u7ec4\u4ef6\u7684\u540d\u5b57\\n![image.png](./img/deploy8.png)\\n![image.png](./img/deploy9.png)\\n![image.png](./img/deploy10.png)\\n\\n#### linkis.conf\\n\\n```\\nserver {\\nlisten       8089;# \u8bbf\u95ee\u7aef\u53e3\\nserver_name  localhost;\\n#charset koi8-r;\\n#access_log  /var/log/nginx/host.access.log  main;\\n\\nlocation /dss/visualis {\\n# \u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u524d\u7aef\u8def\u5f84\\nroot   /home/hadoop/application/webs; # \u9759\u6001\u6587\u4ef6\u76ee\u5f55\\nautoindex on;\\n}\\n\\nlocation /dss/linkis {\\n# \u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u524d\u7aef\u8def\u5f84\\nroot   /home/hadoop/application/webs; # linkis\u7ba1\u7406\u53f0\u7684\u9759\u6001\u6587\u4ef6\u76ee\u5f55\\nautoindex on;\\n}\\n\\nlocation / {\\n# \u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u524d\u7aef\u8def\u5f84\\nroot   /home/hadoop/application/webs/dist; # \u9759\u6001\u6587\u4ef6\u76ee\u5f55\\n#root /home/hadoop/dss/web/dss/linkis;\\nindex  index.html index.html;\\n}\\n\\nlocation /ws {\\nproxy_pass http://172.21.129.210:9001;#\u540e\u7aefLinkis\u7684\u5730\u5740\\nproxy_http_version 1.1;\\nproxy_set_header Upgrade $http_upgrade;\\nproxy_set_header Connection upgrade;\\n}\\n\\nlocation /api {\\nproxy_pass http://172.21.129.210:9001; #\u540e\u7aefLinkis\u7684\u5730\u5740\\nproxy_set_header Host $host;\\nproxy_set_header X-Real-IP $remote_addr;\\nproxy_set_header x_real_ipP $remote_addr;\\nproxy_set_header remote_addr $remote_addr;\\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\nproxy_http_version 1.1;\\nproxy_connect_timeout 4s;\\nproxy_read_timeout 600s;\\nproxy_send_timeout 12s;\\nproxy_set_header Upgrade $http_upgrade;\\nproxy_set_header Connection upgrade;\\n}\\n\\n#error_page  404              /404.html;\\n# redirect server error pages to the static page /50x.html\\n#\\nerror_page   500 502 503 504  /50x.html;\\nlocation = /50x.html {\\nroot   /usr/share/nginx/html;\\n}\\n}\\n\\n```\\n\\n#### exchangis.conf\\n\\n```\\nserver {\\n            listen       9800; # \u8bbf\u95ee\u7aef\u53e3 \u5982\u679c\u8be5\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u5219\u9700\u8981\u4fee\u6539\\n            server_name  localhost;\\n            #charset koi8-r;\\n            #access_log  /var/log/nginx/host.access.log  main;\\n            location / {\\n            # \u4fee\u6539\u4e3a\u81ea\u5df1\u8def\u5f84\\n            root   /home/hadoop/application/webs/exchangis/dist/dist; # Exchangis \u524d\u7aef\u90e8\u7f72\u76ee\u5f55\\n            autoindex on;\\n            }\\n\\n            location /api {\\n            proxy_pass http://172.21.129.210:9001;  # \u540e\u7aefLinkis\u7684\u5730\u5740\uff0c\u9700\u8981\u4fee\u6539\\n            proxy_set_header Host $host;\\n            proxy_set_header X-Real-IP $remote_addr;\\n            proxy_set_header x_real_ipP $remote_addr;\\n            proxy_set_header remote_addr $remote_addr;\\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n            proxy_http_version 1.1;\\n            proxy_connect_timeout 4s;\\n            proxy_read_timeout 600s;\\n            proxy_send_timeout 12s;\\n            proxy_set_header Upgrade $http_upgrade;\\n            proxy_set_header Connection upgrade;\\n            }\\n\\n            #error_page  404              /404.html;\\n            # redirect server error pages to the static page /50x.html\\n            #\\n            error_page   500 502 503 504  /50x.html;\\n            location = /50x.html {\\n            root   /usr/share/nginx/html;\\n            }\\n        }\\n\\n```\\n\\n#### streamis.conf\\n\\n```\\nserver {\\n    listen       9088;# \u8bbf\u95ee\u7aef\u53e3 \u5982\u679c\u8be5\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u5219\u9700\u8981\u4fee\u6539\\n    server_name  localhost;\\n    location / {\\n    # \u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u8def\u5f84\\n        root   /home/hadoop/application/webs/streamis/dist/dist; # \u8bf7\u4fee\u6539\u6210Streamis\u524d\u7aef\u7684\u9759\u6001\u6587\u4ef6\u76ee\u5f55\\n        index  index.html index.html;\\n    }\\n    location /api {\\n    proxy_pass http://172.21.129.210:9001; #\u540e\u7aefLinkis\u7684\u5730\u5740,\u8bf7\u4fee\u6539\u6210Linkis\u7f51\u5173\u7684ip\u548c\u7aef\u53e3\\n    proxy_set_header Host $host;\\n    proxy_set_header X-Real-IP $remote_addr;\\n    proxy_set_header x_real_ipP $remote_addr;\\n    proxy_set_header remote_addr $remote_addr;\\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n    proxy_http_version 1.1;\\n    proxy_connect_timeout 4s;\\n    proxy_read_timeout 600s;\\n    proxy_send_timeout 12s;\\n    proxy_set_header Upgrade $http_upgrade;\\n    proxy_set_header Connection upgrade;\\n    }\\n\\n    #error_page  404              /404.html;\\n    # redirect server error pages to the static page /50x.html\\n    #\\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n    root   /usr/share/nginx/html;\\n    }\\n}\\n```"},{"id":"/2022/07/16/deploy-linkis-with-kubernetes","metadata":{"permalink":"/zh-CN/blog/2022/07/16/deploy-linkis-with-kubernetes","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-07-16-deploy-linkis-with-kubernetes.md","title":"\u5982\u4f55\u8fdb\u884c Kubernetes \u90e8\u7f72","description":"1. \u4f9d\u8d56\u7248\u672c","date":"2022-07-16T00:00:00.000Z","formattedDate":"2022\u5e747\u670816\u65e5","tags":[{"label":"github","permalink":"/zh-CN/blog/tags/github"}],"readingTime":2.535,"hasTruncateMarker":false,"authors":[{"name":"jacktao","title":"\u5f00\u6e90\u8d21\u732e\u8005","url":"https://github.com/jacktao007","imageURL":"https://avatars.githubusercontent.com/u/1073365?v=4","key":"jacktao"}],"frontMatter":{"title":"\u5982\u4f55\u8fdb\u884c Kubernetes \u90e8\u7f72","authors":["jacktao"],"tags":["github"]},"prevItem":{"title":"Linkis1.1.1 \u9002\u914d hadoop3.1.1 \u4ee5\u53ca\u90e8\u7f72\u5176\u4ed6\u7cfb\u7edf\u670d\u52a1","permalink":"/zh-CN/blog/2022/08/08/linkis111-compile-integration"},"nextItem":{"title":"\u5982\u4f55\u7f16\u5199 Github Action","permalink":"/zh-CN/blog/2022/07/04/how-to-add-auto-bot"}},"content":"## 1. \u4f9d\u8d56\u7248\u672c\\n\\n- kind github\uff1ahttps://github.com/kubernetes-sigs/kind\\n\\n- kind\u5b98\u7f51\uff1a[kind.sigs.k8s.io/](https://kind.sigs.k8s.io/)\\n\\n\u7248\u672c:\\n\\n- kind 0.14.0\\n- docker  20.10.17\\n- node v14.19.3\\n\\n\u6ce8\u610f\uff1a\\n\\n- 1.\u5148\u786e\u4fdd\u524d\u540e\u7aef\u80fd\u591f\u6b63\u5e38\u7f16\u8bd1\\n\\n- 2.\u786e\u4fdd\u7ec4\u4ef6\u4f9d\u8d56\u7248\u672c\\n\\n- 3.kind\u662f\u7528docker\u5bb9\u5668\u6a21\u62df\u8282\u70b9\u7684 \u673a\u5668\u91cd\u542f\u56de\u6765\u5bb9\u5668\u90fd\u53d8\u4e86 \u8c03\u5ea6\u5668\u5c31\u4e0d\u5de5\u4f5c\u4e86 \u8fd9\u4e2a\u662fkind\u7684limitation,\u5b98\u65b9\u6587\u6863\u6709\u8be6\u7ec6\u8bf4\u660e\u3002\\n\\n## 2.\u5b89\u88c5docker\\n\\n### 2.1 \u5b89\u88c5\u6559\u7a0b\\n\\n```\\nsudo yum install -y yum-utils device-mapper-persistent-data lvm2\\n\\nsudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\\n\\nsudo sed -i \'s+download.docker.com+mirrors.aliyun.com/docker-ce+\' /etc/yum.repos.d/docker-ce.repo\\n\\nsudo yum makecache fast\\n\\nsudo yum -y install docker-ce\\n\\nsystemctl start docker\\n\\nsystemctl enable docker\\n```\\n\\n\\n\\n### 2.2 \u8bbe\u7f6e\u56fd\u5185\u955c\u50cf\\n\\n```\\nvi /etc/docker/daemon.json\\n\\n{\\n\\n\\"registry-mirrors\\": [\\"http://hub-mirror.c.163.com\\"],\\n\\n\\"insecure-registries\\": [\\"https://registry.mydomain.com\\",\\"http://hub-mirror.c.163.com\\"]\\n\\n}\\n```\\n\\n\\n\\n## 3. \u5b89\u88c5kind\\n\\n\uff081\uff09\u624b\u5de5\u4e0b\u8f7dkind\u4e8c\u8fdb\u5236\\n\\nhttps://github.com/kubernetes-sigs/kind/releases\\n\\n\uff082\uff09\u5b89\u88c5kind\u4e8c\u8fdb\u5236\\n\\n```\\nchmod +x ./kind\\n\\nmv kind-linux-amd64 /usr/bin/kind\\n```\\n\\n\\n\\n## 4. \u5b89\u88c5JDK \u548c Maven \\n\\n\uff081\uff09\u53c2\u8003\u901a\u7528\u5b89\u88c5\u6559\u7a0b\uff0c\u5b89\u88c5\u5982\u4e0b\u7ec4\u4ef6\\n\\njdk 1.8\\n\\nmavne 3.5+\\n\\n## 5. \u5b89\u88c5NodeJS\\n\\n\uff081\uff09\u5b89\u88c5\u7248\u672c\\n\\nnode v14.19.3\\n\\n\uff082\uff09\u5b89\u88c5nvm\\n\\n```\\nexport http_proxy=http://10.0.0.150:7890\\n\\nexport https_proxy=http://10.0.0.150:7890\\n\\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\\n\\nexport NVM_DIR=\\"$HOME/.nvm\\"\\n\\n[ -s \\"$NVM_DIR/nvm.sh\\" ] && \\\\. \\"$NVM_DIR/nvm.sh\\"  # This loads nvm\\n\\n[ -s \\"$NVM_DIR/bash_completion\\" ] && \\\\. \\"$NVM_DIR/bash_completion\\"  # This loads nvm bash_completion\\n```\\n\\n\\n\\n\uff083\uff09\u5b89\u88c5nodejs\\n\\n```\\nnvm ls-remote\\n\\nnvm install v14.19.3\\n```\\n\\n\\n\\n\uff084\uff09\u914d\u7f6eNPM\\n\\n```\\nnpm config set registry https://registry.npmmirror.com\\n\\nnpm config set sass_binary_site https://registry.npmmirror.com/binary.html?path=node-sass/\\n```\\n\\n\\n\\n\uff085\uff09\u7f16\u8bd1\u524d\u7aef\\n\\n```\\nnpm install -g yarn\\n\\nyarn\\n\\nyarn build\\n\\nyarn \\n```\\n\\n\\n\\n## 6. \u7f16\u8bd1linkis\\n\\n```\\n\\\\# 1. When compiling for the first time, execute the following command first\\n\\n./mvnw -N install\\n\\n\\\\# 2. make the linkis distribution package\\n\\n\\\\# - Option 1: make the linkis distribution package only\\n\\n./mvnw clean install -Dmaven.javadoc.skip=true -Dmaven.test.skip=true\\n\\n\\\\# - Option 2: make the linkis distribution package and docker image\\n\\n./mvnw clean install -Pdocker -Dmaven.javadoc.skip=true -Dmaven.test.skip=true\\n\\n\\\\# - Option 3: linkis distribution package and docker image (included web)\\n\\n./mvnw clean install -Pdocker -Dmaven.javadoc.skip=true -Dmaven.test.skip=true -Dlinkis.build.web=true\\n```\\n\\n\\n\\n\\n\\n## 7. \u521b\u5efa\u96c6\u7fa4 \\n```\\ndos2unix ./linkis-dist/helm/scripts/*.sh\\n\\n./linkis-dist/helm/scripts/create-test-kind.sh\\n```\\n\\n\\n\\n\\n\\n## 8. \u5b89\u88c5helm charts\\n\\n```\\n ./scripts/install-charts.sh linkis linkis-demo\\n```\\n\\n\\n\\n\\n\\n## 9.\u8bbf\u95eelinkis\u9875\u9762\\n\\n```\\nkubectl port-forward -n linkis  --address=0.0.0.0 service/linkis-demo-web 8087:8087\\n\\nhttp://10.0.2.101:8087\\n```\\n\\n\\n\\n\\n\\n## 10.\u4f7f\u7528Linkis\u5ba2\u6237\u7aef\u6d4b\u8bd5\\n\\n```\\nkubectl -n linkis exec -it linkis-demo-ps-publicservice-77d7685d9-f59ht -- bash\\n./linkis-cli -engineType shell-1 -codeType shell -code \\"echo \\\\\\"hello\\\\\\" \\"  -submitUser hadoop -proxyUser hadoop\\n```\\n\\n\\n\\n## 11.\u5b89\u88c5kubectl\\n\\n```\\ncat <<EOF > /etc/yum.repos.d/kubernetes.repo\\n[kubernetes]\\nname=Kubernetes\\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\\nenabled=1\\ngpgcheck=1\\nrepo_gpgcheck=1\\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\\nEOF\\n\\nyum install -y --nogpgcheck kubectl\\n\\nkubectl config view\xa0\xa0\u67e5\u770b\u96c6\u7fa4\u4fe1\u606f\\nkubectl config get-contexts\xa0\xa0\u5f97\u5230\u6240\u6709\u96c6\u7fa4context\u5bf9\u8c61\u4fe1\u606f\\nkubectl cluster-info\xa0\xa0\u67e5\u770b\u5f53\u524d\u96c6\u7fa4\u60c5\u51b5\\n```"},{"id":"/2022/07/04/how-to-add-auto-bot","metadata":{"permalink":"/zh-CN/blog/2022/07/04/how-to-add-auto-bot","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-07-04-how-to-add-auto-bot.md","title":"\u5982\u4f55\u7f16\u5199 Github Action","description":"1 \u6982\u8ff0","date":"2022-07-04T00:00:00.000Z","formattedDate":"2022\u5e747\u67084\u65e5","tags":[{"label":"github","permalink":"/zh-CN/blog/tags/github"}],"readingTime":12.075,"hasTruncateMarker":false,"authors":[{"name":"BeaconTown","title":"\u5b66\u751f","url":"https://github.com/Beacontownfc/","imageURL":"https://avatars.githubusercontent.com/u/89081023?s=40&v=4","key":"BeaconTown"}],"frontMatter":{"title":"\u5982\u4f55\u7f16\u5199 Github Action","authors":["BeaconTown"],"tags":["github"]},"prevItem":{"title":"\u5982\u4f55\u8fdb\u884c Kubernetes \u90e8\u7f72","permalink":"/zh-CN/blog/2022/07/16/deploy-linkis-with-kubernetes"},"nextItem":{"title":"Apache Linkis Meet up","permalink":"/zh-CN/blog/2022/06/09/meetup-content-review"}},"content":"## 1 \u6982\u8ff0\\n\u5927\u5bb6\u77e5\u9053\uff0c[\u6301\u7eed\u96c6\u6210](#21-\u4ec0\u4e48\u662f\u6301\u7eed\u96c6\u6210)\u7531\u5f88\u591a\u64cd\u4f5c\u7ec4\u6210\uff0c\u6bd4\u5982\u6293\u53d6\u4ee3\u7801\u3001\u8fd0\u884c\u6d4b\u8bd5\u3001\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u53d1\u5e03\u5230\u7b2c\u4e09\u65b9\u670d\u52a1\u7b49\u7b49\u3002gitHub \u628a\u8fd9\u4e9b\u64cd\u4f5c\u5c31\u79f0\u4e3a actions\u3002\u5f88\u591a\u64cd\u4f5c\u5728\u4e0d\u540c\u9879\u76ee\u91cc\u9762\u662f\u7c7b\u4f3c\u7684\uff0c\u5b8c\u5168\u53ef\u4ee5\u5171\u4eab\u3002github\u6ce8\u610f\u5230\u4e86\u8fd9\u4e00\u70b9\uff0c\u60f3\u51fa\u4e86\u4e00\u4e2a\u5f88\u5999\u7684\u70b9\u5b50\uff0c\u5141\u8bb8\u5f00\u53d1\u8005\u628a\u6bcf\u4e2a\u64cd\u4f5c\u5199\u6210\u72ec\u7acb\u7684\u811a\u672c\u6587\u4ef6\uff0c\u5b58\u653e\u5230\u4ee3\u7801\u4ed3\u5e93\uff0c\u4f7f\u5f97\u5176\u4ed6\u5f00\u53d1\u8005\u53ef\u4ee5\u5f15\u7528\u3002\u5982\u679c\u4f60\u9700\u8981\u67d0\u4e2a action\uff0c\u4e0d\u5fc5\u81ea\u5df1\u5199\u590d\u6742\u7684\u811a\u672c\uff0c\u76f4\u63a5\u5f15\u7528\u4ed6\u4eba\u5199\u597d\u7684 action \u5373\u53ef\uff0c\u6574\u4e2a\u6301\u7eed\u96c6\u6210\u8fc7\u7a0b\uff0c\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a actions \u7684\u7ec4\u5408\u3002\u8fd9\u5c31\u662fgitHub actions \u6700\u7279\u522b\u7684\u5730\u65b9\u3002\\n\\nGithub\u4e3a\u5e7f\u5927\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e00\u4e2a[github action\u5e02\u573a](https://github.com/marketplace)\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u5e02\u573a\u4e2d\u627e\u5230\u6211\u4eec\u60f3\u8981\u7684github action\u5e76\u914d\u7f6e\u5230\u4ed3\u5e93\u7684`workflow`\u4e2d\u5b9e\u73b0\u81ea\u52a8\u5316\u64cd\u4f5c\uff0c\u5f53\u7136\u8fd9\u4e2a\u5e02\u573a\u80fd\u63d0\u4f9b\u7684github action\u6709\u9650\uff0c\u6709\u4e9b\u60c5\u51b5\u4e0b\u627e\u4e0d\u5230\u80fd\u6ee1\u8db3\u6211\u4eec\u9700\u6c42\u7684github action\uff0c\u672c\u7bc7\u535a\u5ba2\u5728\u540e\u9762\u6211\u4e5f\u4f1a\u6559\u5927\u5bb6\u5982\u4f55\u81ea\u5df1\u7f16\u5199github action\u3002\\n\\n## 2 \u4e00\u4e9b\u540d\u8bcd\u672f\u8bed\\n#### 2.1 \u4ec0\u4e48\u662f\u6301\u7eed\u96c6\u6210\\n\u7b80\u5355\u8bf4\u5c31\u662f\u81ea\u52a8\u5316\u7a0b\u5e8f\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u524d\u7aef\u7a0b\u5e8f\u5458\u6bcf\u6b21\u63d0\u4ea4\u4ee3\u7801\u5230 Github \u7684\u4ed3\u5e93\u540e\uff0cGithub \u90fd\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u673a\uff08Mac / Windows / Linux \u4efb\u6211\u4eec\u9009\uff09\uff0c\u6765\u6267\u884c\u4e00\u6bb5\u6216\u591a\u6bb5\u6307\u4ee4\uff08\u7531\u6211\u4eec\u5b9a\uff09\uff0c\u4f8b\u5982\uff1a\\n\\n```bash\\nnpm install\\nnpm run build\\n```\\n\\n#### 2.2 yaml\u662f\u4ec0\u4e48\\n\u6211\u4eec\u96c6\u6210github action\u7684\u505a\u6cd5\uff0c\u5c31\u662f\u5728\u6211\u4eec\u4ed3\u5e93\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a `.github/workflow`\u76ee\u5f55\uff0c\u91cc\u9762\u653e\u4e00\u4e2a `*.yaml`\u6587\u4ef6\u2014\u2014\u8fd9\u4e2ayaml\u6587\u4ef6\u5c31\u662f\u6211\u4eec\u914d\u7f6egithub action\u6240\u7528\u7684\u6587\u4ef6\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u5bb9\u6613\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5bf9\u4e8e\u4e0d\u719f\u6089yaml\u7684\u7528\u6237\u53ef\u4ee5[\u53c2\u8003\u6b64\u5904](https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes)\u3002\\n\\n## 3 \u5f00\u59cb\u7f16\u5199\u7b2c\u4e00\u4e2aworkflow\\n#### 3.1 \u5982\u4f55\u81ea\u5b9aworkflow\u7684\u540d\u5b57\\nWorkflow\u7684\u540d\u79f0\uff0cgithub\u5728\u5b58\u50a8\u5e93\u7684Action\u9875\u9762\u4e0a\u663e\u793aWorkflow\u7684\u540d\u79f0\u3002\u5982\u679c\u6211\u4eec\u7701\u7565 name\uff0c\u5219github\u4f1a\u5c06\u5176\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u4e8e\u5b58\u50a8\u5e93\u6839\u76ee\u5f55\u7684\u5de5\u4f5c\u6d41\u6587\u4ef6\u8def\u5f84\u3002\\n```yaml\\nname: \\n  Say Hello\\n```\\n\\n#### 3.2 \u5982\u4f55\u81ea\u5b9aworkflow\u7684\u89e6\u53d1\u4e8b\u4ef6\\n\u4e8b\u4ef6\u6709\u5f88\u591a\uff0c\u4f8b\u5982\uff1a\u7528\u6237\u63d0\u4ea4pull request\u5230\u4ed3\u5e93\u3001\u7528\u6237\u7ed9\u4ed3\u5e93\u63d0\u4ea4issue\u6216\u8005\u7528\u6237\u5173\u95edissue\u7b49\uff0c\u6211\u4eec\u5e0c\u671b\u67d0\u4e9b\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u81ea\u52a8\u6267\u884cworkflow\uff0c\u8fd9\u5c31\u9700\u8981\u5b9a\u4e49\u89e6\u53d1\u4e8b\u4ef6\u4e86\u3002\u4e0b\u9762\u662f\u81ea\u5b9a\u89e6\u53d1\u4e8b\u4ef6\u7684\u4e00\u4e2a\u4f8b\u5b50\uff1a\\n```yml\\nname: \\n  Say Hello\\non: \\n  pull_request\\n```\\n\u4e0a\u9762\u7684\u4ee3\u7801\u80fd\u5728\u7528\u6237\u63d0\u4ea4pull request\u65f6\u89e6\u53d1workflow\uff0c\u5bf9\u4e8e\u591a\u4e2a\u4e8b\u4ef6\u6211\u4eec\u7528\u65b9\u62ec\u53f7\u62ec\u8d77\u6765\uff0c\u4f8b\u5982\uff1a\\n```yml\\nname: \\n  Say Hello\\non: \\n  [pull_request,pull]\\n```\\n\u5f53\u7136\u6211\u4eec\u5e0c\u671b\u89e6\u53d1\u4e8b\u4ef6\u80fd\u66f4\u5177\u4f53\u4e00\u4e9b\uff0c\u5c31\u6bd4\u5982\u5f53\u4e00\u4e2apull request\u5173\u95ed\u6216\u91cd\u65b0\u5f00\u542f\u65f6\u89e6\u53d1workflow\uff1a\\n```yml\\nname: \\n  Say Hello\\non: \\n  pull_request:\\n    type: \\n      [reopend,closed]\\n```\\n\u60f3\u4e86\u89e3\u66f4\u591a\u7684\u89e6\u53d1\u4e8b\u4ef6\u8bf7\u53c2\u8003\u6b64\u5904\u7684[\u6587\u6863](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#about-workflow-events)\u3002\\n\\n#### 3.3 \u5982\u4f55\u5b9a\u4e49\u4e00\u4e2ajob\\n\u4e00\u4e2aWorkflow\u7531\u4e00\u4e2a\u6216\u591a\u4e2ajobs\u6784\u6210\uff0c\u542b\u4e49\u662f\u4e00\u6b21\u6301\u7eed\u96c6\u6210\u7684\u8fd0\u884c\uff0c\u53ef\u4ee5\u5b8c\u6210\u591a\u4e2a\u4efb\u52a1\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002\\n```yml\\nname: \\n  Say Hello\\non: \\n  pull_request\\njobs:\\n  my_first_job:\\n    name: My first job\\n  my_second_job:\\n    name: My second job\\n```\\n\u6bcf\u4e2ajob\u5fc5\u987b\u5177\u6709\u4e00\u4e2aid\u4e0e\u4e4b\u5173\u8054\u3002\u4e0a\u9762\u7684`my_first_job`\u548c`my_second_job`\u5c31\u662fjob\u7684id\u3002\\n\\n#### 3.4 \u5982\u4f55\u5b9a\u4e49 job \u7684\u8fd0\u884c\u73af\u5883\\n\u6307\u5b9a\u8fd0\u884cjob\u7684\u8fd0\u884c\u73af\u5883\uff0cgithub\u4e0a\u53ef\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e3a\uff1a\\n- Windows\\n- macos\\n- linux\\n\\n\u4e0b\u9762\u662f\u6307\u5b9a\u8fd0\u884c\u73af\u5883\u7684\u4e00\u4e2a\u4f8b\u5b50\uff1a\\n```yml\\n# \u53d7\u9650\u4e8e\u7bc7\u5e45\uff0c\u524d\u9762\u4ee3\u7801\u90e8\u5206\u7701\u7565\\njobs:\\n  my_first_job:\\n    name: My first job\\n  runs-on: macos-10.15\\n```\\n\\n#### 3.5 step\u7684\u4f7f\u7528\\n\u6bcf\u4e2ajob\u7531\u591a\u4e2astep\u6784\u6210\uff0c\u5b83\u4f1a\u4ece\u4e0a\u81f3\u4e0b\u4f9d\u6b21\u6267\u884c\u3002step\u53ef\u4ee5\u8fd0\u884ccommands\uff08\u5982linxu\u547d\u4ee4\uff09\u4ee5\u53caaction\u3002\\n\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u51fahello world\u7684\u4f8b\u5b50\uff1a\\n```yml\\n# \u53d7\u9650\u4e8e\u7bc7\u5e45\uff0c\u524d\u9762\u4ee3\u7801\u90e8\u5206\u7701\u7565\\njobs:\\n  my_first_job:\\n    name: My first job\\n  runs-on: macos-10.15\\n  step:\\n    - name: Print a greeting\\n    # \u5b9a\u4e49 step \u7684\u73af\u5883\u53d8\u91cf\\n      env:\\n        FIRST_WORD: Hello\\n        SECOND_WORD: WORD\\n      # \u8fd0\u884c\u6307\u4ee4\uff1a\u8f93\u51fa\u73af\u5883\u53d8\u91cf\\n      run: |\\n        echo $FIRST_WORD $SECOND_WORD.\\n```\\n\u63a5\u4e0b\u6765\u662faction\u7684\u4f7f\u7528\uff0c\u8fd9\u91cc\u7684action\u5176\u5b9e\u5c31\u662f\u547d\u4ee4\uff0c\u6bd4\u5982github\u5b98\u65b9\u7ed9\u4e86\u6211\u4eec\u4e00\u4e9b[\u9ed8\u8ba4\u7684\u547d\u4ee4](https://github.com/marketplace?type=actions&query=actions)\uff0c\u6211\u4e48\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e9b\u547d\u4ee4\u6765\u51cf\u5c11\u4ed3\u5e93\u4e2dworkflow\u7684\u4ee3\u7801\u91cf\u3002\u6700\u5e38\u89c1\u7684action\u662f[checkout](https://link.zhihu.com/?target=https%3A//github.com/marketplace/actions/checkout)\uff0c\u5b83\u53ef\u4ee5\u628a\u4ed3\u5e93\u4e2d\u6700\u65b0\u7684\u4ee3\u7801\u514b\u9686\u5230Workflow\u7684\u5de5\u4f5c\u533a\uff1a\\n```yml\\n# \u53d7\u9650\u4e8e\u7bc7\u5e45\uff0c\u524d\u9762\u4ee3\u7801\u90e8\u5206\u7701\u7565\\n  step:\\n    - name: Check out git repository \\n      uses: actions/checkout@v2\\n```\\n\u6709\u4e9baction\u4f1a\u9700\u8981\u4f20\u5165\u989d\u5916\u7684\u53c2\u6570\uff0c\u4e00\u822c\u4f7f\u7528with\u6765\u8bbe\u7f6e\u53c2\u6570\u503c\uff1a\\n```yml\\n# \u53d7\u9650\u4e8e\u7bc7\u5e45\uff0c\u524d\u9762\u4ee3\u7801\u90e8\u5206\u7701\u7565\\n  step:\\n    - name: Check out git repository \\n      uses: actions/checkout@v2\\n      uses: actions/setup-node@v2.2.0\\n        with:\\n          node-version: 14\\n```\\n\\n## 4 \u5982\u4f55\u7f16\u5199\u81ea\u5df1\u7684action\\n#### 4.1 action.yml\u7684\u914d\u7f6e\\n\u5f53\u5728github action\u5e02\u573a\u4e0a\u627e\u4e0d\u5230\u6211\u4eec\u60f3\u8981\u7684action\u65f6\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u52a8\u624b\u7f16\u5199\u6ee1\u8db3\u81ea\u5df1\u9700\u6c42\u7684action\u3002\u81ea\u5b9aaction\u9700\u8981\u5728`.github`\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a`actions`\u76ee\u5f55\uff0c\u7136\u540e\u518d\u65b0\u5efa\u4e00\u4e2a\u81ea\u5b9a\u7684action\u540d\u79f0\u7684\u76ee\u5f55\u3002\u6bcf\u4e2aaction\u90fd\u9700\u8981\u6709\u4e00\u4e2aaction.yml\u7684\u914d\u7f6e\u6587\u4ef6\uff0caction.yml\u7684runs\u6bb5\u5236\u5b9a\u4e86\u64cd\u4f5c\u7684\u542f\u52a8\u65b9\u5f0f\u3002\u542f\u52a8\u65b9\u5f0f\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\uff1a\u8fd0\u884c Node.js\u811a\u672c\uff0c\u8fd0\u884cDocker\u955c\u50cf\uff0c\u8fd0\u884c\u7ec4\u5408\u811a\u672c\u3002\u4e0b\u9762\u8bf4\u660eaction.yml\u7684\u5e38\u7528\u53c2\u6570\uff1a\\n- name: \u81ea\u5b9aaction\u7684\u540d\u5b57\\n- description: \u5bf9action\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u6216\u8005\u8f93\u51fa\u8fdb\u884c\u58f0\u660e\\n- inputs: \u81ea\u5b9a\u9700\u8981\u8f93\u5165\u7684\u53c2\u6570\\n- outputs: \u8f93\u51fa\u7684\u53d8\u91cf\\n- runs: \u542f\u52a8\u65b9\u5f0f\\n\\n\u4e0b\u9762\u662f\u4e00\u4e2aaction.yml\u7684\u914d\u7f6e\u4f8b\u5b50\uff1a\\n\\n```yml\\nname: \\"example action\\"\\n\\ndescription: \\"This is an example action\\"\\n\\ninputs:\\n  param1:\\n    description: \\"The first param of this action\\"\\n    required: true  #\u5fc5\u4f20\u53c2\u6570\u5fc5\u987b\u8981\u8bbe\u7f6erequired\u4e3atrue\\n\\n  param2:\\n    description: \\"The second param of this action\\"\\n    required: true\\n\\noutputs:\\n  out1:\\n    description: \\"The outputs of this action\\"\\n\\nruns:\\n  using: node16\\n  main: dist/index.js\\n  post: dist/index.js\\n```\\n\u5c06runs.using\u8bbe\u7f6e\u4e3anode16\u6216node12\uff0c\u5c31\u53ef\u4ee5\u6307\u5b9a\u4e3a\u542f\u52a8Node.js\u811a\u672c\u3002\u7528main\u5b57\u6bb5\u6307\u5b9a\u811a\u672c\u7684\u5165\u53e3\u70b9\u3002\u542f\u52a8\u7684\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u76f4\u63a5\u8fd0\u884cnode main.js\uff0c\u6240\u4ee5\u5e76\u4e0d\u4f1a\u4ece package.json\u4e2d\u5b89\u88c5\u4f9d\u8d56\u3002\u56e0\u6b64\uff0c\u5728\u5f00\u53d1\u65f6\uff0c\u4e00\u822c\u90fd\u4f1a\u4f7f\u7528\u6253\u5305\u5de5\u5177\u5c06\u4f9d\u8d56\u9879\u6253\u5305\u5230\u4e00\u8d77\uff0c\u8f93\u51fa\u4e00\u4e2a\u5355\u72ec\u7684js\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u6587\u4ef6\u4f5c\u4e3a\u5165\u53e3\u70b9\u3002post\u5b57\u6bb5\u53ef\u4ee5\u6307\u5b9a\u6e05\u7406\u5de5\u4f5c\uff0c\u8fd9\u91cc\u7684\u5185\u5bb9\u5c06\u4f1a\u5728 workflow \u7ed3\u675f\u65f6\u8fd0\u884c\u3002\\n\\n#### 4.2\u4f7f\u7528Docker\u955c\u50cf\\n\u82e5\u4f7f\u7528Docker\uff0c\u6211\u4eec\u9700\u8981\u628aaction.yml\u4e2d\u7684runs\u4fee\u6539\u4e3a\uff1a\\n```yml\\nruns:\\n  using: docker\\n  image: Dockerfile\\n```\\nimage \u6307\u5b9a\u955c\u50cf\u542f\u52a8\u9700\u8981\u7684Dockerfile\uff0c\u8fd9\u91cc\u6307\u5b9a\u4e3a\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684Dockerfile\u6587\u4ef6\uff0c\u5728 Dockerfile\u4e2d\uff0c\u7528ENTRYPOINT\u6216\u8005CMD\u6307\u5b9a\u542f\u52a8\u7684\u811a\u672c\u3002\u6bd4\u5982\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u7528python\u8fd0\u884c\u811a\u672c\u7684\u7a0b\u5e8f\uff1a\\n```docker\\nFROM python:3\\n\\nRUN pip install --no-cache-dir requests\\n\\nCOPY . .\\n\\nCMD [ \\"python\\", \\"/main.py\\"]\\n```\\n\u8fd9\u91cc\u53ef\u4ee5\u770b\u51fa\u4f7f\u7528Docker\u7684\u4f18\u70b9\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u8fd0\u884c\u73af\u5883\uff0c\u5c31\u80fd\u591f\u4f7f\u7528\u9664\u4e86Node.js\u4ee5\u5916\u7684\u73af\u5883\uff0c\u4e5f\u80fd\u4f7f\u7528\u5176\u4ed6\u7684\u8bed\u8a00\u3002\\n\\n## 5 Github action\u9879\u76ee\u5b9e\u6218\\n\u5728\u672c\u8282\u6211\u4f1a\u4ee5\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\u6765\u8bb2\u8ff0\u5982\u4f55\u7f16\u5199\u81ea\u5df1\u7684github action\u3002\\n##### \u95ee\u9898\\n\u5047\u8bbe\u6211\u4eec\u7684github\u4ed3\u5e93\u4e2d\u6709\u8bb8\u591a\u5f85\u5904\u7406\u7684issue\uff0c\u7528\u6237\u63d0\u4ea4\u7684\u6bcf\u4e00\u4e2apull request\u53ef\u80fd\u4f1a\u5173\u8054\u4e00\u4e2aissue\uff0c\u5982\u679c\u6bcf\u5408\u5e76\u4e00\u4e2apull request\u540e\u5c31\u8981\u624b\u52a8\u5173\u95ed\u4e00\u4e2aissue\u4f1a\u76f8\u5f53\u7e41\u7410\u3002\\n##### \u89e3\u51b3\\n\u8fd9\u65f6workflow\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u76d1\u542cpull request\u7684closed\u4e8b\u4ef6\uff0c\u540c\u65f6\u5224\u65adclosed\u65f6\u662f\u88abmerged\u5173\u95ed\u8fd8\u662f\u975emerged\u5173\u95ed\u3002\u5982\u679c\u662fmerged\u5173\u95ed\u5219\u5173\u95ed\u5173\u8054\u7684issue\u3002\\n\u4f46\u8fd9\u91cc\u4ecd\u7136\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5982\u4f55\u83b7\u53d6\u5173\u8054\u7684issue\uff1f\u6211\u4eec\u53ef\u4ee5\u8981\u6c42\u7528\u6237\u5728\u63d0\u4ea4pull request\u65f6\u5728\u63cf\u8ff0\u90e8\u5206\u6dfb\u52a0\u9700\u8981\u5173\u8054\u7684issue\u5982`#345`\uff0c\u518d\u628a`345`\u7684issue\u7f16\u53f7\u62bd\u53d6\u51fa\u6765\u3002\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u6765\u7f16\u5199github action\u3002\u4e3a\u4e86\u8ba9github action\u7a0b\u5e8f\u66f4\u52a0\u7b80\u6d01\uff0c\u8fd9\u91cc\u6211\u4f7f\u7528docker\u6765\u542f\u52a8github action\u3002\u9996\u5148\u662f\u51c6\u5907action.yml\uff1a\\n```yml\\n# github action \u7684\u540d\u79f0\\nname: \\"Auto_close_associate_issue\\"\\n# \u8be5action\u7684\u63cf\u8ff0\\ndescription: \\"Auto close an issue which associate with a PR.\\"\\n\\n#\u5b9a\u4e49\u9700\u8981\u8f93\u5165\u7684\u53c2\u6570\\ninputs:\\n  # \u7b2c\u4e00\u4e2a\u53c2\u6570\u540d\u53ebprbody\\n  prbody: \\n    #\u5bf9\u8be5\u53c2\u6570\u540d\u7684\u63cf\u8ff0\\n    description: \\"The body of the PR to search for related issues\\"\\n    # \u5fc5\u987b\u53c2\u6570\\n    required: true\\n\\noutputs:\\n  #\u8f93\u51fa\u7684\u53c2\u6570\u540d\\n  issurNumber:\\n    description: \\"The issue number\\"\\n\\nruns:\\n  # \u4f7f\u7528docker\u955c\u50cf\\n  using: \\"docker\\"\\n  image: \\"Dockerfile\\"\\n```\\n\\n\u63a5\u4e0b\u6765\u662f\u7f16\u5199\u811a\u672c\u6587\u4ef6\uff0c\u5728\u8fd9\u6211\u4f7f\u7528node.js\u6765\u7f16\u5199\u811a\u672c\uff0c\u6b64\u811a\u672c\u7684\u601d\u8def\u662f\uff1a\u5148\u4ece\u73af\u5883\u4e2d\u83b7\u53d6\u53d8\u91cf\u503c\uff0c\u62bd\u53d6\u51faissue\u7f16\u53f7\u518d\u8f93\u51fa\u5230\u73af\u5883\u4e2d\uff0c\u5bf9\u5e94\u7684\u811a\u672c\uff08\u53d6\u540d\u4e3amain.js\uff09\u5982\u4e0b\uff1a\\n```javascript\\n// \u83b7\u53d6\u73af\u5883\u53d8\u91cf\uff0c\u6240\u6709\u4f20\u7ed9github action\u7684\u53c2\u6570\u4e00\u5f8b\u5927\u5199\uff0c\u4e14\u9700\u8981\u52a0\u4e0aINPUT_\u524d\u7f00\uff0c\u6b64\u5904\u662fgithub\u89c4\u5b9a\u7684\\nlet body = process.env[\'INPUT_PRBODY\']; \\n// \u5229\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u62bd\u53d6\u51faissue\u7f16\u53f7\u6570\u5b57\\nlet pattern = /#\\\\d+/;\\nlet issueNumber = body.match(pattern)[0].replace(\'#\', \'\');\\n// \u8f93\u51fa\u5230\u73af\u5883\u4e2d\\nconsole.log(`::set-output name=issueNumber::${issueNumber}`);\\n```\\n\\n\u63a5\u4e0b\u6765\u662fdocker\u7684\u955c\u50cf\u6587\u4ef6\uff08\u6587\u4ef6\u540d\u4e3aDockerfile\uff09\uff1a\\n```yml\\nFROM node:10.15\\n\\nCOPY . .\\n\\nCMD [ \\"node\\", \\"/main.js\\"]\\n```\\n\\n\u6700\u540e\u5728`.github/actions/Auto_close_associate_issue`\u8def\u5f84\u4e0b\u653e\u5165`action.yml`\u3001`Dockerfile`\u4ee5\u53ca`main.js`\u4e09\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2aaction\u7684\u7f16\u5199\u5230\u6b64\u7ed3\u675f\u3002\\n\\n\u6700\u540e\u7684\u6700\u540e\u5c31\u662f\u7f16\u5199workflow\uff0cworkflow\u7684\u914d\u7f6e\u5728[\u5f00\u59cb\u7f16\u5199\u7b2c\u4e00\u4e2aworkflow](#3-\u5f00\u59cb\u7f16\u5199\u7b2c\u4e00\u4e2aworkflow)\u4e2d\u8fdb\u884c\u4e86\u7ec6\u81f4\u8bb2\u8ff0\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4f5c\u5177\u4f53\u8d58\u8ff0\u4e86\uff0c\u5177\u4f53\u914d\u7f6e\u5982\u4e0b\uff1a\\n```yml\\nname: Auto close issue when PR is merged\\n\\non:\\n  pull_request_target:\\n    types: [ closed ]\\n\\njobs:\\n  close-issue:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v2\\n\\n      - name: \\"Auto issue closer\\"\\n        uses: ./.github/actions/Auto_close_associate_issue/\\n        id: Closer\\n        with:\\n          prbody: ${{ github.event.pull_request.body }}\\n\\n      - name: Close Issue\\n        uses: peter-evans/close-issue@v2\\n        if: ${{ github.event.pull_request.merged }}\\n        with:\\n          issue-number: ${{ steps.Closer.outputs.issueNumber }}\\n          comment: The associated PR has been merged, this issue is automatically closed, you can reopend if necessary.\\n        env:\\n          Github_Token: ${{ secrets.GITHUB_TOKEN }}\\n          PRNUM: ${{ github.event.pull_request.number }}\\n```"},{"id":"/2022/06/09/meetup-content-review","metadata":{"permalink":"/zh-CN/blog/2022/06/09/meetup-content-review","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-06-09-meetup-content-review.md","title":"Apache Linkis Meet up","description":"|Data|Topic & Video|Scripts|","date":"2022-06-09T00:00:00.000Z","formattedDate":"2022\u5e746\u67089\u65e5","tags":[{"label":"meetup","permalink":"/zh-CN/blog/tags/meetup"}],"readingTime":1.29,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Apache Linkis Meet up","tags":["meetup"]},"prevItem":{"title":"\u5982\u4f55\u7f16\u5199 Github Action","permalink":"/zh-CN/blog/2022/07/04/how-to-add-auto-bot"},"nextItem":{"title":"\u5982\u4f55\u4e0b\u8f7d\u5b89\u88c5\u5305\u4e2d\u9ed8\u8ba4\u6ca1\u6709\u7684\u5f15\u64ce\u63d2\u4ef6","permalink":"/zh-CN/blog/2022/04/15/how-to-download-engineconn-plugin"}},"content":"|**Data**|**Topic & Video**|**Scripts**|\\n|:----|:----|:----|\\n|8/27/2022|[Meetup 04\u671f\uff1a2022 \u4e00\u7ad9\u5f0f\u5f00\u6e90\u5927\u6570\u636e\u5e73\u53f0WeDataSphere\u793e\u533a\u5e74\u4e2d\u5927\u4f1a\u89c6\u9891\u96c6\u5408](https://space.bilibili.com/598542776/channel/collectiondetail?sid=681893)<br/>[Meetup 04\uff1a2022 Community mid-year conference video collection of WeDataSphere One-stop Open Source Big Data Platform](https://space.bilibili.com/598542776/channel/collectiondetail?sid=681893)|    [ \u6f14\u8bb2\u7a3f\u5408\u96c6 A collection of speeches ]( https://pan.baidu.com/s/1_Ectkxf5WpRcaLQXWxu72g?pwd=eeik)\\n|6/27/2022|[ Meetup 03\u671f\uff1aLinkis-1.1.0\u65b0\u529f\u80fd\u4ecb\u7ecd\u3001\u4e0a\u6d77\u5408\u5408\u4fe1\u606f\u5408\u6570\u636e\u5de5\u574aIDS](https://space.bilibili.com/598542776/channel/seriesdetail?sid=2649896)<br/>[Meetup 03: Linkis-1.1.0 New function introduction, Shanghai HEHE Information and Data Workshop IDS](https://space.bilibili.com/598542776/channel/seriesdetail?sid=2649896)|    [ \u6f14\u8bb2\u7a3f\u5408\u96c6 A collection of speeches ](https://pan.baidu.com/s/1TpN4qJFdjA666PWmWyiw6A?pwd=na3h)\\n|4/13/2022|[Meetup 02\u671f\uff1aQualitis \u6570\u636e\u8d28\u91cf 0.9.0\u7248\u672c\u4ecb\u7ecd](https://www.bilibili.com/video/BV1r5411U7Dx/)<br/>[Meetup 02\uff1aIntroduction to Data Quality Platform Qualitis\xa0V0.9.0 ](https://www.bilibili.com/video/BV1r5411U7Dx/?spm_id_from=333.788.recommend_more_video.-1)|    [Qualitis \u6570\u636e\u8d28\u91cf0.9.0\u7248\u672c\u4ecb\u7ecd.pptx](https://uploader.shimo.im/f/bpeDQgadrMVFUiNL.pptx?fileGuid=m8AZV9z6xMsOevAb)|\\n|4/13/2022|[Meetup 02\u671f\uff1aProphecis \u673a\u5668\u5b66\u4e60Studio\u7248\u672c\u66f4\u65b0\u4ecb\u7ecd](https://www.bilibili.com/video/BV1WS4y127ma/)<br/>[Meetup 02\uff1aIntroduction to Mechine Learning Platform Prophecis Studio](https://www.bilibili.com/video/BV1r5411U7Dx/?spm_id_from=333.788.recommend_more_video.-1)|[Prophecis \u673a\u5668\u5b66\u4e60Studio\u7248\u672c\u66f4\u65b0\u4ecb\u7ecd(V0.3.0).pptx](https://uploader.shimo.im/f/eL3HOVtYTgeCGOtr.pptx?fileGuid=m8AZV9z6xMsOevAb)|\\n|4/13/2022|[Meetup 02\u671f\uff1a\u8c03\u5ea6\u7cfb\u7edf Schedulis 0.6.2 \u53d1\u5e03](https://www.bilibili.com/video/BV1vY4y1H7j2/)<br/>[Meetup 02](https://www.bilibili.com/video/BV1vY4y1H7j2)[: The Scheduling System Schedulis is Release v0.6.2](https://www.bilibili.com/video/BV1vY4y1H7j2)|[Schedulis 0.6.2 \u53d1\u5e03.pptx](https://uploader.shimo.im/f/rD98D9SwNavhWga3.pptx?fileGuid=m8AZV9z6xMsOevAb)|\\n|4/13/2022|[Meetup 02\u671f\uff1aDataSphereStudio 1.0 \u7cfb\u7edf\u4ecb\u7ecd](https://www.bilibili.com/video/BV1pF411G7AH/)<br/>[Meetup 02:\xa0Introduciton to DataSphereStudio 1.0 System](https://www.bilibili.com/video/BV1pF411G7AH) |[DSS 1.0.1 \u7cfb\u7edf\u4ecb\u7ecd-WeDataSphere meetup 202204(1).pptx](https://uploader.shimo.im/f/HluZrVJDRpEsSYy4.pptx?fileGuid=m8AZV9z6xMsOevAb)|\\n|2/24/2022|[Meetup 01:Linkis 1.0.3 \u65b0\u7248\u672c\u53d1\u5e03](https://www.bilibili.com/video/BV1La411h7Pf)<br/>[Meetup 01:Linkis 1.0.3 New Version Released ](https://www.bilibili.com/video/BV1La411h7Pf)|[\u57fa\u4e8eLinkis\u7684\u4f01\u4e1a\u5927\u6570\u636e\u5e73\u53f0\u6539\u9020\u4e4b\u8def_\u5f20\u5ef6\u53ec.pdf](https://uploader.shimo.im/f/qM7PpEBm8bUowyUW.pdf?fileGuid=m8AZV9z6xMsOevAb)<br/>[Apache Linkis V1.0.3 \u4ecb\u7ecd-v0.2-\u90b8\u5e05.pdf](https://uploader.shimo.im/f/GcYE1BwtDKHFfN8W.pdf?fileGuid=m8AZV9z6xMsOevAb)|"},{"id":"/2022/04/15/how-to-download-engineconn-plugin","metadata":{"permalink":"/zh-CN/blog/2022/04/15/how-to-download-engineconn-plugin","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-04-15-how-to-download-engineconn-plugin.md","title":"\u5982\u4f55\u4e0b\u8f7d\u5b89\u88c5\u5305\u4e2d\u9ed8\u8ba4\u6ca1\u6709\u7684\u5f15\u64ce\u63d2\u4ef6","description":"\u672c\u6587\u4e3b\u8981\u6307\u5f15\u5927\u5bb6\u5982\u4f55\u4e0b\u8f7d\u6bcf\u4e2a\u7248\u672c\u5bf9\u5e94\u7684\u975e\u9ed8\u8ba4\u5f15\u64ce\u5b89\u88c5\u63d2\u4ef6\u5305\u3002","date":"2022-04-15T00:00:00.000Z","formattedDate":"2022\u5e744\u670815\u65e5","tags":[{"label":"engine","permalink":"/zh-CN/blog/tags/engine"},{"label":"guide","permalink":"/zh-CN/blog/tags/guide"}],"readingTime":2.54,"hasTruncateMarker":false,"authors":[{"name":"Casion","title":"\u5fae\u4f17\u94f6\u884c\u5f00\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/casionone/","imageURL":"https://avatars.githubusercontent.com/u/7869972?v=4","key":"Casion"}],"frontMatter":{"title":"\u5982\u4f55\u4e0b\u8f7d\u5b89\u88c5\u5305\u4e2d\u9ed8\u8ba4\u6ca1\u6709\u7684\u5f15\u64ce\u63d2\u4ef6","authors":["Casion"],"tags":["engine","guide"]},"prevItem":{"title":"Apache Linkis Meet up","permalink":"/zh-CN/blog/2022/06/09/meetup-content-review"},"nextItem":{"title":"openLooKeng \u7684\u5f15\u64ce\u7684\u5b9e\u73b0","permalink":"/zh-CN/blog/2022/03/20/openlookeng"}},"content":"> _\u672c\u6587\u4e3b\u8981\u6307\u5f15\u5927\u5bb6\u5982\u4f55\u4e0b\u8f7d\u6bcf\u4e2a\u7248\u672c\u5bf9\u5e94\u7684\u975e\u9ed8\u8ba4\u5f15\u64ce\u5b89\u88c5\u63d2\u4ef6\u5305\u3002_\\n\\n\u8003\u8651\u5230\u53d1\u5e03\u5305\u7684\u5927\u5c0f\u548c\u5927\u5bb6\u4f7f\u7528\u63d2\u4ef6\u7684\u60c5\u51b5\uff0clinkis\u53d1\u5e03\u7684\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305\u4e2d\u53ea\u5305\u542b\u4e86\u90e8\u5206\u5e38\u7528\u5f15\u64ce/hive/spark/python/shell\uff0c\\n\u975e\u5e38\u7528\u5f15\u64ce\uff0c\u9879\u76ee\u4ee3\u7801\u4e2d\u6709\u5bf9\u5e94\u7684\u6a21\u5757`flink/io_file/pipeline/sqoop`(\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u53ef\u80fd\u6709\u533a\u522b)\uff0c\\n\u4e3a\u4e86\u65b9\u4fbf\u5927\u5bb6\u4f7f\u7528\uff0c\u57fa\u4e8elinkis\u6bcf\u4e2a\u7248\u672c\u7684release\u5206\u652f\u4ee3\u7801: https://github.com/apache/incubator-linkis, \u7f16\u8bd1\u51fa\u8fd9\u90e8\u5206\u5f15\u64ce\uff0c\u4f9b\u5927\u5bb6\u9009\u62e9\u4f7f\u7528\u3002\\n\\n ## \u4e0b\u8f7d\u94fe\u63a5  \\n| **linkis\u7248\u672c** |  **\u5305\u542b\u7684\u5f15\u64ce** |**\u5f15\u64ce\u7269\u6599\u5305\u4e0b\u8f7d\u94fe\u63a5** |\\n|:---- |:---- |:---- |\\n|1.3.0|jdbc<br/>pipeline<br/>io_file<br/>flink<br/>openlookeng<br/>sqoop<br/>presto<br/>elasticsearch<br/>|[1.3.0-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.3.0-engineconn-plugin.tar)|\\n|1.2.0|jdbc<br/>pipeline<br/>flink<br/>openlookeng<br/>sqoop<br/>presto<br/>elasticsearch<br/>|[1.2.0-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.2.0-engineconn-plugin.tar)|\\n|1.1.3|jdbc<br/>pipeline<br/>flink<br/>openlookeng<br/>sqoop|[1.1.3-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.1.3-engineconn-plugin.tar)|\\n|1.1.2|jdbc<br/>pipeline<br/>flink<br/>openlookeng<br/>sqoop|[1.1.2-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.1.2-engineconn-plugin.tar)|\\n|1.1.1|jdbc<br/>pipeline<br/>flink<br/>openlookeng<br/>|[1.1.1-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.1.1-engineconn-plugin.tar)|\\n|1.1.0|jdbc<br/>pipeline<br/>flink<br/>|[1.1.0-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.1.0-engineconn-plugin.tar)|\\n|1.0.3|jdbc<br/>pipeline<br/>flink<br/>|[1.0.3-engineconn-plugin.tar](https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeDatasphere/Linkis/engineconn-plugin/1.0.3-engineconn-plugin.tar)|\\n\\n## \u5f15\u64ce\u7c7b\u578b \\n\\n| **\u5f15\u64ce\u540d** | **\u652f\u6301\u5e95\u5c42\u7ec4\u4ef6\u7248\u672c<br/>(\u9ed8\u8ba4\u4f9d\u8d56\u7248\u672c)** | **Linkis 1.X \u7248\u672c\u8981\u6c42** | **\u662f\u5426\u9ed8\u8ba4\u5305\u542b\u5728\u53d1\u5e03\u5305\u4e2d** | **\u8bf4\u660e** |\\n|:---- |:---- |:---- |:---- |:---- |\\n|Spark|Apache 2.0.0~2.4.7, <br/>CDH >= 5.4.0, <br/>\uff08\u9ed8\u8ba4Apache Spark 2.4.3\uff09|\\\\>=1.0.3|\u662f|Spark EngineConn\uff0c \u652f\u6301SQL, Scala, Pyspark \u548cR \u4ee3\u7801|\\n|Hive|Apache >= 1.0.0, <br/>CDH >= 5.4.0, <br/>\uff08\u9ed8\u8ba4Apache Hive 2.3.3\uff09|\\\\>=1.0.3|\u662f|Hive EngineConn\uff0c \u652f\u6301HiveQL \u4ee3\u7801|\\n|Python|Python >= 2.6, <br/>\uff08\u9ed8\u8ba4Python2*\uff09|\\\\>=1.0.3|\u662f|Python EngineConn\uff0c \u652f\u6301python \u4ee3\u7801|\\n|Shell|Bash >= 2.0|\\\\>=1.0.3|\u662f|Shell EngineConn\uff0c \u652f\u6301Bash shell \u4ee3\u7801|\\n|JDBC|MySQL >= 5.0, Hive >=1.2.1, <br/>(\u9ed8\u8ba4Hive-jdbc 2.3.4)|\\\\>=1.0.3|\u5426|JDBC EngineConn\uff0c \u5df2\u652f\u6301MySQL \u548cHiveQL\uff0c\u53ef\u5feb\u901f\u6269\u5c55\u652f\u6301\u5176\u4ed6\u6709JDBC Driver \u5305\u7684\u5f15\u64ce, \u5982Oracle|\\n|Flink |Flink >= 1.12.2, <br/>(\u9ed8\u8ba4Apache Flink 1.12.2)|\\\\>=1.0.2|\u5426|Flink EngineConn\uff0c \u652f\u6301FlinkSQL \u4ee3\u7801\uff0c\u4e5f\u652f\u6301\u4ee5Flink Jar \u5f62\u5f0f\u542f\u52a8\u4e00\u4e2a\u65b0\u7684Yarn \u5e94\u7528\u7a0b\u5e8f|\\n|Pipeline|-|\\\\>=1.0.2|\u5426|Pipeline EngineConn\uff0c \u652f\u6301\u6587\u4ef6\u7684\u5bfc\u5165\u548c\u5bfc\u51fa|\\n|openLooKeng|openLooKeng >= 1.5.0, <br/>(\u9ed8\u8ba4openLookEng 1.5.0)|\\\\>=1.1.1|\u5426|openLooKeng EngineConn\uff0c \u652f\u6301\u7528Sql\u67e5\u8be2\u6570\u636e\u865a\u62df\u5316\u5f15\u64ceopenLooKeng|\\n|Sqoop| Sqoop >= 1.4.6, <br/>(\u9ed8\u8ba4Apache Sqoop 1.4.6)|\\\\>=1.1.2|\u5426|Sqoop EngineConn\uff0c \u652f\u6301 \u6570\u636e\u8fc1\u79fb\u5de5\u5177 Sqoop \u5f15\u64ce|\\n|Presto|Presto >= 0.180|\\\\>=1.2.0|\u5426|Presto EngineConn\uff0c \u652f\u6301Presto SQL \u4ee3\u7801|\\n|ElasticSearch|ElasticSearch >=6.0|\\\\>=1.2.0|\u5426|ElasticSearch EngineConn\uff0c \u652f\u6301SQL \u548cDSL \u4ee3\u7801|\\n\\n\\n## \u5b89\u88c5\u5f15\u64ce\u6307\u5f15 \\n\\n\u4e0b\u8f7d\u5f15\u64ce\u7684\u7269\u6599\u5305\u540e\uff0c\u89e3\u538b\u5305\\n```html\\ntar -xvf  1.0.3-engineconn-plugin.tar \\ncd 1.0.3-engineconn-plugin \\n\\n```\\n\\n\u5c06\u9700\u8981\u8981\u4f7f\u7528\u7684\u5f15\u64ce\u7269\u6599\u5305\u62f7\u8d1d\u81f3linkis\u7684\u5f15\u64ce\u63d2\u4ef6\u76ee\u5f55\uff0c\u7136\u540e\u5237\u65b0\u5f15\u64ce\u7269\u6599\u5373\u53ef\\n\\n\u8be6\u7ec6\u6d41\u7a0b\u53c2\u8003[\u5b89\u88c5 EngineConnPlugin \u5f15\u64ce](https://linkis.apache.org/zh-CN/docs/latest/deployment/install-engineconn)\u3002"},{"id":"/2022/03/20/openlookeng","metadata":{"permalink":"/zh-CN/blog/2022/03/20/openlookeng","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-03-20-openlookeng.md","title":"openLooKeng \u7684\u5f15\u64ce\u7684\u5b9e\u73b0","description":"\u6982\u8ff0","date":"2022-03-20T00:00:00.000Z","formattedDate":"2022\u5e743\u670820\u65e5","tags":[{"label":"engine","permalink":"/zh-CN/blog/tags/engine"}],"readingTime":3.705,"hasTruncateMarker":false,"authors":[{"name":"Peacewong","title":"\u5fae\u4f17\u94f6\u884c\u5f00\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/peacewong/","imageURL":"https://avatars.githubusercontent.com/u/11496700?v=4","key":"peacewong"}],"frontMatter":{"title":"openLooKeng \u7684\u5f15\u64ce\u7684\u5b9e\u73b0","authors":["peacewong"],"tags":["engine"]},"prevItem":{"title":"\u5982\u4f55\u4e0b\u8f7d\u5b89\u88c5\u5305\u4e2d\u9ed8\u8ba4\u6ca1\u6709\u7684\u5f15\u64ce\u63d2\u4ef6","permalink":"/zh-CN/blog/2022/04/15/how-to-download-engineconn-plugin"},"nextItem":{"title":"Linkis \u90e8\u7f72\u6392\u969c","permalink":"/zh-CN/blog/2022/02/21/linkis-deploy"}},"content":"## \u6982\u8ff0\\nopenLooKeng\u662f\u4e00\u79cd\\"\u5f00\u7bb1\u5373\u7528\\"\u7684\u5f15\u64ce\uff0c\u652f\u6301\u5728\u4efb\u4f55\u5730\u70b9\uff08\u5305\u62ec\u5730\u7406\u4e0a\u7684\u8fdc\u7a0b\u6570\u636e\u6e90\uff09\u5bf9\u4efb\u4f55\u6570\u636e\u8fdb\u884c\u539f\u4f4d\u5206\u6790\u3002\u5b83\u901a\u8fc7SQL 2003\u63a5\u53e3\u63d0\u4f9b\u4e86\u6240\u6709\u6570\u636e\u7684\u5168\u5c40\u89c6\u56fe\u3002openLooKeng\u5177\u6709\u9ad8\u53ef\u7528\u6027\u3001\u81ea\u52a8\u4f38\u7f29\u3001\u5185\u7f6e\u7f13\u5b58\u548c\u7d22\u5f15\u652f\u6301\uff0c\u4e3a\u4f01\u4e1a\u5de5\u4f5c\u8d1f\u8f7d\u63d0\u4f9b\u4e86\u6240\u9700\u7684\u53ef\u9760\u6027\u3002\\n\\nopenLooKeng\u7528\u4e8e\u652f\u6301\u6570\u636e\u63a2\u7d22\u3001\u5373\u5e2d\u67e5\u8be2\u548c\u6279\u5904\u7406\uff0c\u5177\u6709100+\u6beb\u79d2\u81f3\u5206\u949f\u7ea7\u7684\u8fd1\u5b9e\u65f6\u65f6\u5ef6\uff0c\u800c\u65e0\u9700\u79fb\u52a8\u6570\u636e\u3002openLooKeng\u8fd8\u652f\u6301\u5c42\u6b21\u5316\u90e8\u7f72\uff0c\u4f7f\u5730\u7406\u4e0a\u8fdc\u7a0b\u7684openLooKeng\u96c6\u7fa4\u80fd\u591f\u53c2\u4e0e\u76f8\u540c\u7684\u67e5\u8be2\u3002\u5229\u7528\u5176\u8de8\u533a\u57df\u67e5\u8be2\u8ba1\u5212\u4f18\u5316\u80fd\u529b\uff0c\u6d89\u53ca\u8fdc\u7a0b\u6570\u636e\u7684\u67e5\u8be2\u53ef\u4ee5\u8fbe\u5230\u63a5\u8fd1\u201c\u672c\u5730\u201d\u7684\u6027\u80fd\u3002\\nLinkis\u5b9e\u73b0openLooKeng\u5f15\u64ce\u53ef\u4ee5\u8ba9Linkis\u62e5\u6709\u6570\u636e\u865a\u62df\u5316\u7684\u80fd\u529b\uff0c\u652f\u6301\u63d0\u4ea4\u8de8\u6e90\u5f02\u6784\u67e5\u8be2\u3001\u8de8\u57df\u8de8DC\u67e5\u8be2\u578b\u4efb\u52a1\u3002Linkis\u4f5c\u4e3a\u8ba1\u7b97\u4e2d\u95f4\u4ef6\u901a\u8fc7\u5229\u7528openLooKeng\u7684\u8fde\u63a5\u5668\u57fa\u4e8eLinkis\u7684EngineConn\u7684\u8fde\u901a\u901a\u80fd\u529b\u53ef\u4ee5\u505a\u5230\u8fde\u63a5\u66f4\u591a\u7684\u5e95\u5c42\u8ba1\u7b97\u5b58\u50a8\u7ec4\u4ef6\u3002\\n\\n## \u5f00\u53d1\u5b9e\u73b0\u65b9\u5f0f\\nopenLooKeng ec\u7684\u5b9e\u73b0\u57fa\u4e8eLinkis\u7684EngineConn Plugin\uff08ECP\uff09\u8fdb\u884c\u6269\u5c55\uff0c\u56e0\u4e3aOpengLooKeng\u670d\u52a1\u652f\u6301\u591a\u7528\u6237\u901a\u8fc7Client\u8fdb\u884c\u67e5\u8be2\uff0c\u6240\u4ee5\u5b9e\u73b0\u6a21\u5f0f\u4e3a\u91c7\u7528\u591a\u7528\u6237\u5e76\u53d1\u5f15\u64ce\u7684\u5b9e\u73b0\u6a21\u5f0f\u3002\\n\u4e5f\u5c31\u662f\u591a\u4e2a\u7528\u6237\u63d0\u4ea4\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u540c\u65f6\u5728\u4e00\u4e2aEC\u8fdb\u7a0b\u91cc\u9762\u8fdb\u884c\u8fd0\u884c\uff0c\u53ef\u4ee5\u6781\u5927\u7684\u590d\u7528EC\u8d44\u6e90\uff0c\u51cf\u5c11\u8d44\u6e90\u6d6a\u8d39\u3002\u5177\u4f53\u7c7b\u56fe\u5982\u4e0b\uff1a\\n\\n\u3010\u7f3a\u56fe\u3011\\n\\n\u5177\u4f53\u5b9e\u73b0\u4e3aopenLooKengEngineConnExecutor\u7ee7\u627f\u4e8eConcurrentComputationExecutor\uff0c\u652f\u6301\u591a\u7528\u6237\u591a\u4efb\u52a1\u5e76\u53d1\uff0c\u5e76\u4e14\u652f\u6301\u5bf9\u63a5\u5230\u591a\u4e2a\u4e0d\u540c\u7684openLooKeng\u96c6\u7fa4\u3002\\n## \u67b6\u6784\\n\u67b6\u6784\u56fe\uff1a\\n![image](https://user-images.githubusercontent.com/7869972/166736911-c0f50968-3996-40d0-afdf-52b35d4cd71c.png)\\n\\n\\n\u4efb\u52a1\u6d41\u8f6c\u56fe\u5982\u4e0b\uff1a\\n  ![image](https://user-images.githubusercontent.com/7869972/166737177-57f8f84a-b16d-44bd-b7cf-a61fc2cc160c.png)\\n\\n\u57fa\u4e8eLinkis\u548copenLooKeng\u7684\u80fd\u529b\u53ef\u4ee5\u63d0\u4f9b\u5982\u4e0b\u80fd\u529b\uff1a\\n- 1.\u57fa\u4e8eLinkis\u7684\u8ba1\u7b97\u4e2d\u95f4\u4ef6\u5c42\u7684\u8fde\u63a5\u80fd\u529b\u53ef\u4ee5\u8ba9\u4e0a\u5c42\u5e94\u7528\u5de5\u5177\u5feb\u901f\u5bf9\u63a5\u4f7f\u7528openLooKeng\uff0c\u63d0\u4ea4\u4efb\u52a1\uff0c\u5e76\u83b7\u53d6\u65e5\u5fd7\u3001\u8fdb\u5ea6\u3001\u7ed3\u679c\u3002\\n- 2.\u57fa\u4e8eLinkis\u7684\u516c\u5171\u670d\u52a1\u80fd\u529b\u53ef\u4ee5\u505a\u5230\u5bf9openLooKeng\u7684sql\u5b8c\u6210\u81ea\u5b9a\u4e49\u53d8\u91cf\u66ff\u6362\u3001UDF\u7ba1\u7406\u7b49\\n- 3.\u57fa\u4e8eLinkis\u7684\u4e0a\u4e0b\u6587\u80fd\u529b\u53ef\u4ee5\u6253\u901aOpengLooKeng\u7684\u7ed3\u679c\u4f20\u9012\u7ed9\u4e0b\u6e38Spark\u3001Hive\u7b49EC\u8fdb\u884c\u67e5\u8be2\\n- 4.\u57fa\u4e8eLinkis\u7684\u8d44\u6e90\u7ba1\u63a7\u548c\u591a\u79df\u6237\u80fd\u529b\u53ef\u4ee5\u5c06\u4efb\u52a1\u8fdb\u884c\u79df\u6237\u9694\u79bb\u548copenLooKeng\u8d44\u6e90\u7684\u4f7f\u7528\\n- 5.\u57fa\u4e8eOpengLooKeng\u7684\u8fde\u63a5\u5668\u80fd\u529b\u4e0a\u5c42\u5e94\u7528\u5de5\u5177\u53ef\u4ee5\u505a\u5230\u5b8c\u6210\u63d0\u4ea4\u8de8\u6e90\u5f02\u6784\u67e5\u8be2\u3001\u8de8\u57df\u8de8DC\u67e5\u8be2\u578b\u4efb\u52a1\uff0c\u5e76\u83b7\u5f97\u79d2\u7ea7\u8fd4\u56de\u3002\\n\\n## \u540e\u7eed\u8ba1\u5212\\n\u540e\u7eed\u4e24\u4e2a\u793e\u533a\u5c06\u7ee7\u7eed\u8fdb\u884c\u5408\u4f5c\uff0c\u8ba1\u5212\u63a8\u51fa\u4ee5\u4e0b\u529f\u80fd\uff1a\\n- 1.Linkis\u652f\u6301openLooKeng on Yarn\u6a21\u5f0f\\n- 2.Linkis\u5b8c\u6210\u5bf9openLooKeng\u7684\u8d44\u6e90\u7ba1\u63a7\uff0c\u4efb\u52a1\u53ef\u4ee5\u73b0\u5728Linkis\u8fdb\u884c\u6392\u961f\uff0c\u8d44\u6e90\u8db3\u591f\u624d\u8fdb\u884c\u63d0\u4ea4\\n- 3.\u57fa\u4e8eopenLooKeng\u7684\u6df7\u7b97\u80fd\u529b\u4f18\u5316Linkis Orchestrator\u7684\u80fd\u529b\u53bb\u5b8c\u6210\u540e\u7eed\u8ba1\u5212\u7684EC\u95f4\u7684\u6df7\u7b97\u80fd\u529b\u3002"},{"id":"/2022/02/21/linkis-deploy","metadata":{"permalink":"/zh-CN/blog/2022/02/21/linkis-deploy","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-02-21-linkis-deploy.md","title":"Linkis \u90e8\u7f72\u6392\u969c","description":"linkis\u7684\u90e8\u7f72\u8bf4\u660e\u548c\u6ce8\u610f\u70b9","date":"2022-02-21T00:00:00.000Z","formattedDate":"2022\u5e742\u670821\u65e5","tags":[],"readingTime":21.51,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Linkis \u90e8\u7f72\u6392\u969c"},"prevItem":{"title":"openLooKeng \u7684\u5f15\u64ce\u7684\u5b9e\u73b0","permalink":"/zh-CN/blog/2022/03/20/openlookeng"},"nextItem":{"title":"\u5982\u4f55\u7f16\u5199\u535a\u5ba2","permalink":"/zh-CN/blog/2022/02/08/how-to-user-blog"}},"content":"> linkis\u7684\u90e8\u7f72\u8bf4\u660e\u548c\u6ce8\u610f\u70b9\\n\\n## 1. \u524d\u7f6e\u51c6\u5907\u6ce8\u610f\u4e8b\u9879\\n\\n### 1.1 linux\u670d\u52a1\u5668\\n\\n**\u786c\u4ef6\u8981\u6c42**  \\n\u5b89\u88c5linkis \u5fae\u670d\u52a1\u8fd110\u4e2a\uff0c\u6bcf\u4e2a\u5fae\u670d\u52a1\u9ed8\u8ba4\u914d\u7f6e\u542f\u52a8\u7684jvm -Xmx \u5185\u5b58\u5927\u5c0f\u4e3a 512M(\u5185\u5b58\u4e0d\u591f\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u5c0f\u81f3256/128M\uff0c\u5185\u5b58\u8db3\u591f\u60c5\u51b5\u4e0b\u4e5f\u53ef\u4ee5\u8c03\u5927)\\n\\n**\u8f6f\u4ef6\u8981\u6c42**  \\n\u57fa\u672c\u7684\u8f6f\u4ef6\u73af\u5883  \\n\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u68c0\u67e5\u662f\u5426\u5df2\u5b89\u88c5\u5bf9\u5e94\u7684\u8f6f\u4ef6 \uff0c\u82e5\u672a\u5b89\u88c5\uff0c\u8bf7\u5148\u8fdb\u884c\u5b89\u88c5\\n```shell\\n#java\u73af\u5883 \u63a8\u8350>=1.0.8\\ncommand -v  java\\n\\n#yum \u5305\u7ba1\u7406\u5de5\u5177\uff0c\u4e3b\u8981\u662f\u5728\u6267\u884clinkis web\u7ba1\u7406\u53f0\u5b89\u88c5\u811a\u672c\u65f6,\u4f1a\u901a\u8fc7yum\u5b89\u88c5nginx/policycoreutils-python\u8f6f\u4ef6\\ncommand -v  yum\\n\\n#linkis\u7684\u6570\u636e\u5e93\u521d\u59cb\u5316\u65f6\uff0c\u4f1a\u4f7f\u7528\u5230mysql\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u6267\u884csql\u8bed\u53e5\\ncommand -v mysql\\n\\ncommand -v  telnet\\n\\n#\u7528\u4e8e\u89e3\u538blinkis\u7684\u76f8\u5173\u5b89\u88c5\u5305\\ncommand -v  tar\\n\\n#\u521d\u59cb\u7684\u670d\u52a1\u914d\u7f6e\u6587\u4ef6linkis-*.properties\u662f\u6267\u884c\u5b89\u88c5\u811a\u672cinstall.sh\u65f6\u5019\uff0c\u6839\u636e`deploy-config/*sh`\u914d\u7f6e\u7684\u6570\u636e \u901a\u8fc7sed \u66ff\u6362\u5230properties\u6587\u4ef6\u4e2d\u7684\\ncommand -v sed\\n\\n```\\n\\n### 1.2 \u6dfb\u52a0\u90e8\u7f72\u7528\u6237\\n\\n\u90e8\u7f72\u7528\u6237: linkis\u6838\u5fc3\u8fdb\u7a0b\u7684\u542f\u52a8\u7528\u6237\uff0c\u540c\u65f6\u6b64\u7528\u6237\u4f1a\u9ed8\u8ba4\u4f5c\u4e3a\u7ba1\u7406\u5458\u6743\u9650\uff0c<font color=\\"red\\">\u90e8\u7f72\u8fc7\u7a0b\u4e2d\u4f1a\u751f\u6210\u5bf9\u5e94\u7684\u7ba1\u7406\u5458\u767b\u5f55\u5bc6\u7801\uff0c\u4f4d\u4e8econf/linkis-mg-gateway.properties\u6587\u4ef6\u4e2d</font>\\n\\nlinkis\u652f\u6301\u6307\u5b9a\u63d0\u4ea4\u3001\u6267\u884c\u7684\u7528\u6237\u3002linkis\u4e3b\u8981\u8fdb\u7a0b\u670d\u52a1\u4f1a\u901a\u8fc7sudo -u  ${linkis-user} \u5207\u6362\u5230\u5bf9\u5e94\u7528\u6237\u4e0b\uff0c\u7136\u540e\u6267\u884c\u5bf9\u5e94\u7684\u5f15\u64ce\u542f\u52a8\u547d\u4ee4\uff0c\u6240\u4ee5\u5f15\u64celinkis-engine\u8fdb\u7a0b\u5f52\u5c5e\u7684\u7528\u6237\u662f\u4efb\u52a1\u7684\u6267\u884c\u8005\uff08\u6240\u4ee5\u90e8\u7f72\u7528\u6237\u9700\u8981\u6709sudo\u6743\u9650\uff0c\u800c\u4e14\u662f\u514d\u5bc6\u7684\uff09\\n\\n\u4ee5hadoop\u7528\u6237\u4e3a\u4f8b:\\n\\n\u5148\u67e5\u770b\u7cfb\u7edf\u4e2d\u662f\u5426\u5df2\u7ecf\u6709 hadoop \u7528\u6237\uff0c\u82e5\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u76f4\u63a5\u6388\u6743\u5373\u53ef\uff1b\u82e5\u4e0d\u5b58\u5728\uff0c\u5148\u521b\u5efa\u7528\u6237\uff0c\u518d\u6388\u6743\u3002\\n\\n\u67e5\u770b\u662f\u5426\u5df2\u5b58\u5728 hadoop \u7528\u6237\\n```shell script\\n$ id hadoop\\nuid=2001(hadoop) gid=2001(hadoop) groups=2001(hadoop)\\n```\\n\\n\u82e5\u4e0d\u5b58\u5728\uff0c\u5219\u9700\u8981\u521b\u5efa hadoop \u7528\u6237\uff0c\u5e76\u52a0\u5165 hadoop \u7528\u6237\u7ec4\\n```shell script\\n$ sudo useradd hadoop -g hadoop\\n$ vi /etc/sudoers\\n#\u52a0\u4e0a\u914d\u7f6e\\nhadoop ALL=(ALL) NOPASSWD: NOPASSWD: ALL\\n```\\n\\n\u4fee\u6539\u5b89\u88c5\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf,`vim /home/hadoop/.bash_rc`\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u73af\u5883\u53d8\u91cf\u5982\u4e0b\uff1a\\n```shell script\\nexport JAVA_HOME=/opt/jdk1.8\\nexport HADOOP_HOME=/opt/install/hadoop\\nexport HADOOP_CONF_DIR=/etc/conf/hadoop\\nexport HIVE_HOME=/opt/install/hive\\nexport HIVE_CONF_DIR=/etc/conf/conf\\nexport SPARK_HOME=/opt/install/spark\\nexport SPARK_CONF_DIR=/etc/spark/conf\\nexport PYSPARK_ALLOW_INSECURE_GATEWAY=1  # \u5982\u679c\u662fPyspark\uff0c\u5219\u5fc5\u987b\u52a0\u6b64\u53c2\u6570\\n```\\n\\n\u5237\u65b0\u914d\u7f6e  \\n```shell script\\n$ source /home/hadoop/.bash_rc\\n#\u5982\u679c.bashrc\u6587\u4ef6\u4e0d\u5b58\uff0c\u53ef\u4ee5\u914d\u7f6e\u5230.bash_profile\u4e2d\\n```\\n\\n\u67e5\u770b\u662f\u5426\u751f\u6548\\n```shell script\\n$ sudo -su hadoop\\n$ echo $JAVA_HOME\\n$ echo $HADOOP_HOME\\n```\\n\\n<font color=\'red\'>\u4ee5\u4e0b\u64cd\u4f5c\u90fd\u662f\u5728hadoop\u7528\u6237\u4e0b\u8fdb\u884c</font>\\n\\n### 1.3 \u5b89\u88c5\u5305\u51c6\u5907\\n\\nlinkis\u5b89\u88c5\u5305\uff0c\u63a8\u8350\u4f7f\u75281.X\u53ca\u4e0a\u7248\u672c\\n0.X \u548c1.X\u7684\u7248\u672c\u5dee\u5f02\u5316\u6bd4\u8f83\u5927\uff0c1.0.3\u524d\u662f`com.webank.wedatasphere.linkis`\u7684\u5305\u540d\uff0clinkis>=1.0.3\u4e3a`org.apache.linkis`\u7684\u5305\u540d\\n\\n[\u4e0b\u8f7d\u5730\u5740](https://linkis.apache.org/zh-CN/download/main):https://linkis.apache.org/zh-CN/download/main\\n\\n\\n### 1.4 \u5e95\u5c42\u4f9d\u8d56\u68c0\u67e5\\n\\n\u53ef\u4ee5\u6267\u884c\u76f8\u5e94\u7684\u547d\u4ee4\uff0c\u67e5\u770b\u662f\u5426\u652f\u6301\\n```shell script\\nspark/hive/hdfs/python/\\n$ spark-submit --version //spark \u4efb\u52a1\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u547d\u4ee4\u63d0\u4ea4\u5230YARN\u4e0a\u6267\u884c\\n$ python --version\\n$ hdfs  version\\n$ hive --version\\n\\n```\\n\\n### 1.5 \u8d44\u6e90\u4f9d\u8d56  \\n\u53ef\u4ee5\u8bbf\u95ee\u7684mysql\u6570\u636e\u5e93\u8d44\u6e90 \u7528\u6765\u5b58\u50a8linkis\u81ea\u8eab\u7684\u4e1a\u52a1\u6570\u636e\u7684\u6570\u636e\u5e93  \\n\u53ef\u4ee5\u8bbf\u95ee\u7684yarn\u8d44\u6e90\u961f\u5217 spark/hive/flink\u5f15\u64ce\u7684\u6267\u884c\u90fd\u9700\u8981yarn\u961f\u5217\u8d44\u6e90  \\n\u53ef\u4ee5\u8bbf\u95ee\u7684hive\u7684matedata\u6570\u636e\u5e93\u8d44\u6e90(mysql\u4e3a\u4f8b) hive\u5f15\u64ce\u6267\u884c\u65f6\u9700\u8981  \\n\\n:::caution \u6ce8\u610f\\n\u6ce8\u610f\uff1ahive spark\u7684\u7248\u672c,\u5982\u679c\u548c\u9ed8\u8ba4\u7248\u672c\u533a\u522b\u6bd4\u8f83\u5927\uff0c\u6700\u597d\u4fee\u6539linkis maven\u4f9d\u8d56\u76f8\u5173\u7684hive/spark\u7248\u672c\uff0c\u7136\u540e\u91cd\u65b0\u8fdb\u884c\u7f16\u8bd1\\n:::\\n\\n## 2. \u5b89\u88dd\\n### 2.1 \u5b89\u88c5\u5305\u89e3\u538b\\n\u4e0a\u4f20\u5b89\u88c5\u5305`apache-linkis-1.0.3-incubating-bin.tar.gz`\u540e\uff0c\u8fdb\u884c\u89e3\u538b\u5b89\u88c5\u5305 \\n\\n```shell script\\n$ tar -xvf apache-linkis-1.0.3-incubating-bin.tar.gz\\n$ pwd\\n/data/Install/1.0.3\\n```\\n\\n\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\\n```shell script\\n-rw-r--r-- 1 hadoop hadoop 531847342 Feb 21 10:10 apache-linkis-1.0.3-incubating-bin.tar.gz\\ndrwxrwxr-x 2 hadoop hadoop      4096 Feb 21 10:13 bin  //\u6267\u884c\u73af\u5883\u68c0\u67e5\u548c\u5b89\u88c5\u7684\u811a\u672c\\ndrwxrwxr-x 2 hadoop hadoop      4096 Feb 21 10:13 deploy-config // \u90e8\u7f72\u65f6\u4f9d\u8d56\u7684DB\u7b49\u73af\u5883\u914d\u7f6e\u4fe1\u606f\\n-rw-r--r-- 1 hadoop hadoop      1707 Jan 22  2020 DISCLAIMER-WIP\\n-rw-r--r-- 1 hadoop hadoop     66058 Jan 22  2020 LICENSE\\ndrwxrwxr-x 2 hadoop hadoop     16384 Feb 21 10:13 licenses\\ndrwxrwxr-x 7 hadoop hadoop      4096 Feb 21 10:13 linkis-package // \u5b9e\u9645\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62eclib/\u670d\u52a1\u542f\u52a8\u811a\u672c\u5de5\u5177/db\u7684\u521d\u59cb\u5316\u811a\u672c/\u5fae\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u7b49\\n-rw-r--r-- 1 hadoop hadoop     83126 Jan 22  2020 NOTICE\\n-rw-r--r-- 1 hadoop hadoop      7900 Jan 22  2020 README_CN.md\\n-rw-r--r-- 1 hadoop hadoop      8184 Jan 22  2020 README.md\\n\\n```\\n\\n### 2.2 \u914d\u7f6elinkis\u81ea\u8eab\u6570\u636e\u5e93\u4fe1\u606f\\n```shell script\\nvim deploy-config/db.sh\\n\\n\u793a\u4f8b:\\nMYSQL_HOST=xx.xx.xx.xx\\nMYSQL_PORT=3306\\nMYSQL_DB=linkis_test\\nMYSQL_USER=test\\nMYSQL_PASSWORD=xxxxx\\n\\n```\\n\\n### 2.3 \u914d\u7f6e\u57fa\u7840\u73af\u5883\u53d8\u91cf\\n\\n\u6587\u4ef6\u4f4d\u4e8e`deploy-config/linkis-env.sh`\\n\\n#### \u57fa\u7840\u76ee\u5f55\u914d\u7f6e\\n>\u8bf7\u786e\u8ba4\u90e8\u7f72\u7528\u6237deployUser\uff0c\u62e5\u6709\u8fd9\u4e9b\u914d\u7f6e\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\\n\\n```shell script\\ndeployUser=hadoop #\u6267\u884c\u90e8\u7f72\u7684\u7528\u6237\uff0c\u4e4b\u524d\u521b\u5efa\u7684\u7528\u6237hadoop\\n\\nWORKSPACE_USER_ROOT_PATH=file:///tmp/linkis   # \u6307\u5b9a\u7528\u6237\u4f7f\u7528\u7684\u76ee\u5f55\u8def\u5f84\uff0c\u4e00\u822c\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u811a\u672c\u6587\u4ef6\u548c\u65e5\u5fd7\u6587\u4ef6\u7b49\uff0c\u662f\u7528\u6237\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002 \u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u9879\u4e3a  wds.linkis.filesystem.root.path(linkis.properties)\\n\\nRESULT_SET_ROOT_PATH=file:///tmp/linkis   # \u7ed3\u679c\u96c6\u65e5\u5fd7\u7b49\u6587\u4ef6\u8def\u5f84\uff0c\u7528\u4e8e\u5b58\u50a8Job\u7684\u7ed3\u679c\u96c6\u6587\u4ef6  wds.linkis.resultSet.store.path(linkis-cg-entrance.properties) //\u5982\u679c\u672a\u914d\u7f6e \u4f7f\u7528HDFS_USER_ROOT_PATH\u7684\u914d\u7f6e\\n\\nHDFS_USER_ROOT_PATH=hdfs:///tmp/linkis   #  \u7ed3\u679c\u96c6\u65e5\u5fd7\u7b49\u6587\u4ef6\u8def\u5f84\uff0c\u7528\u4e8e\u5b58\u50a8Job\u7684\u7ed3\u679c\u96c6\u6587\u4ef6  wds.linkis.filesystem.hdfs.root.path(linkis.properties)\\n\\nENGINECONN_ROOT_PATH=/appcom/tmp #\u5b58\u653e\u6267\u884c\u5f15\u64ce\u7684\u5de5\u4f5c\u8def\u5f84\uff0c\u9700\u8981\u90e8\u7f72\u7528\u6237\u6709\u5199\u6743\u9650\u7684\u672c\u5730\u76ee\u5f55   wds.linkis.engineconn.root.dir(linkis-cg-engineconnmanager.properties)\\n```\\n\u6ce8\u610f\uff1a\u786e\u8ba4\u90e8\u7f72\u7528\u6237\u662f\u5426\u6709\u5bf9\u5e94\u6587\u4ef6\u76ee\u5f55\u7684\u8bfb\u5199\u7684\u6743\u9650\\n\\n#### HIVE\u7684META\u914d\u7f6e\\n```shell script\\nHIVE_META_URL=jdbc:mysql://10.10.10.10:3306/hive_meta_demo?useUnicode=true&amp;characterEncoding=UTF-8 # HiveMeta\u5143\u6570\u636e\u5e93\u7684URL\\nHIVE_META_USER=demo   # HiveMeta\u5143\u6570\u636e\u5e93\u7684\u7528\u6237\\nHIVE_META_PASSWORD=demo123    # HiveMeta\u5143\u6570\u636e\u5e93\u7684\u5bc6\u7801\\n```\\n\\n#### Yarn\u7684ResourceManager\u7684\u5730\u5740\\n\\n```shell script\\n\\n#\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95eehttp://xx.xx.xx.xx:8088/ws/v1/cluster/scheduler \u63a5\u53e3\u786e\u8ba4\u662f\u5426\u6b63\u5e38\\nYARN_RESTFUL_URL=http://xx.xx.xx.xx:8088 \\n```\\n\u6267\u884cspark\u4efb\u52a1\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u5230yarn\u7684ResourceManager\uff0clinkis\u9ed8\u8ba4\u5b83\u662f\u672a\u5f00\u542f\u6743\u9650\u9a8c\u8bc1\u7684\uff0c\u5982\u679cResourceManager\u5f00\u542f\u4e86\u5bc6\u7801\u6743\u9650\u9a8c\u8bc1\uff0c\u8bf7\u5b89\u88c5\u90e8\u7f72\u540e\uff0c\u4fee\u6539`linkis_cg_engine_conn_plugin_bml_resources`\u8868\u6570\u636e(\u6216\u5219\u53c2\u89c1[\u68c0\u67e5\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u662f\u5426\u4e0a\u4f20\u6210\u529f](#6-\u68c0\u67e5\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u662f\u5426\u4e0a\u4f20\u6210\u529f))\\n\\n#### LDAP \u767b\u5f55\u9a8c\u8bc1\\n>linkis\u9ed8\u8ba4\u662f\u4f7f\u7528\u9759\u6001\u7528\u6237\u548c\u5bc6\u7801,\u9759\u6001\u7528\u6237\u5373\u90e8\u7f72\u7528\u6237\uff0c\u9759\u6001\u5bc6\u7801\u4f1a\u5728\u6267\u884c\u90e8\u7f72\u662f\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5bc6\u7801\u4e32\uff0c\u5b58\u50a8\u4e8e{InstallPath}/conf/linkis-mg-gateway.properties(>=1.0.3\u7248\u672c)\u3002\\n```shell script\\n#LDAP\u914d\u7f6e\uff0c\u9ed8\u8ba4Linkis\u53ea\u652f\u6301\u90e8\u7f72\u7528\u6237\u767b\u5f55\uff0c\u5982\u679c\u9700\u8981\u652f\u6301\u591a\u7528\u6237\u767b\u5f55\u53ef\u4ee5\u4f7f\u7528LDAP\uff0c\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a\\n#LDAP_URL=ldap://localhost:1389/\\n#LDAP_BASEDN=dc=webank,dc=com\\n```\\n\\n\\n#### \u57fa\u7840\u7ec4\u4ef6\u73af\u5883\u4fe1\u606f \\n> \u6700\u597d\u901a\u8fc7\u7528\u6237\u7684\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u914d\u7f6e(\u6b65\u9aa4 1.2 \u6dfb\u52a0\u90e8\u7f72\u7528\u6237\u5df2\u8bf4\u660e), deploy-config/linkis-env.sh\u914d\u7f6e\u6587\u4ef6\u4e2d\u53ef\u4ee5\u4e0d\u8fdb\u884c\u914d\u7f6e \u76f4\u63a5\u6ce8\u91ca\u6389\\n```shell script\\n###HADOOP CONF DIR\\n#HADOOP_CONF_DIR=/appcom/config/hadoop-config\\n###HIVE CONF DIR\\n#HIVE_CONF_DIR=/appcom/config/hive-config\\n###SPARK CONF DIR\\n#SPARK_CONF_DIR=/appcom/config/spark-config\\n```\\n\\n#### \u5f15\u64ce\u7248\u672c\u4fe1\u606f \\n:::caution \u6ce8\u610f\\n\u5982\u679c\u4f7f\u7528\u7684\u5b98\u65b9\u53d1\u5e03\u5305 \u65e0\u9700\u4fee\u6539\uff0c\u5982\u679c\u662f\u6709\u81ea\u884c\u4fee\u6539Hive/Spark\u5f15\u64ce\u7248\u672c\u7f16\u8bd1\u7684\uff0c\u9700\u8981\u4fee\u6539\u3002\\n:::\\n\u5982\u679cspark\u4e0d\u662f2.4.3\u7684\u7248\u672c\uff0c\u9700\u8981\u4fee\u6539\u53c2\u6570\uff1a\\n```shell script\\n## Engine version conf\\n#SPARK_VERSION\uff0c\u5982\u679c\u5b89\u88c5\u7684Spark\u7248\u672c\u4e0d\u662f2.4.3\uff0c\u5219\u9700\u8981\u4fee\u6539\u4e3a\u76f8\u5e94\u7684\u7248\u672c\uff0c\u59823.1.1\\nSPARK_VERSION=3.1.1\\n```\\n\u5982\u679chive\u4e0d\u662f2.3.3\u7684\u7248\u672c\uff0c\u9700\u8981\u4fee\u6539\u53c2\u6570\uff1a\\n```shell script\\n## Engine version conf\\n##HIVE_VERSION\uff0c\u5982\u679c\u5b89\u88c5\u7684Hive\u7248\u672c\u4e0d\u662f2.3.3\uff0c\u5219\u9700\u8981\u4fee\u6539\u4e3a\u76f8\u5e94\u7684\u7248\u672c\uff0c\u59822.3.4\\nHIVE_VERSION=2.3.4\\n```\\n\u5982\u679c\u914d\u7f6e\u4e86\uff0c\u6267\u884c\u5b89\u88c5\u90e8\u7f72\u540e\uff0c\u5b9e\u9645\u4f1a\u5728`{linkisInstallPath}/conf/linkis.properties`\u6587\u4ef6\u4e2d\u88ab\u66f4\u65b0\\n```shell script\\n#wds.linkis.spark.engine.version=\\n#wds.linkis.hive.engine.version=\\n#wds.linkis.python.engine.version=\\n```\\n\\n#### JVM\u5185\u5b58\u914d\u7f6e\\n>\u5fae\u670d\u52a1\u542f\u52a8jvm\u5185\u5b58\u914d\u7f6e\uff0c\u53ef\u4ee5\u6839\u636e\u673a\u5668\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u8c03\u6574\uff0c\u5982\u679c\u673a\u5668\u5185\u5b58\u8d44\u6e90\u8f83\u5c11\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u5c0f\u81f3256/128M\\n```shell script\\n## java application default jvm memory\\nexport SERVER_HEAP_SIZE=\\"512M\\"\\n```\\n\\n#### \u5b89\u88c5\u76ee\u5f55\u914d\u7f6e\\n\\n>linkis\u6700\u7ec8\u4f1a\u88ab\u5b89\u88c5\u5230\u6b64\u76ee\u5f55\u4e0b\uff0c\u4e0d\u914d\u7f6e\u9ed8\u8ba4\u662f\u4e0e\u5f53\u524d\u5b89\u88c5\u5305\u540c\u4e00\u7ea7\u76ee\u5f55\u4e0b\\n>\\n```shell script\\n##The decompression directory and the installation directory need to be inconsistent\\nLINKIS_HOME=/appcom/Install/LinkisInstall\\n```\\n\\n## 3. \u90e8\u7f72\u6d41\u7a0b\\n\\n### 3.1 \u6267\u884c\u90e8\u7f72\u811a\u672c \\n```shell script\\nsh bin/install.sh\\n```\\n:::tip \u6ce8\u610f\\n- \u5982\u679c\u51fa\u73b0\u62a5\u9519\uff0c\u53c8\u4e0d\u6e05\u695a\u5177\u4f53\u662f\u6267\u884c\u4ec0\u4e48\u547d\u4ee4\u62a5\u9519\uff0c\u53ef\u4ee5\u52a0 -v \u53c2\u6570`sh -v bin/install.sh`\uff0c\u5c06shell\u811a\u672c\u6267\u884c\u8fc7\u7a0b\u65e5\u5fd7\u6253\u5370\u51fa\u6765\uff0c\u65b9\u4fbf\u5b9a\u4f4d\u95ee\u9898\\n- \u6743\u9650\u95ee\u9898:mkdir: cannot create directory \u2018xxxx\u2019: Permission denied,\u8bf7\u786e\u8ba4\u90e8\u7f72\u7528\u6237\u662f\u5426\u62e5\u6709\u8be5\u8def\u5f84\u7684\u8bfb\u5199\u6743\u9650 \\n:::\\n\\n### 3.2 \u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898  \\n\\n\\n\u6267\u884c\u6210\u529f\u63d0\u793a\u5982\u4e0b:\\n`Congratulations! You have installed Linkis 1.0.3 successfully, please use sh /data/Install/linkis/sbin/linkis-start-all.sh to start it!  \\nYour default account password is [hadoop/5e8e312b4]`\\n\\n### 3.3 \u914d\u7f6e\u7684\u4fee\u6539\\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u914d\u7f6e\uff0c\u53ef\u4ee5\u91cd\u65b0\u6267\u884c\u5b89\u88c5\uff0c\u6216\u5219\u4fee\u6539\u5bf9\u5e94${InstallPath}/conf/*properties\u6587\u4ef6\uff0c\u91cd\u542f\u5bf9\u5e94\u7684\u670d\u52a1\\n\\n### 3.4 \u6dfb\u52a0mysql\u9a71\u52a8(>=1.0.3)\u7248\u672c \\n\u56e0\u4e3alicense\u539f\u56e0\uff0clinkis\u5b98\u65b9\u53d1\u5e03\u5305\u4e2d(dss\u96c6\u6210\u7684\u5168\u5bb6\u6876\u4f1a\u5305\u542b\uff0c\u65e0\u9700\u624b\u52a8\u6dfb\u52a0)\u79fb\u9664\u4e86mysql-connector-java\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0  \\n\u5177\u4f53\u53c2\u89c1[ \u6dfb\u52a0mysql\u9a71\u52a8\u5305](/docs/latest/deployment/deploy-quick#-44-\u6dfb\u52a0mysql\u9a71\u52a8\u5305)\\n\\n### 3.5 \u542f\u52a8\u670d\u52a1\\n```shell script\\nsh sbin/linkis-start-all.sh\\n```\\n\\n### 3.6 \u68c0\u67e5\u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8 \\n\u8bbf\u95eeeureka\u670d\u52a1\u9875\u9762(http://eurekaip:20303)\uff0c1.0.x\u7248\u672c\uff0c\u4ee5\u4e0b\u670d\u52a1\u662f\u5fc5\u987b\u6b63\u5e38\u542f\u52a8\\n```shell script\\nLINKIS-CG-ENGINECONNMANAGER\\nLINKIS-CG-ENGINEPLUGIN\\nLINKIS-CG-ENTRANCE\\nLINKIS-CG-LINKISMANAGER\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\nLINKIS-MG-EUREKA\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\nLINKIS-MG-GATEWAY\\nLINKIS-PS-CS\\nLINKIS-PS-PUBLICSERVICE\\n```\\n\u5982\u679c\u6709\u670d\u52a1\u672a\u542f\u52a8\uff0c\u53ef\u4ee5\u5728\u5bf9\u5e94\u7684log/${\u670d\u52a1\u540d}.log\u6587\u4ef6\u4e2d\u67e5\u770b\u8be6\u7ec6\u5f02\u5e38\u65e5\u5fd7\u3002\\n\\n\\n## 4. \u5b89\u88c5web\u524d\u7aef\\nweb\u7aef\u662f\u4f7f\u7528nginx\u4f5c\u4e3a\u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668\u7684\uff0c\u8bbf\u95ee\u8bf7\u6c42\u6d41\u7a0b\u662f:\\nlinkis\u7ba1\u7406\u53f0\u8bf7\u6c42->nginx ip:port->linkis-gateway ip:port-> \u5176\u4ed6\u670d\u52a1\\n\\n### 4.1 \u4e0b\u8f7d\u524d\u7aef\u5b89\u88c5\u5305\u5e76\u89e3\u538b\\ntar -xvf apache-linkis-1.0.x-incubating-web-bin.tar.gz\\n\\n### 4.2 \u4fee\u6539\u914d\u7f6econfig.sh\\n```shell script\\n#\u7ba1\u7406\u53f0\u8bbf\u95ee\u7684\u7aef\u53e3 http://localhost:8088\\nlinkis_port=\\"8088\\"\\n\\n#linkis-mg-gateway\u670d\u52a1\u5730\u5740\\nlinkis_url=\\"http://localhost:9020\\"\\n```\\n\\n### 4.3 \u6267\u884c\u524d\u7aef\u90e8\u7f72\\n\\n```shell script\\n#nginx \u9700\u8981sudo\u6743\u9650\u8fdb\u884c\u5b89\u88c5\\nsudo sh install.sh\\n```\\n\u5b89\u88c5\u540e\uff0clinkis\u7684nginx\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u662f \u5728/etc/nginx/conf.d/linkis.conf\\nnginx\u7684\u65e5\u5fd7\u6587\u4ef6\u5728 /var/log/nginx/access.log \u548c/var/log/nginx/error.log\\n```nginx\\n\\n        server {\\n            listen       8188;# \u8bbf\u95ee\u7aef\u53e3 \u5982\u679c\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u5219\u9700\u8981\u4fee\u6539\\n            server_name  localhost;\\n            #charset koi8-r;\\n            #access_log  /var/log/nginx/host.access.log  main;\\n            location /linkis/visualis {\\n            root   /appcom/Install/linkis-web/linkis/visualis; # \u9759\u6001\u6587\u4ef6\u76ee\u5f55 \\n            autoindex on;\\n            }\\n            location / {\\n            root   /appcom/Install/linkis-web/dist; # \u9759\u6001\u6587\u4ef6\u76ee\u5f55 \\n            index  index.html index.html;\\n            }\\n            location /ws {\\n            proxy_pass http://localhost:9020;#\u540e\u7aefLinkis\u7684\u5730\u5740\\n            proxy_http_version 1.1;\\n            proxy_set_header Upgrade $http_upgrade;\\n            proxy_set_header Connection upgrade;\\n            }\\n\\n            location /api {\\n            proxy_pass http://localhost:9020; #\u540e\u7aefLinkis\u7684\u5730\u5740\\n            proxy_set_header Host $host;\\n            proxy_set_header X-Real-IP $remote_addr;\\n            proxy_set_header x_real_ipP $remote_addr;\\n            proxy_set_header remote_addr $remote_addr;\\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n            proxy_http_version 1.1;\\n            proxy_connect_timeout 4s;\\n            proxy_read_timeout 600s;\\n            proxy_send_timeout 12s;\\n            proxy_set_header Upgrade $http_upgrade;\\n            proxy_set_header Connection upgrade;\\n            }\\n\\n            #error_page  404              /404.html;\\n            # redirect server error pages to the static page /50x.html\\n            #\\n            error_page   500 502 503 504  /50x.html;\\n            location = /50x.html {\\n            root   /usr/share/nginx/html;\\n            }\\n        }\\n```\\n\\n\u5982\u679c\u9700\u8981\u4fee\u6539\u7aef\u53e3\u6216\u5219\u9759\u6001\u8d44\u6e90\u76ee\u5f55\u7b49\uff0c\u8bf7\u4fee\u6539/etc/nginx/conf.d/linkis.conf \u6587\u4ef6\u540e\u6267\u884c `sudo nginx -s reload` \u547d\u4ee4\\n:::caution \u6ce8\u610f\\n- \u76ee\u524d\u6682\u672a\u96c6\u6210visualis\u529f\u80fd\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5982\u679c\u63d0\u793a\u5b89\u88c5linkis/visualis\u5931\u8d25\uff0c\u53ef\u4ee5\u5ffd\u7565 \\n- \u67e5\u770bnginx\u662f\u5426\u6b63\u5e38\u542f\u52a8\uff1a\u68c0\u67e5nginx\u8fdb\u7a0b\u662f\u5426\u5b58\u5728 ps -ef |grep nginx \\n- \u68c0\u67e5nginx\u7684\u914d\u7f6e\u662f\u5426\u6b63\u786e sudo nginx -T  \\n- \u5982\u679c\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u53ef\u4ee5\u4fee\u6539nginx\u542f\u52a8\u7684\u670d\u52a1\u7aef\u53e3`/etc/nginx/conf.d/linkis.conf`listen\u7aef\u53e3\u503c\uff0c\u4fdd\u5b58\u540e\u91cd\u65b0\u542f\u52a8\\n- \u5982\u679c\u8bbf\u95ee\u7ba1\u7406\u53f0\u51fa\u73b0\u63a5\u53e3502\uff0c\u6216\u5219`Unexpected token < in JSON at position 0`\u5f02\u5e38\uff0c\u8bf7\u786e\u8ba4linkis-mg-gateway\u662f\u5426\u6b63\u5e38\u542f\u52a8\uff0c\u5982\u679c\u6b63\u5e38\u542f\u52a8\uff0c\u67e5\u770bnginx\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684linkis-mg-gateway\u670d\u52a1\u5730\u5740\u662f\u5426\u6b63\u786e\\n:::\\n\\n### 4.4 \u767b\u5f55web\u7aef\u67e5\u770b\u4fe1\u606f\\nhttp://xx.xx.xx.xx:8188/#/login\\n\u7528\u6237\u540d/\u5bc6\u7801\u5728{InstallPath}/conf/linkis-mg-gateway.properties\u4e2d\u67e5\u770b\\n```shell script\\n#\u672a\u4f7f\u7528LDAP\u914d\u7f6e\u65f6\\nwds.linkis.admin.user= #\u7528\u6237\\nwds.linkis.admin.password= #\u5bc6\u7801\\n\\n```\\n## 5 Yarn\u961f\u5217\u68c0\u67e5\\n>\u5982\u679c\u9700\u8981\u4f7f\u7528\u5230spark/hive/flink\u5f15\u64ce    \\n\\n\u767b\u5f55\u540e\u67e5\u770b\u80fd\u5426\u6b63\u5e38\u663e\u793ayarn\u961f\u5217\u8d44\u6e90(\u70b9\u51fb\u9875\u9762\u53f3\u4e0b\u89d2\u6309\u94ae)  \\n\u6b63\u5e38\u5982\u4e0b\u56fe\u6240\u793a:    \\n![yarn-normal](https://user-images.githubusercontent.com/7869972/159955494-2f305a38-a3d6-4798-83aa-58cde23bc436.png)\\n\\n\u82e5\u5982\u679c\u65e0\u6cd5\u663e\u793a\uff1a\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6307\u5f15\u8c03\u6574 \\n\\n### 5.1 \u67e5\u770byarn\u5730\u5740\u662f\u5426\u914d\u7f6e\u6b63\u786e   \\n\u6570\u636e\u5e93\u8868 linkis_cg_rm_external_resource_provider  \\n\u63d2\u5165yarn\u6570\u636e\u4fe1\u606f  \\n```sql\\nINSERT INTO `linkis_cg_rm_external_resource_provider`\\n(`resource_type`, `name`, `labels`, `config`) VALUES\\n(\'Yarn\', \'sit\', NULL,\\n\'{\\\\r\\\\n\\"rmWebAddress\\": \\"http://xx.xx.xx.xx:8088\\",\\\\r\\\\n\\"hadoopVersion\\": \\"2.7.2\\",\\\\r\\\\n\\"authorEnable\\":false,\\\\r\\\\n\\"user\\":\\"hadoop\\",\\\\r\\\\n\\"pwd\\":\\"123456\\"\\\\r\\\\n}\'\\n);\\n\\nconfig\u5b57\u6bb5\u5c5e\u6027\\n\\n\\"rmWebAddress\\": \\"http://xx.xx.xx.xx:8088\\",  #\u9700\u8981\u5e26\u4e0ahttp\u4ee5\u53ca\u7aef\u53e3\\n\\"hadoopVersion\\": \\"2.7.2\\",\\n\\"authorEnable\\":true, //\u662f\u5426\u9700\u8981\u8ba4\u8bc1 \u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u901a\u8fc7\u8bbf\u95eehttp://xx.xx.xx.xx:8088\u9a8c\u8bc1\u7528\u6237\u540d\u548c\u5bc6\u7801\\n\\"user\\":\\"user\\",//\u7528\u6237\u540d\\n\\"pwd\\":\\"pwd\\"//\u5bc6\u7801\\n\\n```\\n\u66f4\u65b0\u540e\uff0c\u56e0\u4e3a\u7a0b\u5e8f\u4e2d\u6709\u4f7f\u7528\u5230\u7f13\u5b58\uff0c\u60f3\u8981\u7acb\u5373\u751f\u6548\uff0c\u9700\u8981\u91cd\u542flinkis-cg-linkismanager\u670d\u52a1\\n```shell script\\nsh sbin/linkis-daemon.sh  restart cg-linkismanager\\n```\\n\\n#### 5.2 \u67e5\u770byarn\u961f\u5217\u662f\u5426\u6b63\u786e \\n\u5f02\u5e38\u4fe1\u606f:`desc: queue ide is not exists in YARN.`\\n\u8868\u660e\u914d\u7f6e\u7684yarn\u961f\u5217\u4e0d\u5b58\u5728\uff0c\u9700\u8981\u8fdb\u884c\u8c03\u6574\\n\\n\u4fee\u6539\u65b9\u5f0f:linkis\u7ba1\u7406\u53f0/\u53c2\u6570\u914d\u7f6e>\u5168\u5c40\u8bbe\u7f6e>yarn\u961f\u5217\u540d[wds.linkis.rm.yarnqueue],\u4fee\u6539\u4e00\u4e2a\u53ef\u4ee5\u4f7f\u7528\u7684yarn\u961f\u5217,\u53ef\u4ee5\u4f7f\u7528\u7684yarn \u961f\u5217\u53ef\u4ee5\u5728 rmWebAddress:http://xx.xx.xx.xx:8088/cluster/scheduler \u4e0a\u67e5\u770b\u5230  \\n\\n#### 5.3 \u67e5\u770byarn\u961f\u5217    \\n- \u67e5\u770bhadoop\u96c6\u7fa4\u5730\u5740: http://ip:8088/cluster  \\n- \u67e5\u770byarn\u961f\u5217\u5730\u5740\uff1ahttp://ip:8888/cluster/scheduler  \\n\\n## 6 \u68c0\u67e5\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u662f\u5426\u4e0a\u4f20\u6210\u529f\\n\\n```sql\\n#\u767b\u9646\u5230linkis\u7684\u6570\u636e\u5e93 \\nselect *  from linkis_cg_engine_conn_plugin_bml_resources\\n```\\n\\n\u6b63\u5e38\u5982\u4e0b\uff1a \\n![bml](https://user-images.githubusercontent.com/29391030/156343249-9f6dca8f-4e0d-438b-995f-4f469270a22d.png)\\n\\n\u67e5\u770b\u5f15\u64ce\u7684\u7269\u6599\u8bb0\u5f55\u662f\u5426\u5b58\u5728(\u5982\u679c\u6709\u66f4\u65b0,\u67e5\u770b\u66f4\u65b0\u65f6\u95f4\u662f\u5426\u6b63\u786e)\u3002\\n  \\n\u5982\u679c\u4e0d\u5b58\u5728\u6216\u5219\u672a\u66f4\u65b0\uff0c\u5148\u5c1d\u8bd5\u624b\u52a8\u5237\u65b0\u7269\u6599\u8d44\u6e90(\u8be6\u7ec6\u89c1[\u5f15\u64ce\u7269\u6599\u8d44\u6e90\u5237\u65b0](/docs/latest/deployment/install-engineconn#23-\u5f15\u64ce\u5237\u65b0))\u3002\u901a\u8fc7`log/linkis-cg-engineplugin.log`\u65e5\u5fd7\uff0c\u67e5\u770b\u7269\u6599\u5931\u8d25\u7684\u5177\u4f53\u539f\u56e0\uff0c\u5f88\u591a\u65f6\u5019\u53ef\u80fd\u662fhdfs\u76ee\u5f55\u6ca1\u6709\u6743\u9650\u5bfc\u81f4\uff0c\u68c0\u67e5gateway\u5730\u5740\u914d\u7f6e\u662f\u5426\u6b63\u786e`conf/linkis.properties:wds.linkis.gateway.url`  \\n\\n\u5f15\u64ce\u7684\u7269\u6599\u8d44\u6e90\u9ed8\u8ba4\u4e0a\u4f20\u5230hdfs\u76ee\u5f55\u4e3a `/apps-data/${deployUser}/bml`  \\n```shell script\\nhdfs dfs -ls /apps-data/hadoop/bml\\n#\u5982\u679c\u6ca1\u6709\u8be5\u76ee\u5f55 \u8bf7\u624b\u52a8\u521b\u5efa\u76ee\u5f55\u5e76\u6388\u4e88${deployUser}\u8bfb\u5199\u6743\u9650\\nhdfs dfs -mkdir  /apps-data\\nhdfs dfs -chown hadoop:hadoop   /apps-data\\n```\\n\\n## 7 \u9a8c\u8bc1\u57fa\u7840\u529f\u80fd\\n```\\n#\u5f15\u64ce\u7684engineType \u62fc\u63a5\u7684\u7248\u672c\u53f7\uff0c\u4e00\u5b9a\u8981\u4e0e\u5b9e\u9645\u7684\u76f8\u5339\u914d\\n\\nsh bin/linkis-cli -submitUser  hadoop  -engineType shell-1 -codeType shell  -code \\"whoami\\"\\nsh bin/linkis-cli -submitUser  hadoop  -engineType hive-2.3.3  -codeType hql  -code \\"show tables\\"\\nsh bin/linkis-cli -submitUser  hadoop  -engineType spark-2.4.3 -codeType sql  -code \\"show tables\\"\\nsh bin/linkis-cli -submitUser  hadoop  -engineType python-python2 -codeType python  -code \'print(\\"hello, world!\\")\'\\n```\\n\\n## 8 \u67e5\u770b\u652f\u6301\u7684\u5404\u4e2a\u5f15\u64ce\u7684\u7248\u672c\\n\\n### 8.1 \u65b9\u5f0f1:\u67e5\u770b\u5f15\u64ce\u6253\u5305\u7684\u76ee\u5f55\\n```\\n$ tree linkis-package/lib/linkis-engineconn-plugins/ -L 3\\nlinkis-package/lib/linkis-engineconn-plugins/\\n\u251c\u2500\u2500 hive\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dist\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 v2.3.3  #\u7248\u672c\u4e3a2.3.3  engineType \u4e3ahive-2.3.3\\n\u2502\xa0\xa0 \u2514\u2500\u2500 plugin\\n\u2502\xa0\xa0     \u2514\u2500\u2500 2.3.3\\n\u251c\u2500\u2500 python\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dist\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 vpython2\\n\u2502\xa0\xa0 \u2514\u2500\u2500 plugin\\n\u2502\xa0\xa0     \u2514\u2500\u2500 python2 #\u7248\u672c\u4e3apython2 engineType \u4e3apython-python2\\n\u251c\u2500\u2500 shell\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dist\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 v1\\n\u2502\xa0\xa0 \u2514\u2500\u2500 plugin\\n\u2502\xa0\xa0     \u2514\u2500\u2500 1\\n\u2514\u2500\u2500 spark\\n    \u251c\u2500\u2500 dist\\n    \u2502\xa0\xa0 \u2514\u2500\u2500 v2.4.3\\n    \u2514\u2500\u2500 plugin\\n        \u2514\u2500\u2500 2.4.3\\n```\\n\\n### 8.2 \u65b9\u5f0f2:\u67e5\u770blinkis\u7684\u6570\u636e\u5e93\u8868\\n```shell script\\nselect *  from linkis_cg_engine_conn_plugin_bml_resources\\n```\\n\\n\\n\\n## <font color=\\"red\\">9. \u5b89\u88c5\u90e8\u7f72\u5e38\u89c1\u95ee\u9898\u7684\u6392\u969c</font>\\n\\n### 9.0 \u767b\u9646\u5bc6\u7801\u95ee\u9898\\n\\n      linkis\u9ed8\u8ba4\u662f\u4f7f\u7528\u9759\u6001\u7528\u6237\u548c\u5bc6\u7801,\u9759\u6001\u7528\u6237\u5373\u90e8\u7f72\u7528\u6237\uff0c\u9759\u6001\u5bc6\u7801\u4f1a\u5728\u6267\u884c\u90e8\u7f72\u662f\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5bc6\u7801\u4e32\uff0c\u5b58\u50a8\u4e8e{InstallPath}/conf/linkis-mg-gateway.properties(>=1.0.3\u7248\u672c)\\n      \\n### 9.1 \u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898   \\n\\nlinkis\u9ed8\u8ba4\u652f\u6301\u7684\u5f15\u64ce\uff0c\u4e0edss\u517c\u5bb9\u5173\u7cfb\u53ef\u4ee5\u67e5\u770b\u6b64\u6587\u6863 https://github.com/apache/incubator-linkis/blob/master/README.md   \\n\\n### 9.2 \u5982\u4f55\u5b9a\u4f4d\u670d\u52a1\u7aef\u5f02\u5e38\u65e5\u5fd7 \\n\\nlinkis\u7684\u5fae\u670d\u52a1\u6bd4\u8f83\u591a\uff0c\u82e5\u5bf9\u7cfb\u7edf\u4e0d\u719f\u6089\uff0c\u6709\u65f6\u5019\u65e0\u6cd5\u5b9a\u4f4d\u5230\u5177\u4f53\u54ea\u4e2a\u6a21\u5757\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u65e5\u5fd7\u641c\u7d22\u65b9\u5f0f  \\n```shell script\\ntail -f log/* |grep -5n exception(\u6216\u5219tail -f log/* |grep -5n ERROR)  \\nless log/* |grep -5n exception(\u6216\u5219less log/* |grep -5n ERROR)  \\n```\\n\\n\\n### 9.3 \u6267\u884c\u5f15\u64ce\u4efb\u52a1\u7684\u5f02\u5e38\u6392\u67e5 \\n\\n** step1:\u627e\u5230\u5f15\u64ce\u7684\u542f\u52a8\u90e8\u7f72\u76ee\u5f55 **  \\n\u65b9\u5f0f1\uff1a\u5982\u679c\u6267\u884c\u65e5\u5fd7\u4e2d\u6709\u663e\u793a\uff0c\u53ef\u4ee5\u5728\u7ba1\u7406\u53f0\u4e0a\u67e5\u770b\u5230 \u5982\u4e0b\u56fe:        \\n![engine-log](https://user-images.githubusercontent.com/29391030/156343802-9d47fa98-dc70-4206-b07f-df439b291028.png)\\n\u65b9\u5f0f2:\u5982\u679c\u65b9\u5f0f1\u4e2d\u6ca1\u6709\u627e\u5230\uff0c\u53ef\u4ee5\u901a\u8fc7\u627e\u5230`conf/linkis-cg-engineconnmanager.properties`\u914d\u7f6e\u7684`wds.linkis.engineconn.root.dir`\u7684\u53c2\u6570\uff0c\u8be5\u503c\u5c31\u662f\u5f15\u64ce\u542f\u52a8\u90e8\u7f72\u7684\u76ee\u5f55\uff0c\u5b50\u76ee\u5f55\u6309\u6267\u884c\u5f15\u64ce\u7684\u7528\u6237\u8fdb\u884c\u4e86\u9694\u79bb\u3002\\n```shell script\\n\u5982\u679c\u4e0d\u6e05\u695ataskid\uff0c\u53ef\u4ee5\u6309\u65f6\u95f4\u6392\u5e8f\u540e\u8fdb\u884c\u9009\u62e9 ll -rt /appcom/tmp/${\u6267\u884c\u7684\u7528\u6237}/workDir   \\ncd /appcom/tmp/${\u6267\u884c\u7684\u7528\u6237}/workDir/${taskId}  \\n\u76ee\u5f55\u5927\u4f53\u5982\u4e0b  \\nconf -> /appcom/tmp/engineConnPublickDir/6a09d5fb-81dd-41af-a58b-9cb5d5d81b5a/v000002/conf #\u5f15\u64ce\u7684\u914d\u7f6e\u6587\u4ef6  \\nengineConnExec.sh #\u751f\u6210\u7684\u5f15\u64ce\u7684\u542f\u52a8\u811a\u672c  \\nlib -> /appcom/tmp/engineConnPublickDir/45bf0e6b-0fa5-47da-9532-c2a9f3ec764d/v000003/lib #\u5f15\u64ce\u4f9d\u8d56\u7684\u5305  \\nlogs #\u5f15\u64ce\u542f\u52a8\u6267\u884c\u7684\u76f8\u5173\u65e5\u5fd7  \\n```\\n** step2\uff1a\u67e5\u770b\u5f15\u64ce\u7684\u65e5\u5fd7 **   \\n```shell script\\nless logs/stdout  \\n```\\n\\n** step3\uff1a\u5c1d\u8bd5\u624b\u52a8\u6267\u884c\u811a\u672c(\u5982\u679c\u9700\u8981) **  \\n\u53ef\u4ee5\u901a\u8fc7\u5c1d\u8bd5\u624b\u52a8\u6267\u884c\u811a\u672c\uff0c\u8fdb\u884c\u8c03\u8bd5 \\n``` \\nsh -v engineConnExec.sh  \\n```\\n\\n### 9.4 CDH\u9002\u914d\u7248\u672c\u7684\u6ce8\u610f\u4e8b\u9879 \\n\\nCDH\u672c\u8eab\u4e0d\u662f\u4f7f\u7528\u7684\u5b98\u65b9\u6807\u51c6\u7684hive/spark\u5305,\u8fdb\u884c\u9002\u914d\u65f6\uff0c\u6700\u597d\u4fee\u6539linkis\u7684\u6e90\u7801\u4e2d\u7684hive/spark\u7248\u672c\u7684\u4f9d\u8d56\uff0c\u8fdb\u884c\u91cd\u65b0\u7f16\u8bd1\u90e8\u7f72\u3002  \\n\u5177\u4f53\u53ef\u4ee5\u53c2\u8003CDH\u9002\u914d\u535a\u6587    \\n[\u3010Linkis1.0\u2014\u2014CDH5\u73af\u5883\u4e2d\u7684\u5b89\u88c5\u4e0e\u8e29\u5751\u3011](https://mp.weixin.qq.com/s/__QxC1NoLQFwme1yljy-Nw)  \\n[\u3010DSS1.0.0+Linkis1.0.2\u2014\u2014CDH5\u73af\u5883\u4e2d\u7684\u8bd5\u7528\u8bb0\u5f55\u3011](https://mp.weixin.qq.com/s/9Pl9P0hizDWbbTBf1yzGJA)  \\n[\u3010DSS1.0.0\u4e0eLinkis1.0.2\u2014\u2014JDBC\u5f15\u64ce\u76f8\u5173\u95ee\u9898\u6c47\u603b\u3011](https://mp.weixin.qq.com/s/vcFge4BNiEuW-7OC3P-yaw)  \\n[\u3010DSS1.0.0\u4e0eLinkis1.0.2\u2014\u2014Flink\u5f15\u64ce\u76f8\u5173\u95ee\u9898\u6c47\u603b\u3011](https://mp.weixin.qq.com/s/VxZ16IPMd1CvcrvHFuU4RQ)  \\n\\n### 9.5 Http\u63a5\u53e3\u7684\u8c03\u8bd5  \\n\\n- \u65b9\u5f0f1 \u53ef\u4ee5\u5f00\u542f[\u514d\u767b\u9646\u6a21\u5f0f\u6307\u5f15](/docs/latest/api/login-api/#2\u514d\u767b\u5f55\u914d\u7f6e)  \\n- \u65b9\u5f0f2 postman\u4e2d\u7684\uff0c\u8bf7\u6c42\u5934\u5e26\u4e0a\u767b\u9646\u6210\u529f\u7684cookie\u503c\\ncookie\u503c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u7aef\u767b\u9646\u6210\u529f\u540e\uff0c\u83b7\u53d6\\n![bml](https://user-images.githubusercontent.com/7869972/157619718-3afb480f-6087-4d5c-9a77-5e75c8cb4a3c.png)\\n\\n```shell script\\nCookie: bdp-user-ticket-id=xxxxxxxxxxxxxxxxxxxxxxxxxxx\\n```\\n- \u65b9\u5f0f3 http\u8bf7\u6c42\u5934\u6dfb\u52a0\u9759\u6001\u7684Token\u4ee4\u724c  \\nToken\u5728conf/token.properties\u8fdb\u884c\u914d\u7f6e \\n\u5982:TEST-AUTH=hadoop,root,user01\\n```shell script\\nToken-Code:TEST-AUTH\\nToken-User:hadoop\\n```\\n\\n### 9.6 \u5f02\u5e38\u95ee\u9898\u7684\u6392\u67e5\u6d41\u7a0b  \\n\u9996\u5148\u8981\u6309\u4e0a\u8ff0\u6b65\u9aa4\u68c0\u67e5\u670d\u52a1/\u73af\u5883\u7b49\u662f\u5426\u90fd\u6b63\u5e38\u542f\u52a8  \\n\u6309\u4e0a\u8ff0\u7f57\u5217\u7684\u4e00\u4e9b\u573a\u666f\u7684\u65b9\u5f0f\u8fdb\u884c\u57fa\u7840\u95ee\u9898\u7684\u6392\u67e5  \\n[QA\u6587\u6863](https://docs.qq.com/doc/DSGZhdnpMV3lTUUxq)\u4e2d\u67e5\u627e\u662f\u5426\u6709\u89e3\u51b3\u65b9\u6848\uff0c\u94fe\u63a5\uff1ahttps://docs.qq.com/doc/DSGZhdnpMV3lTUUxq  \\n\u901a\u8fc7\u641c\u7d22issue\u4e2d\u7684\u5185\u5bb9,\u770b\u662f\u5426\u80fd\u627e\u5230\u89e3\u51b3\u65b9\u6848        \\n![issues](https://user-images.githubusercontent.com/29391030/156343419-81cc25e0-aa94-4c06-871c-bb036eb6d4ff.png)    \\n\u901a\u8fc7\u5b98\u7f51\u6587\u6863\u641c\u7d22\uff0c\u5bf9\u4e8e\u67d0\u4e9b\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b98\u7f51\u641c\u7d22\u5173\u952e\u5b57\u8fdb\u884c\u67e5\u8be2\uff0c\u6bd4\u5982\u641c\u7d22\\"\u90e8\u7f72\\"\u76f8\u5173\u3002(\u5982\u679c\u51fa\u73b0404,\u8bf7\u6d4f\u89c8\u5668\u4e2d\u5237\u65b0\u4e00\u4e0b)          \\n![search](https://user-images.githubusercontent.com/29391030/156343459-7911bd05-4d8d-4a7b-b9f8-35c152d52c41.png)  \\n\\n\\n## 10. \u76f8\u5173\u7684\u8d44\u6599\u5982\u4f55\u83b7\u53d6 \\nlinkis\u5b98\u7f51\u6587\u6863\u6b63\u5728\u4e0d\u65ad\u7684\u5b8c\u5584,\u53ef\u4ee5\u5728\u672c\u5b98\u7f51\u67e5\u770b/\u5173\u952e\u5b57\u641c\u7d22\u76f8\u5173\u6587\u6863\u3002  \\n\u76f8\u5173\u535a\u6587\u94fe\u63a5  \\n- Linkis\u7684\u6280\u672f\u535a\u6587\u96c6  https://github.com/apache/incubator-linkis/issues/1233  \\n- \u516c\u4f17\u53f7\u6280\u672f\u535a\u6587https://mp.weixin.qq.com/mp/homepage?__biz=MzI4MDkxNzUxMg==&hid=1&sn=088cbf2bbed1c80d003c5865bc92ace8&scene=18  \\n- \u5b98\u7f51\u6587\u6863 https://linkis.apache.org/zh-CN/docs/latest/introduction  \\n- bili\u6280\u672f\u5206\u4eab\u89c6\u9891 https://space.bilibili.com/598542776?spm_id_from=333.788.b_765f7570696e666f.2"},{"id":"/2022/02/08/how-to-user-blog","metadata":{"permalink":"/zh-CN/blog/2022/02/08/how-to-user-blog","editUrl":"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/2022-02-08-how-to-user-blog.md","title":"\u5982\u4f55\u7f16\u5199\u535a\u5ba2","description":"\u672c\u6587\u4e3b\u8981\u6307\u5f15\u5927\u5bb6\u5982\u4f55\u5728 Linkis \u5b98\u7f51\u53d1\u5e03\u535a\u6587\uff0c\u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4\u5173\u4e8eApache Linkis\u7684\u535a\u6587\u6587\u6863\uff0c\u5305\u62ec\u4f46\u4e0d\u4ec5\u9650\u4e8eLinkis\u7684\u5b89\u88c5/\u6e90\u7801\u89e3\u6790/\u67b6\u6784/\u7ecf\u9a8c\u5206\u4eab\u7b49\u3002","date":"2022-02-08T00:00:00.000Z","formattedDate":"2022\u5e742\u67088\u65e5","tags":[{"label":"blog","permalink":"/zh-CN/blog/tags/blog"},{"label":"guide","permalink":"/zh-CN/blog/tags/guide"}],"readingTime":6.445,"hasTruncateMarker":true,"authors":[{"name":"Casion","title":"\u5fae\u4f17\u94f6\u884c\u5f00\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/casionone/","imageURL":"https://avatars.githubusercontent.com/u/7869972?v=4","key":"Casion"}],"frontMatter":{"title":"\u5982\u4f55\u7f16\u5199\u535a\u5ba2","authors":["Casion"],"tags":["blog","guide"]},"prevItem":{"title":"Linkis \u90e8\u7f72\u6392\u969c","permalink":"/zh-CN/blog/2022/02/21/linkis-deploy"}},"content":"> _\u672c\u6587\u4e3b\u8981\u6307\u5f15\u5927\u5bb6\u5982\u4f55\u5728 Linkis \u5b98\u7f51\u53d1\u5e03\u535a\u6587\uff0c\u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4\u5173\u4e8eApache Linkis\u7684\u535a\u6587\u6587\u6863\uff0c\u5305\u62ec\u4f46\u4e0d\u4ec5\u9650\u4e8eLinkis\u7684\u5b89\u88c5/\u6e90\u7801\u89e3\u6790/\u67b6\u6784/\u7ecf\u9a8c\u5206\u4eab\u7b49\u3002_\\n\\n\u672c\u6587\u4e3b\u8981\u53c2\u8003Docusaurus\u7684\u5b98\u65b9[\u535a\u6587\u89c4\u8303\u548c\u793a\u4f8b](https://docusaurus.io/zh-CN/blog)\uff0c\u6307\u5f15\u548c\u89c4\u8303\u53ef\u80fd\u5e76\u4e0d\u5b8c\u5584\uff0c\u6709\u4efb\u4f55\u610f\u89c1\u6216\u5efa\u8bae\uff0c\u6b22\u8fce\u63d0\u51fa\u3002\\n\\n\x3c!--truncate--\x3e\\n## \u8d44\u6e90\u8def\u5f84 \\n\\n- \u4e2d\u6587\u535a\u6587\u4ed3\u5e93\u8def\u5f84:https://github.com/apache/incubator-linkis-website/tree/dev/i18n/zh-CN/docusaurus-plugin-content-blog\\n- \u82f1\u6587\u535a\u6587\u4ed3\u5e93\u8def\u5f84:https://github.com/apache/incubator-linkis-website/tree/dev/blog\\n\\n\u6bcf\u7bc7\u535a\u6587\u9700\u8981\u652f\u6301\u4e2d\u6587\u548c\u82f1\u6587\uff0c\u63d0\u4ea4\u65f6\u8bf7\u4e0d\u8981\u9057\u6f0f\u5bf9\u5e94\u7684\u82f1\u6587\u6587\u6863\u3002\\n\\n## \u6587\u4ef6\u547d\u540d\\n\u6846\u67b6\u4f1a\u81ea\u52a8\u4ece\u76ee\u5f55/\u6587\u4ef6\u540d\u4e2d\uff0c\u89e3\u6790\u51fa YYYY-MM-DD \u683c\u5f0f\u7684\u53d1\u5e03\u65e5\u671f\\n- \u5982\uff1ablog/2021-02-08-how-to-user-blog.md \\n- http\u7684\u8bbf\u95ee\u8def\u5f84\u662f: http://xxxxx/blog/2021/02/08/how-to-user-blog\\n\\n\u535a\u6587\u53d1\u5e03\u65e5\u5fd7\u4f1a\u6839\u636e\u6587\u4ef6\u81ea\u52a8\u89e3\u6790\u51fa\u5bf9\u5e94\u7684\u65e5\u671f:2021-02-08\uff0c\u8fd9\u6837\u9ed8\u8ba4\u5c31\u662f\u6309\u7167\u65e5\u671f\u8fdb\u884c\u6392\u5e8f\u3002\\n\\n## \u56fe\u6587\u535a\u5ba2\u89c4\u8303\\n- \u26a0 \u5982\u679c\u535a\u6587\u6709\u6d89\u53ca\u5230\u56fe\u7247\u8d44\u6e90\uff0c\u9700\u8981\u52a0\u8f7d\u672c\u5730\u56fe\u7247\u8d44\u6e90\uff0c\u8bf7\u4f7f\u7528\u6587\u4ef6\u5939\u7684\u5f62\u5f0f\uff0c\u8fd9\u6837\u53ef\u4ee5\u65b9\u4fbf\u7684\u628a\u535a\u5ba2\u6240\u9700\u8981\u7684\u56fe\u7247\u7b49\u8d44\u6e90\u548cMarkdown \u6587\u6863\u653e\u5728\u4e00\u8d77\u3002\\n- \u26a0 \u5982\u679c\u662f\u67b6\u6784/\u6d41\u7a0b\u7b49\u56fe\u7247\uff0c\u539f\u59cb\u7684\u5de5\u7a0b\u6587\u4ef6\uff0c\u5982.vsdx\u6587\u4ef6\uff0c\u4e5f\u8bf7\u4e0a\u4f20\u81f3img\u76ee\u5f55\u4e0b\uff0c\u65b9\u4fbf\u540e\u7eed\u4fee\u6539\u3002\u8bf7\u4fdd\u8bc1\u4e0d\u8981\u518d\u82f1\u6587\u535a\u6587\u4e2d\u51fa\u73b0\u4e2d\u6587\u56fe\u7247\u3002 \\n\\n```shell script\\n|-- blog\\n|   |--2021-02-08-how-to-user-blog \\n|   |    |-- img //\u5b58\u653e\u56fe\u7247\\n|   |    |-- index.md //\u535a\u6587\u5185\u5bb9\\n```\\n\\n\u53c2\u8003\u793a\u4f8b:\\n- \u6e90\u7801\uff1ahttps://github.com/facebook/docusaurus/tree/main/website/blog/2022-01-24-docusaurus-2021-recap\\n- \u89c6\u89c9\u6548\u679c:https://docusaurus.io/zh-CN/blog/2022/01/24/docusaurus-2021-recap\\n\\n## \u6458\u8981\\n\u535a\u5ba2\u7684\u9996\u9875\uff08\u9ed8\u8ba4\u4e3a /blog \uff09\u662f\u535a\u5ba2\u5217\u8868\u9875\uff0c\u4f1a\u5c55\u793a\u6240\u6709\u7684\u535a\u5ba2\u6587\u7ae0\u3002\\n\\n\u5728\u535a\u6587\u4e2d\u4f7f\u7528 \x3c!--truncate--\x3e \u6765\u6807\u8bb0\u6587\u7ae0\u6458\u8981\u3002 \x3c!--truncate--\x3e \u4ee5\u4e0a\u7684\u5185\u5bb9\u5747\u5c06\u6210\u4e3a\u6458\u8981\uff0c\u4f1a\u5728\u535a\u5ba2\u4e3b\u9875\u8fdb\u884c\u5c55\u793a\u3002 \\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\\n```markdown\\n---\\ntitle: \u6458\u8981\u793a\u4f8b\\n---\\n\\nAll these will be part of the blog post summary.\\n\\n\u751a\u81f3\u5305\u62ec\u8fd9\u4e00\u884c\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4f46\u8fd9\u4e00\u884c\u548c\u8fd9\u4e00\u884c\u4e0b\u65b9\u7684\u5185\u5bb9\u5c06\u4e0d\u4f1a\u88ab\u622a\u53d6\u3002\\n\\n\u8fd9\u884c\u4e0d\u4f1a\u3002\\n\\n\u8fd9\u884c\u4e5f\u4e0d\u4f1a\u3002\\n```\\n\\n## \u5143\u6570\u636e\u4fe1\u606f\\n\\nMarkdown \u6587\u6863\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b Markdown \u524d\u7aef\u5143\u6570\u636e\u5b57\u6bb5\uff0c\u7531---\u4e24\u8fb9\u7684\u7ebf\u62ec\u8d77\u6765\u3002\\n\\n```markdown\\n---\\ntitle: Welcome Docusaurus v2\\ndescription: This is my first post on Docusaurus 2.\\ndata:2022-02-01 \\nslug: welcome-docusaurus-v2\\nauthors:\\n  - name: Joel Marcey\\n    title: Co-creator of Docusaurus 1\\n    url: https://github.com/JoelMarcey\\n    image_url: https://github.com/JoelMarcey.png\\n  - name: S\xe9bastien Lorber\\n    title: Docusaurus maintainer\\n    url: https://sebastienlorber.com\\n    image_url: https://github.com/slorber.png\\ntags: [hello, docusaurus-v2]\\nimage: https://i.imgur.com/mErPwqL.png\\nhide_table_of_contents: false\\n---\\n\\nWelcome to this blog. \u6b64\u535a\u5ba2\u4f7f\u7528 [**Docusaurus 2**](https://docusaurus.io/) \u642d\u5efa\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u8fd9\u662f\u6211\u7684\u9996\u7bc7\u535a\u6587\u3002\\n\\n\u4e0b\u65b9\u662f\u4e00\u7cfb\u5217\u5185\u5bb9\u3002\\n```\\n\u5e38\u7528\u53c2\u6570 \\n\\n|\u59d3\u540d |\u7c7b\u578b |\u9ed8\u8ba4 |\u8bf4\u660e |\\n| --- | --- | --- | --- |\\n| `authors` | `string` | `\u672a\u5b9a\u4e49` |\u535a\u5ba2\u6587\u7ae0\u4f5c\u8005\uff08\u6216\u552f\u4e00\u4f5c\u8005\uff09\u5217\u8868\u3002|\\n| `authors.url` | `string` | `\u672a\u5b9a\u4e49` |\u4f5c\u8005\u59d3\u540d\u5c06\u94fe\u63a5\u5230\u7684 URL\u3002\u8fd9\u53ef\u80fd\u662f GitHub\u3001Twitter\u3001Facebook \u4e2a\u4eba\u8d44\u6599 URL \u7b49\u3002\\n| `authors.image_url` | `string` | `\u672a\u5b9a\u4e49` |\u4f5c\u8005\u7f29\u7565\u56fe\u7684 URL\u3002 |\\n| `authors.title` | `string` | `\u672a\u5b9a\u4e49` |\u4f5c\u8005\u7684\u63cf\u8ff0\u3002 |\\n| `title` | `string` |\u964d\u4ef7\u6807\u9898 |\u535a\u6587\u6807\u9898\u3002 |\\n| `date` | `string` |\u6587\u4ef6\u540d\u6216\u6587\u4ef6\u521b\u5efa\u65f6\u95f4 |\u535a\u6587\u521b\u5efa\u65e5\u671f\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u53ef\u4ee5\u4ece\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u540d\u79f0\u4e2d\u63d0\u53d6\uff0c\u4f8b\u5982\uff0c`2021-04-15-blog-post.mdx`\u3001`2021-04-15-blog-post/index.mdx`\u3001`2021/ 04/15/blog-post.mdx`\u3002\u5426\u5219\uff0c\u5c31\u662f Markdown \u6587\u4ef6\u7684\u521b\u5efa\u65f6\u95f4\u3002 |\\n| `tags` | `Tag[]` | `\u672a\u5b9a\u4e49` |\u4e24\u4e2a\u5b57\u7b26\u4e32\u5b57\u6bb5\u201c\u6807\u7b7e\u201d\u548c\u201c\u6c38\u4e45\u94fe\u63a5\u201d\u7684\u5b57\u7b26\u4e32\u6216\u5bf9\u8c61\u5217\u8868\uff0c\u7528\u4e8e\u6807\u8bb0\u60a8\u7684\u5e16\u5b50\u3002 |\\n| `keywords` | `string[]` | `\u672a\u5b9a\u4e49` |\u5173\u952e\u5b57\u5143\u6807\u8bb0\uff0c\u5c06\u6210\u4e3a `<head>` \u4e2d\u7684 `<meta name=\\"keywords\\" content=\\"keyword1,keyword2,...\\"/>`\uff0c\u4f9b\u641c\u7d22\u5f15\u64ce\u4f7f\u7528\u3002 |\\n| `description` | `string` |\u7b2c\u4e00\u884c Markdown \u5185\u5bb9 |\u60a8\u7684\u6587\u6863\u7684\u63cf\u8ff0\uff0c\u5b83\u5c06\u6210\u4e3a `<meta name=\\"description\\" content=\\"...\\"/>` \u548c `<meta property=\\"og:description\\" content=\\"...\\"/>` in `<head>`\uff0c\u88ab\u641c\u7d22\u5f15\u64ce\u4f7f\u7528\u3002 |\\n| `image` | `string` | `\u672a\u5b9a\u4e49` |\u663e\u793a\u5e16\u5b50\u94fe\u63a5\u65f6\u5c06\u4f7f\u7528\u7684\u5c01\u9762\u6216\u7f29\u7565\u56fe\u3002 |\\n| `slug` | `string` |\u6587\u4ef6\u8def\u5f84 |\u5141\u8bb8\u81ea\u5b9a\u4e49\u535a\u5ba2\u6587\u7ae0 url (`/<routeBasePath>/<slug>`)\u3002\u652f\u6301\u591a\u79cd\u6a21\u5f0f\uff1a`slug: my-blog-post`, `slug: /my/path/to/blog/post`, slug: `/`\u3002 |\\n\\n| Name | Type | Default | Description |\\n| --- | --- | --- | --- |\\n| `authors` | `Authors` | `undefined` | List of blog post authors (or unique author).|\\n| `authors.url` | `string` | `undefined` | The URL that the author\'s name will be linked to. This could be a GitHub, Twitter, Facebook profile URL, etc. |\\n| `authors.image_url` | `string` | `undefined` | The URL to the author\'s thumbnail image. |\\n| `authors.title` | `string` | `undefined` |  A description of the author. |\\n| `title` | `string` | Markdown title | The blog post title. |\\n| `date` | `string` | File name or file creation time | The blog post creation date. If not specified, this can be extracted from the file or folder name, e.g, `2021-04-15-blog-post.mdx`, `2021-04-15-blog-post/index.mdx`, `2021/04/15/blog-post.mdx`. Otherwise, it is the Markdown file creation time. |\\n| `tags` | `Tag[]` | `undefined` | A list of strings or objects of two string fields `label` and `permalink` to tag to your post. |\\n| `keywords` | `string[]` | `undefined` | Keywords meta tag, which will become the `<meta name=\\"keywords\\" content=\\"keyword1,keyword2,...\\"/>` in `<head>`, used by search engines. |\\n| `description` | `string` | The first line of Markdown content | The description of your document, which will become the `<meta name=\\"description\\" content=\\"...\\"/>` and `<meta property=\\"og:description\\" content=\\"...\\"/>` in `<head>`, used by search engines. |\\n| `image` | `string` | `undefined` | Cover or thumbnail image that will be used when displaying the link to your post. |\\n| `slug` | `string` | File path | Allows to customize the blog post url (`/<routeBasePath>/<slug>`). Support multiple patterns: `slug: my-blog-post`, `slug: /my/path/to/blog/post`, slug: `/`. |\\n\\n\\n##  \u4f5c\u8005\u4fe1\u606f\u7ef4\u62a4\\n\\n\u5bf9\u4e8e\u666e\u901a\u7684\u535a\u5ba2\u6587\u7ae0\u4f5c\u8005\u6765\u8bf4\uff0c\u7ef4\u62a4\u6bcf\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\u5185\u8054\u7684\u4f5c\u8005\u4fe1\u606f\u53ef\u80fd\u5f88\u4e4f\u5473\u3002\\n\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5168\u5c40\u58f0\u660e\u8fd9\u4e9b\u4f5c\u8005\uff1a\\n`blog/authors.yml`\\n```yaml\\nCasion:\\n  name: Casion\\n  title: Development Engineer of WeBank\\n  url: https://github.com/casionone/\\n  image_url: https://avatars.githubusercontent.com/u/7869972?v=4\\n```"}]}')}}]);