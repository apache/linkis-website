<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Apache Linkis Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Apache Linkis Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache Linkis" href="/zh-CN/opensearch.xml"><title data-react-helmet="true">如何发布版本 | Apache Linkis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://linkis.incubator.apache.org/zh-CN/community/how-to-release"><meta data-react-helmet="true" name="docsearch:language" content="zh-CN"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-community-current"><meta data-react-helmet="true" property="og:title" content="如何发布版本 | Apache Linkis"><meta data-react-helmet="true" name="description" content="本文以发布 1.1.2 Apache版本为示例。如果是非Apache版本的发布指引见 详细信息见  https://incubator.apache.org/guides/releasemanagement.html"><meta data-react-helmet="true" property="og:description" content="本文以发布 1.1.2 Apache版本为示例。如果是非Apache版本的发布指引见 详细信息见  https://incubator.apache.org/guides/releasemanagement.html"><link data-react-helmet="true" rel="shortcut icon" href="/zh-CN/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://linkis.incubator.apache.org/zh-CN/community/how-to-release"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/community/how-to-release" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/zh-CN/community/how-to-release" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/community/how-to-release" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://AE29KQB3IA-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.91a78464.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.40e61d69.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.5be2f7ee.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><img src="/zh-CN/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/zh-CN/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apache Linkis(Incubating)</b></a><a class="navbar__item navbar__link" href="/zh-CN/">首页</a><a class="navbar__item navbar__link" href="/zh-CN/faq/main">FAQ</a><a class="navbar__item navbar__link" href="/zh-CN/download/main">下载</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/community/how-to-subscribe">社区</a><a class="navbar__item navbar__link" href="/zh-CN/blog">博客</a><a class="navbar__item navbar__link" href="/zh-CN/team">团队</a><a class="navbar__item navbar__link" href="/zh-CN/user">用户</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Apache</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">基金会</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">证书</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">事件</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">安全</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">赞助</a></li><li><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">致谢</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">文档</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-CN/docs/1.1.2/introduction">Next-1.1.2 (WIP)</a></li><li><a class="dropdown__link" href="/zh-CN/docs/latest/introduction">1.1.1</a></li><li><a class="dropdown__link" href="/zh-CN/docs/1.1.0/introduction">1.1.0</a></li><li><a class="dropdown__link" href="/zh-CN/docs/1.0.3/introduction">1.0.3</a></li><li><a class="dropdown__link" href="/zh-CN/docs/1.0.2/introduction">1.0.2</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.11.0/introduction">0.11.0</a></li><li><a class="dropdown__link" href="/zh-CN/versions/">All Versions</a></li></ul></div><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg t="1631348384596" class="iconLanguage_EbrZ" viewBox="0 0 1024 1024" version="1.1" p-id="557" width="20" height="20"><path d="M547.797333 638.208l-104.405333-103.168 1.237333-1.28a720.170667 720.170667 0 0 0 152.490667-268.373333h120.448V183.082667h-287.744V100.906667H347.605333v82.218666H59.818667V265.386667h459.178666a648.234667 648.234667 0 0 1-130.304 219.946666 643.242667 643.242667 0 0 1-94.976-137.728H211.541333a722.048 722.048 0 0 0 122.453334 187.434667l-209.194667 206.378667 58.368 58.368 205.525333-205.525334 127.872 127.829334 31.232-83.84m231.424-208.426667h-82.218666l-184.96 493.312h82.218666l46.037334-123.306667h195.242666l46.464 123.306667h82.218667l-185.002667-493.312m-107.690666 287.744l66.56-178.005333 66.602666 178.005333z" fill="currentColor" p-id="558"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/community/how-to-release" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/zh-CN/community/how-to-release" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">简体中文</a></li></ul></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-subscribe">订阅邮件列表</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-email">如何使用邮件列表</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-contribute">如何参与项目贡献</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-contribute-to-website">如何参与官网贡献</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-participate-in-developer-meetings">如何参与开发者例会</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/zh-CN/community/how-to-release">如何发布版本</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-verify">发布版本验证</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/security">安全</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-vote-a-committer-ppmc">如何提名新的Committer 和 PPMC</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-sign-apache-icla">ICLA 签署流程</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/ppmc-related-permission-configuration">PPMC/Committer 相关权限配置</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">开发规范</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/how-to-write-unit-test-code">如何编写单元测试代码</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/zh-CN/community/microservice-division">微服务的划分</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apache 发布指南</h1></header><blockquote><p>本文以发布 1.1.2 Apache版本为示例。如果是非Apache版本的发布指引见 <a href="https://incubator.apache.org/guides/releasemanagement.html" target="_blank" rel="noopener noreferrer">详细信息见</a>  <a href="https://incubator.apache.org/guides/releasemanagement.html" target="_blank" rel="noopener noreferrer">https://incubator.apache.org/guides/releasemanagement.html</a></p></blockquote><p>理解 Apache 发布的内容和流程
Source Release 是 Apache 关注的重点，也是发布的必须内容；而 Binary Release 是可选项，
请参考以下链接，找到更多关于 ASF 的发布指南:</p><ul><li><a href="http://www.apache.org/dev/release-publishing" target="_blank" rel="noopener noreferrer">Apache Release Guide</a></li><li><a href="http://www.apache.org/dev/release.html" target="_blank" rel="noopener noreferrer">Apache Release Policy</a></li><li><a href="http://www.apache.org/dev/publishing-maven-artifacts.html" target="_blank" rel="noopener noreferrer">Maven Release Info</a></li></ul><p>Apache的maven和SVN仓库都会使用到GPG签名来验证物料文件的合法性</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="1-工具准备"></a>1 工具准备<a class="hash-link" href="#1-工具准备" title="Direct link to heading">#</a></h2><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>当本次发布者是首次进行发布时需要</p></div></div><p><strong>主要包括签名工具GnuPG、Maven 仓库认证相关准备</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="11-安装gpg"></a>1.1 安装GPG<a class="hash-link" href="#11-安装gpg" title="Direct link to heading">#</a></h3><p>（以Window系统为例，如果有安装过git客户端，gpg可能已经存在，无需再次安装）</p><p>在<a href="https://www.gnupg.org/download/index.html" target="_blank" rel="noopener noreferrer">GnuPG官网</a>下载二进制安装包（GnuPG binary releases）。目前最新版本为<a href="https://gpg4win.org/download.html" target="_blank" rel="noopener noreferrer">Gpg4win-3.1.16 2021-06-11</a> 下载后请先完成安装操作
注：GnuPG的1.x版本和2.x版本的命令有细微差别，下列说明以2.2.28为例
安装后gpg命令添加至系统环境变量且可用</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#检查版本，应该为2.x</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg --version </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="12-用gpg生成key"></a>1.2 用gpg生成key<a class="hash-link" href="#12-用gpg生成key" title="Direct link to heading">#</a></h3><p><strong>需要注意以下几点：</strong></p><ul><li>使用的邮箱应该是apache邮箱</li><li>名字最好使用拼音或者英文，否则会出现乱码</li></ul><p>根据提示，生成 key</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ gpg --full-gen-key</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GnuPG</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">2.2</span><span class="token plain">.28</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> Copyright </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">2021</span><span class="token plain"> g10 Code GmbH</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">This is </span><span class="token function" style="color:rgb(80, 250, 123)">free</span><span class="token plain"> software: you are </span><span class="token function" style="color:rgb(80, 250, 123)">free</span><span class="token plain"> to change and redistribute it.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Please </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> what kind of key you want:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> RSA and RSA </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> DSA and Elgamal</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> DSA </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> RSA </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">14</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> Existing key from card</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Your selection? </span><span class="token number">1</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入1</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RSA keys may be between </span><span class="token number">1024</span><span class="token plain"> and </span><span class="token number">4096</span><span class="token plain"> bits long.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">What keysize </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> you want? </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3072</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">4096</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入4096</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Requested keysize is </span><span class="token number">4096</span><span class="token plain"> bits</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Please specify how long the key should be valid.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> key does not expire</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">n</span><span class="token operator">&gt;</span><span class="token plain">  </span><span class="token operator">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> n days</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">n</span><span class="token operator">&gt;</span><span class="token plain">w </span><span class="token operator">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> n weeks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">n</span><span class="token operator">&gt;</span><span class="token plain">m </span><span class="token operator">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> n months</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">n</span><span class="token operator">&gt;</span><span class="token plain">y </span><span class="token operator">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> n years</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Key is valid for? </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入0</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Key does not expire at all</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Is this correct? </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> y </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入y</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GnuPG needs to construct a user ID to identify your key.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Real name: mingXiao </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入拼英或则英文名</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Email address: xiaoming@apache.org </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入apache的邮箱地址</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Comment: </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">test</span><span class="token plain"> key </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> apache create at </span><span class="token number">20211110</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入一些注释，可以为空</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">You selected this </span><span class="token environment constant" style="color:rgb(189, 147, 249)">USER</span><span class="token plain">-ID:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mingXiao (test key for apache create at 20211110) &lt;xiaoming@apache.org&gt;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Change </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">ame, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">omment, </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">E</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">mail or </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">O</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">kay/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">uit? O </span><span class="token comment" style="color:rgb(98, 114, 164)">#这里输入O</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">We need to generate a lot of random bytes. It is a good idea to perform</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">some other action </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">type on the keyboard, move the mouse, utilize the</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">disks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> during the prime generation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> this gives the random number</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generator a better chance to gain enough entropy.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 此时会弹出对话框，要求为这个gpg输入密钥，需要记住，后续发布会用到。</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌──────────────────────────────────────────────────────┐</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ Please enter this passphrase to protect your new key │</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│                                                      │</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ Passphrase: _______不能少于8位______________          │</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ Repeat:     _______________________________          │</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│                      </span><span class="token operator">&lt;</span><span class="token plain">OK</span><span class="token operator">&gt;</span><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">Cancel</span><span class="token operator">&gt;</span><span class="token plain">          │</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└──────────────────────────────────────────────────────┘</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#输入秘钥完毕后 需要执行一定的随机动作来生成加密素数，创建好后，会输出以下信息</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg: key 1AE82584584EE68E marked as ultimately trusted</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg: revocation certificate stored as </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;C:/Users/xxx/AppData/Roaming/gnupg/openpgp-revocs.d</span><span class="token string entity" style="color:rgb(255, 121, 198)">\E</span><span class="token string" style="color:rgb(255, 121, 198)">7A9B12D1AC2D8CF857AF5851AE82584584EE68E.rev&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public and secret key created and signed.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub   rsa4096 </span><span class="token number">2021</span><span class="token plain">-11-10 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">SC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      E7A9B12D1AC2D8CF857AF5851AE82584584EE68E</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uid                      mingXiao </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">for apache release create at </span><span class="token number">20211110</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">xiaoming@apache.org</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sub   rsa4096 </span><span class="token number">2021</span><span class="token plain">-11-10 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">E</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="13-上传生成的key到公共服务器"></a>1.3 上传生成的key到公共服务器<a class="hash-link" href="#13-上传生成的key到公共服务器" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ gpg  --keyid-format SHORT --list-keys </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub   rsa4096/584EE68E </span><span class="token number">2021</span><span class="token plain">-11-10 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">SC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#584EE68E就是key id</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      E7A9B12D1AC2D8CF857AF5851AE82584584EE68E</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uid         </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">ultimate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> mingXiao </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">test key </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> apache create at </span><span class="token number">20211110</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">xiaoming@apache.org</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sub   rsa4096/399AA54F </span><span class="token number">2021</span><span class="token plain">-11-10 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">E</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 通过key id发送public key到keyserver </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ gpg --keyserver keyserver.ubuntu.com --send-key 584EE68E</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 其中，keyserver.ubuntu.com为挑选的keyserver，建议使用这个, 因为Apache Nexus校验时是使用的这个keyserver</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="14-查看key是否创建成功"></a>1.4 查看key是否创建成功<a class="hash-link" href="#14-查看key是否创建成功" title="Direct link to heading">#</a></h3><p>验证是否同步到公网，大概需要一分钟才能查到,未成功可以进行上传重试几次 </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">方式一</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#584EE68E是对应的key id</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ gpg --keyserver keyserver.ubuntu.com --recv-keys 584EE68E </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#结果如下</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg: key 1AE82584584EE68E: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mingXiao (test key for apache create at 20211110) &lt;xiaoming@apache.org&gt;&quot;</span><span class="token plain"> not changed</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg: Total number processed: </span><span class="token number">1</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg:              unchanged: </span><span class="token number">1</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">方式二</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">直接访问https://keyserver.ubuntu.com/  输入用户名mingXiao搜索查询结果</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="15-将gpg公钥加入apache-svn项目仓库的keys文件"></a>1.5 将gpg公钥加入Apache SVN项目仓库的KEYS文件<a class="hash-link" href="#15-将gpg公钥加入apache-svn项目仓库的keys文件" title="Direct link to heading">#</a></h3><blockquote><p>这个步骤需要使用SVN，请先下载安装SVN客户端，Apache使用svn托管项目的发布内容</p></blockquote><ul><li>Linkis DEV分支 <a href="https://dist.apache.org/repos/dist/dev/incubator/linkis" target="_blank" rel="noopener noreferrer">https://dist.apache.org/repos/dist/dev/incubator/linkis</a></li><li>Linkis Release分支 <a href="https://dist.apache.org/repos/dist/release/incubator/linkis" target="_blank" rel="noopener noreferrer">https://dist.apache.org/repos/dist/release/incubator/linkis</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="151-在dev分支中添加公钥到keys"></a>1.5.1 在dev分支中添加公钥到KEYS<a class="hash-link" href="#151-在dev分支中添加公钥到keys" title="Direct link to heading">#</a></h4><p>用于发布RC版本</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p linkis_svn/dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> linkis_svn/dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn co https://dist.apache.org/repos/dist/dev/incubator/linkis </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 这个步骤比较慢，会把所有版本都拷贝下来，如果网断了，用svn cleanup删掉锁，重新执行一下，会断点续传</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> linkis_svn/dev/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 追加你生成的KEY到文件KEYS中, 追加后最好检查一下是否正确</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gpg --list-sigs YOUR_NAME@apache.org </span><span class="token operator">&amp;&amp;</span><span class="token plain"> gpg --export --armor YOUR_NAME@apache.org</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> KEYS </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 如果之前存在KEYS文件，则不需要</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> KEYS  </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#提交到SVN</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn ci -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;add gpg key for YOUR_NAME&quot;</span><span class="token plain"> </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="152-在release分支中添加公钥到keys"></a>1.5.2 在release分支中添加公钥到KEYS<a class="hash-link" href="#152-在release分支中添加公钥到keys" title="Direct link to heading">#</a></h4><p>用于发布正式版本</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p linkis_svn/release</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> linkis_svn/release</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn co https://dist.apache.org/repos/dist/release/incubator/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 这个步骤比较慢，会把所有版本都拷贝下来，如果网断了，用svn cleanup删掉锁，重新执行一下，会断点续传</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">  linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 追加你生成的KEY到文件KEYS中, 追加后最好检查一下是否正确</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gpg --list-sigs YOUR_NAME@apache.org </span><span class="token operator">&amp;&amp;</span><span class="token plain"> gpg --export --armor YOUR_NAME@apache.org</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> KEYS </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 如果之前存在KEYS文件，则不需要</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> KEYS  </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#提交到SVN</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn ci -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;add gpg key for YOUR_NAME&quot;</span><span class="token plain"> </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="16-配置apache-maven地址和用户密码设置"></a>1.6 配置apache maven地址和用户密码设置<a class="hash-link" href="#16-配置apache-maven地址和用户密码设置" title="Direct link to heading">#</a></h3><p>mvn密码机制加密后的密码获取步骤 </p><ul><li>step1 生成master密码</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mvn --encrypt-master-password </span><span class="token operator">&lt;</span><span class="token plain">apache password</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>step2 配置master密码
新增文件 ${user.home}/.m2/settings-security.xml
配置step1创建的密码 </li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token plain">settingsSecurity</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">master</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&lt;</span><span class="token plain">/master</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">/settingsSecurity</span><span class="token operator">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>step3 生成最终加密密码 </li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mvn --encrypt-password </span><span class="token operator">&lt;</span><span class="token plain">apache password</span><span class="token operator">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>step4 将step3生成的最终密码填写到下面的<code>$encryptPassword</code>中</li></ul><p><strong>详细的加密设置可参考<a href="http://maven.apache.org/guides/mini/guide-encryption.html" target="_blank" rel="noopener noreferrer">这里</a></strong></p><p>在maven的配置文件~/.m2/settings.xml中，则添加下面的<code>&lt;server&gt;</code>项 </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token prolog" style="color:rgb(189, 147, 249)">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">settings</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name namespace" style="color:rgb(241, 250, 140)">xsi:</span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://maven.apache.org/SETTINGS/1.1.0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">    </span><span class="token tag attr-name namespace" style="color:rgb(241, 250, 140)">xmlns:</span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">servers</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- Apache Repo Settings --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">server</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">apache.snapshots.https</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- APACHE LDAP 用户名 --&gt;</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">username</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">$ApacheId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">username</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!--APACHE LDAP 密码（使用经过mvn密码机制加密后的密码）--&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">password</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">$encryptPassword</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">password</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">server</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">server</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">apache.releases.https</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">username</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">$ApacheId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">username</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">password</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">$encryptPassword</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">password</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">server</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">servers</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">profiles</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">profile</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">apache-release</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">id</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">properties</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- Your GPG Keyname here --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.keyname</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">你的KEYID</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.keyname</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- Use an agent: Prevents being asked for the password during the build --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.useagent</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.useagent</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.passphrase</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">你的私钥的密码</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">gpg.passphrase</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">properties</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">profile</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">profiles</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">settings</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>如果后续执行2.3步进行deploy时，报401，可以运行<code>mvn help:effective-settings</code> 检查下生效的maven <code>settings.xml</code>配置，
可以尝试将上述的账户密码配置再自己maven环境的conf配置中，如：<code>D:\apache-maven-3.3.9\conf\setting.xml</code>
</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="2-准备物料包apache-nexus发布"></a>2 准备物料包&amp;Apache Nexus发布<a class="hash-link" href="#2-准备物料包apache-nexus发布" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="21-准备分支tagrelease-notes"></a>2.1 准备分支/Tag/Release Notes<a class="hash-link" href="#21-准备分支tagrelease-notes" title="Direct link to heading">#</a></h3><p>从待发布分支拉取新分支作为待发布分支，如现在要发布$<code>{release_version}</code>版本，则从待发布分支拉取新分支<code>release-${release_version}-${condition_version}</code>，此后所有操作都在<code>release-${release_version}-${condition_version}</code>分支上进行，在最终发布完成后，合入主干master分支。</p><p>step1 基于待发布的开发分支，创建release-${release_version}-rc分支</p><p>如当前开发的源码分支为dev-1.1.2，需要发布1.1.2的版本，创建分支：release-1.1.2-rc1
<img src="https://user-images.githubusercontent.com/7869972/172558655-c734e37d-b005-4016-9821-e6ee047faf1e.png" alt="image"></p><p>step2 创建新的github release</p><p>进入到创建页面 <a href="https://github.com/apache/incubator-linkis/releases/new" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-linkis/releases/new</a>
基于之前release-1.1.2-rc1分支创建同名tag，填写标题<code>Apache Linkis(incubating) Release-1.1.2-Incubating-RC1</code>，并勾选<code>This is a pre-release</code>，将该版本的release notes链接写入</p><p><img src="https://user-images.githubusercontent.com/7869972/172565676-b04a99b9-ced8-4aaf-a479-1b33979d742a.png" alt="image"></p><p>step3 检查</p><p><img src="https://user-images.githubusercontent.com/7869972/172566107-12475a5b-2fba-4dbe-9e96-f4a7a67aa4a9.png" alt="image"></p><p>step4 clone对应的release分支到本地 </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#-b release-1.12-rc1 指定clone分支  -c(config) 指定使用的配置  core.autocrlf=fals 关闭自动换行符的转换 </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone -b release-1.1.2-rc1  -c core.autocrlf</span><span class="token operator">=</span><span class="token plain">false  git@github.com:apache/incubator-linkis.git </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><ul><li><p>Window下，安装git客户端，默认情况下，git clone 项目到Windows本地，git会强制将文件的换行符转成CTRL，而不是LF。
这会导致window下打的发布包 ，对于shell脚本在linux下直接运行，会出现换行符问题 ，clone时通过 <code>-c core.autocrlf=false</code> 关闭自动转换</p></li><li><p>主仓库apache/incubator-linkis准备好发布分支/tag/release notes后，请克隆源码对应的发布分支release-1.1.2-rc1，进行下列步骤</p></li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="22-版本号确认"></a>2.2 版本号确认<a class="hash-link" href="#22-版本号确认" title="Direct link to heading">#</a></h3><p>如果版本号不正确，需要统一修改版本号</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mvn versions:set -DnewVersion</span><span class="token operator">=</span><span class="token number">1.1</span><span class="token plain">.2 </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#修改最外层pom.xml中的配置  </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">linkis.version</span><span class="token operator">&gt;</span><span class="token number">1.1</span><span class="token plain">.</span><span class="token operator file-descriptor important">2</span><span class="token operator">&lt;</span><span class="token plain">/linkis.version</span><span class="token operator">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>检查代码是否正常，包括版本号，编译成功、单元测试全部成功，RAT检查成功等等</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#build检查</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mvn clean install -Dmaven.javadoc.skip=true</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#RAT LICENSE检查 </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#正常5分钟内可以执行完，如果长时间未执行结束，请检查是否由于编译等动作，增加了额外不必要检查的文件</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mvn apache-rat:check</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#无异常后 检查所有的rat文件 </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ find ./ -name rat.txt -print0 | xargs -0 -I file cat file &gt; merged-rat.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>若check异常，请检查是否由于编译等动作，增加了额外不必要检查的文件，可以移除掉。
rat check的白名单文件配置在外层pom.xml中的apache-rat-plugin插件配置中。</p><p>检查merged-rat.txt中所有license信息，注意Binaries 和Archives文件是否为0。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><pre tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Notes: 0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Binaries: 0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Archives: 0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">0 Unknown Licenses</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><font color="red">如果不为0，需要确认源码中是否有对该二进制或则压缩文件的license进行说明，可以参考源码中引用的`linkis-engineconn-plugins/engineconn-plugins/python/src/main/py4j/py4j-0.10.7-src.zip`</font><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="23-发布jar包到apache-nexus仓库"></a>2.3 发布jar包到Apache Nexus仓库<a class="hash-link" href="#23-发布jar包到apache-nexus仓库" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 开始编译并上传 耗时大概在1h40min左右 -DretryFailedDeploymentCount 失败自动重试此时</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mvn -DskipTests deploy -Prelease -Dmaven.javadoc.skip</span><span class="token operator">=</span><span class="token plain">true  -DretryFailedDeploymentCount</span><span class="token operator">=</span><span class="token number">10</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>出现下列情况，请先登陆<a href="https://repository.apache.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">https://repository.apache.org/#stagingRepositories</a>
drop掉异常的任务，重新执行本步骤。</p><ul><li>若使用网络代理或则请求方ip变化，可能会导致apache maven 拆分为了多次上传记录,最好关闭网络代理</li><li>若出现超时，需要重新deploy</li></ul></div></div><p>上述命令执行成功后，待发布版本包会自动上传到Apache的临时筹备仓库(staging repository)。所有被deploy到远程<a href="http://repository.apache.org/" target="_blank" rel="noopener noreferrer">maven仓库</a>的Artifacts都会处于staging状态，访问<a href="https://repository.apache.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">https://repository.apache.org/#stagingRepositories</a>, 使用Apache的LDAP账户登录后，就会看到上传的版本，<code>Repository</code>列的内容即为${STAGING.REPOSITORY}。 <strong>点击<code>Close</code>来告诉Nexus这个构建已经完成，只有这样该版本才是可用的</strong>。 如果电子签名等出现问题，<code>Close</code>会失败，可以通过<code>Activity</code>查看失败信息。
同时也生成了二进制文件 <code>assembly-combined-package/target/apache-linkis-1.1.2-incubating-bin.tar.gz</code></p><p>步骤2.4-3.3执行命令，合并在release.sh脚本中，也可以通过release.sh脚本(见文末附录)来执行 </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="24-打包源码"></a>2.4 打包源码<a class="hash-link" href="#24-打包源码" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#基于release-1.1.2-rc1分支打包源码的tar.gz物料 </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#--prefix=apache-linkis-1.1.2-incubating-src/  注意带上`/`  压缩包解压后会是在apache-linkis-1.1.2-incubating-src文件夹中</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#会生成一个pax_global_header文件 记录的是commitid信息，不加--prefix会导致解压后pax_global_header 和源码文件同级目录</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> archive --format</span><span class="token operator">=</span><span class="token plain">tar.gz --output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dist/apache-linkis/apache-linkis-1.1.2-incubating-src.tar.gz&quot;</span><span class="token plain">  --prefix</span><span class="token operator">=</span><span class="token plain">apache-linkis-1.1.2-incubating-src/  release-1.1.2-rc1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="25-拷贝二进制文件"></a>2.5 拷贝二进制文件<a class="hash-link" href="#25-拷贝二进制文件" title="Direct link to heading">#</a></h3><p>步骤2.3执行后，二进制文件已经生成，位于assembly-combined-package/target/apache-linkis-1.1.2-incubating-bin.tar.gz</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain">  assembly-combined-package/target/apache-linkis-1.1.2-incubating-bin.tar.gz   dist/apache-linkis</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="26-打包前端管理台如果需要发布前端"></a>2.6 打包前端管理台(如果需要发布前端)<a class="hash-link" href="#26-打包前端管理台如果需要发布前端" title="Direct link to heading">#</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>如果不发布前端项目，可以跳过此步骤</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="261-安装nodejs"></a>2.6.1 安装Node.js<a class="hash-link" href="#261-安装nodejs" title="Direct link to heading">#</a></h4><p>将Node.js下载到本地，安装即可。下载地址：<a href="http://nodejs.cn/download/" target="_blank" rel="noopener noreferrer">http://nodejs.cn/download/</a> （建议使用node v14版本）
<strong>该步骤仅第一次使用时需要执行。</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="262-安装依赖包"></a>2.6.2 安装依赖包<a class="hash-link" href="#262-安装依赖包" title="Direct link to heading">#</a></h4><p>在终端命令行中执行以下指令：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#进入项目WEB根目录</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cd incubator-linkis/web</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#安装项目所需依赖</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm install</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>该步骤仅第一次使用时需要执行。</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="263-打包前端管理台项目"></a>2.6.3 打包前端管理台项目<a class="hash-link" href="#263-打包前端管理台项目" title="Direct link to heading">#</a></h4><p>在终端命令行执行以下指令对项目进行打包，生成压缩后的部署安装包。
检查web/package.json，web/.env文件，检查前端管理台版本号是否正确。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm run build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>上述命令执行成功后，会生成前端管理台安装包 <code>apache-linkis-${version}-incubating-web-bin.tar.gz</code></p><p>注意：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token number">1</span><span class="token plain">.Windows下npm </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> 步骤报错：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Error: Can&#x27;t </span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token plain"> Python executable </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;python&quot;</span><span class="token plain">, you can </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">set</span><span class="token plain"> the PYTHON </span><span class="token function" style="color:rgb(80, 250, 123)">env</span><span class="token plain"> variable</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">安装windows-build-tools （管理员权限）</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> --global --production windows-build-tools</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">安装node-gyp</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> --global node-gyp</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">2</span><span class="token plain">.如果编译失败 请按如下步骤清理后重新执行</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#进入项目工作目录，删除 node_modules</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> -rf node_modules</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#删除 package-lock.json</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> -rf package-lock.json</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#清除 npm 缓存</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> cache </span><span class="token function" style="color:rgb(80, 250, 123)">clear</span><span class="token plain"> --force</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#重新下载依赖</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="264-拷贝前端管理台安装包"></a>2.6.4 拷贝前端管理台安装包<a class="hash-link" href="#264-拷贝前端管理台安装包" title="Direct link to heading">#</a></h4><p>步骤2.6.3执行后，前端管理台安装包已经生成，位于 <code>web/apache-linkis-1.1.2-incubating-web-bin.tar.gz</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain">  web/apache-linkis-1.1.2-incubating-web-bin.tar.gz   dist/apache-linkis</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="27-对源码包二进制包进行签名sha512"></a>2.7 对源码包/二进制包进行签名/sha512<a class="hash-link" href="#27-对源码包二进制包进行签名sha512" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">  dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 如果是window cmd 命令无法识别时，可以单独计算签名 如:gpg --armor --output apache-linkis-1.1.2-incubating-src.tar.gz.asc --detach-sig apache-linkis-1.1.2-incubating-src.tar.gz</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> gpg --armor --output </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.asc --detach-sig </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 计算签名</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> sha512sum  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.sha512 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 计算SHA512</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="28-检查生成的签名sha512是否正确"></a>2.8 检查生成的签名/sha512是否正确<a class="hash-link" href="#28-检查生成的签名sha512是否正确" title="Direct link to heading">#</a></h3><p>验证签名是否正确如下：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> gpg --verify </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.asc </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>出现类似以下内容则说明签名正确，关键字：<strong><code>Good signature</code></strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    apache-linkis-xxx-incubating-src.tar.gz</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gpg: Signature made XXXX</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gpg:                using RSA key XXXXX</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gpg: Good signature from </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;xxx @apache.org&gt;&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>验证sha512是否正确如下：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> sha512sum --check  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.sha512</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>详细验证流程可以参见<a href="/zh-CN/community/how-to-verify">验证候选版本</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="3-发布apache-svn仓库"></a>3 发布Apache SVN仓库<a class="hash-link" href="#3-发布apache-svn仓库" title="Direct link to heading">#</a></h2><ul><li>Linkis <a href="https://dist.apache.org/repos/dist/dev/incubator/linkis" target="_blank" rel="noopener noreferrer">DEV分支</a> 用来存储候选版本的源码和二进制等原始物料</li><li>Linkis <a href="https://dist.apache.org/repos/dist/release/incubator/linkis" target="_blank" rel="noopener noreferrer">Release分支</a> 投票通过的RC版本，最终会移动到release库中</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="31-检出linkis发布目录"></a>3.1 检出Linkis发布目录<a class="hash-link" href="#31-检出linkis发布目录" title="Direct link to heading">#</a></h3><p>从Apache SVN dev目录检出Linkis发布目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn co https://dist.apache.org/repos/dist/dev/incubator/linkis  dist/linkis_svn_dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="32-将待发布的内容添加至svn目录"></a>3.2 将待发布的内容添加至SVN目录<a class="hash-link" href="#32-将待发布的内容添加至svn目录" title="Direct link to heading">#</a></h3><p>创建版本号目录,以<code>${release_version}-${RC_version}</code>方式命名，RC_version 从1开始，即候选版本从RC1开始，在发布过程中，存在问题导致投票不通过，需要修正，则需要迭代RC版本，RC版本号要+1。
比如:1.1.2-RC1版本进行投票，若投票通过，无任何问题，则这个RC1版本物料作为最终版本物料发布。
若存在问题（linkis/incubator社区投票时，投票者会严格检查各种发布要求项以及合规问题），需要修正，则修正后，再重新发起投票，下次投票的候选版本为1.1.2-RC2。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p dist/linkis_svn_dev/1.1.2-RC1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>将源码包、二进制包和Linkis可执行二进制包添加至SVN工作目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain"> -f  dist/apache-linkis/*   dist/linkis_svn_dev/1.1.2-RC1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="33-提交apache-svn"></a>3.3 提交Apache SVN<a class="hash-link" href="#33-提交apache-svn" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">  dist/linkis_svn_dev/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 检查svn状态</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn status</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 添加到svn版本</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> </span><span class="token number">1.1</span><span class="token plain">.2-RC1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$  status</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#提交至svn远程服务器 </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn commit -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;prepare for 1.1.2-RC1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>若svn命令出现中文乱码，可尝试设置编码格式(设置编码格式:export LANG=en_US.UTF-8)。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="4-验证release-candidates"></a>4 验证Release Candidates<a class="hash-link" href="#4-验证release-candidates" title="Direct link to heading">#</a></h2><p>详细可以参见<a href="/zh-CN/community/how-to-verify">How to Verify release</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="5-发起投票"></a>5 发起投票<a class="hash-link" href="#5-发起投票" title="Direct link to heading">#</a></h2><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>发送邮件时请使用您的 apache.org 邮箱发送，并使用纯文本格式，详细见<a href="#%E9%82%AE%E4%BB%B6%E5%88%87%E6%8D%A2%E7%BA%AF%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F">附录-邮件切换纯文本格式</a></p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>所有指向校验和、签名和公钥的链接都必须引用Apache主网站<a href="https://downloads.apache.org/%E5%B9%B6%E5%BA%94%E4%BD%BF%E7%94%A8https://(SSL)%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9Ahttps://downloads.apache.org/incubator/linkis/KEYS" target="_blank" rel="noopener noreferrer">https://downloads.apache.org/并应使用https://(SSL)。例如：https://downloads.apache.org/incubator/linkis/KEYS</a></p><p>目前是用的DISCLAIMER-WIP免责申明，请在邮件中加入此说明<code>As the DISCLAIMER-WIP shows....</code>。如果后续解决了WIP待处理的问题后，可以去掉。WIP的使用，详细可见 <a href="https://issues.apache.org/jira/browse/LEGAL-469" target="_blank" rel="noopener noreferrer">https://issues.apache.org/jira/browse/LEGAL-469</a></p></div></div><blockquote><p>Linkis 仍在孵化阶段，需要进行两次投票</p></blockquote><ul><li>Linkis 社区投票，发送邮件至：<code>dev@linkis.apache.org</code></li><li>incubator 社区投票，发送邮件至：<code>general@incubator.apache.org</code> Linkis毕业后，只需要在Linkis社区投票</li><li>在社区投票的邮件正文中的${Linkis Release Manager}，填写负责本次发布的人员，一般是邮件发送人，如<code>Shuai Di</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="51-linkis-社区投票阶段"></a>5.1 Linkis 社区投票阶段<a class="hash-link" href="#51-linkis-社区投票阶段" title="Direct link to heading">#</a></h3><ol><li><p>Linkis 社区投票，发起投票邮件到<code>dev@linkis.apache.org</code>。PMC需要先按照文档检查版本的正确性，然后再进行投票。 经过至少72小时并统计到3个<code>+1</code> PMC member票后，才可进入下一阶段的投票。</p></li><li><p>宣布投票结果,发起投票结果邮件到<code>dev@linkis.apache.org</code>。</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="511-linkis-社区投票模板"></a>5.1.1 Linkis 社区投票模板<a class="hash-link" href="#511-linkis-社区投票模板" title="Direct link to heading">#</a></h4><p>参考示例:<a href="https://lists.apache.org/thread/8j8f8vqotpg4f2kjwq3gg436vtx40p20" target="_blank" rel="noopener noreferrer">[<!-- -->VOTE<!-- -->]<!-- --> Release Apache Linkis (Incubating) 1.1.2-RC2</a>  <a href="https://lists.apache.org/thread/8j8f8vqotpg4f2kjwq3gg436vtx40p20" target="_blank" rel="noopener noreferrer">https://lists.apache.org/thread/8j8f8vqotpg4f2kjwq3gg436vtx40p20</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件标题：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[VOTE] Release Apache Linkis (Incubating) ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件正文：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hello Linkis Community,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    This is a call for vote to release Apache Linkis (Incubating) version ${release_version}-${rc_version}.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Release notes:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://github.com/apache/incubator-linkis/releases/tag/v${release_version}-${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The release candidates:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://dist.apache.org/repos/dist/dev/incubator/linkis/${release_version}-${rc_version}/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Maven artifacts are available in a staging repository at:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://repository.apache.org/content/repositories/orgapachelinkis-{staging-id}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Git tag for the release:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://github.com/apache/incubator-linkis/tree/v${release_version}-${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Keys to verify the Release Candidate:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://downloads.apache.org/incubator/linkis/KEYS</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GPG user ID:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ${YOUR.GPG.USER.ID}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Please vote accordingly:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] +1 approve</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] +0 no opinion</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Checklist for reference:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] Download links are valid.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] Checksums and PGP signatures are valid.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] Source code distributions have correct names matching the current release.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] LICENSE and NOTICE files are correct for each Linkis repo.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] All files have license headers if necessary.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] No unlicensed compiled archives bundled in source archive.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    More detail checklist  please refer:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Steps to validate the release，Please refer to: </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        https://linkis.apache.org/community/how-to-verify</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thanks,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">${Linkis Release Manager}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="512-宣布投票结果模板"></a>5.1.2 宣布投票结果模板<a class="hash-link" href="#512-宣布投票结果模板" title="Direct link to heading">#</a></h4><p>参考示例:<a href="https://lists.apache.org/thread/gh1b1t3cjom8bq9o3xbntbjgrkp0vly3" target="_blank" rel="noopener noreferrer">[<!-- -->RESULT<!-- -->]<!-- -->[<!-- -->VOTE<!-- -->]<!-- --> Release Apache Linkis (Incubating) 1.1.2-RC2</a> <a href="https://lists.apache.org/thread/gh1b1t3cjom8bq9o3xbntbjgrkp0vly3" target="_blank" rel="noopener noreferrer">https://lists.apache.org/thread/gh1b1t3cjom8bq9o3xbntbjgrkp0vly3</a>
备注：该邮件thread地址，可以通过访问<code>https://lists.apache.org/list?dev@linkis.apache.org </code>这个页面查到（注意加载时间可能会比较长），然后选择相应邮件，点击进去后即可生成thread链接;</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件标题：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[RESULT][VOTE] Release Apache Linkis (Incubating) ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件正文：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hello Apache Linkis PPMC and Community,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The vote closes now as 72hr have passed. The vote PASSES with</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    xx (+1 non-binding) votes from the PPMC,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    xx (+1 binding) votes from the IPMC,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    xx (+1 non-binding) votes from the rest of the developer community,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    and no further 0 or -1 votes.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The vote thread: {vote_mail_address}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    I will now bring the vote to general@incubator.apache.org to get approval by the IPMC.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    If this vote passes also, the release is accepted and will be published.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thank you for your support.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">${Linkis Release Manager}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>注: </p><ul><li>PPMC:podling Project Management Committee (PPMC) linkis的ppmc </li><li>IPMC: Incubator Project Management Committee (IPMC)  一般是孵化社区的PMC，linkis的导师都是这个角色 </li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="52-incubator-社区投票阶段"></a>5.2 Incubator 社区投票阶段<a class="hash-link" href="#52-incubator-社区投票阶段" title="Direct link to heading">#</a></h3><ol><li>Incubator社区投票，发起投票邮件到<code>general@incubator.apache.org</code>，需至少3个 <code>+1</code> IPMC Member投票，才可进入下一阶段。</li><li>宣布投票结果,发起投票结果邮件到<code>general@incubator.apache.org</code> 并抄送至<code>dev@linkis.apache.org</code>。</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="521-incubator-社区投票模板"></a>5.2.1 Incubator 社区投票模板<a class="hash-link" href="#521-incubator-社区投票模板" title="Direct link to heading">#</a></h4><p>参考示例:<a href="https://lists.apache.org/thread/9jr6hsf53jmwvnkh8nkt6spwcwc1q42j" target="_blank" rel="noopener noreferrer">[<!-- -->VOTE<!-- -->]<!-- --> Release Apache Linkis (Incubating) 1.1.2-RC2</a> <a href="https://lists.apache.org/thread/9jr6hsf53jmwvnkh8nkt6spwcwc1q42j" target="_blank" rel="noopener noreferrer">https://lists.apache.org/thread/9jr6hsf53jmwvnkh8nkt6spwcwc1q42j</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件标题：[VOTE] Release Apache Linkis(Incubating) ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件正文：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hello Incubator Community,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    This is a call for a vote to release Apache Linkis(Incubating) version</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The Apache Linkis community has voted on and approved a proposal to release</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Apache Linkis(Incubating) version ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    We now kindly request the Incubator PMC members review and vote on this</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    incubator release.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Linkis community vote thread:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • [Linkis社区投票链接]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Vote result thread:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • [Linkis社区投票结果链接]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The release candidate:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://dist.apache.org/repos/dist/dev/incubator/linkis/${release_version}-${rc_version}/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Git tag for the release:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://github.com/apache/incubator-linkis/releases/tag/${release_version}-${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Release notes:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://github.com/apache/incubator-linkis/releases/tag/${release_version}-${rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The artifacts signed with PGP key [填写你个人的KEY], corresponding to [填写你个人的邮箱], that can be found in keys file:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://downloads.apache.org/incubator/linkis/KEYS</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Please vote accordingly:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] +1 approve</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] +0 no opinion</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    More detail checklist  please refer:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Steps to validate the release，Please refer to: </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        • https://linkis.apache.org/community/how-to-verify</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thanks,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On behalf of Apache Linkis(Incubating) community</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>在投票满足条件，并已结束后，需要简单回复之前投票邮件，表示投票已结束，举例：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hi all：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">With a total of 3 +1 binding votes, 2 +1 non-binding votes, no 0 or -1 votes, I will close the voting email.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thanks!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="522-宣布投票结果模板"></a>5.2.2 宣布投票结果模板<a class="hash-link" href="#522-宣布投票结果模板" title="Direct link to heading">#</a></h4><p>参考示例:<a href="https://lists.apache.org/thread/l6xtpt8g1wxwnbotods11fzd1hkoqx63" target="_blank" rel="noopener noreferrer">[<!-- -->RESULT<!-- -->]<!-- -->[<!-- -->VOTE<!-- -->]<!-- --> Release Apache Linkis (Incubating) 1.1.2-RC2</a> <a href="https://lists.apache.org/thread/l6xtpt8g1wxwnbotods11fzd1hkoqx63" target="_blank" rel="noopener noreferrer">https://lists.apache.org/thread/l6xtpt8g1wxwnbotods11fzd1hkoqx63</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件标题：[RESULT][VOTE] Release Apache Linkis ${release_version} {rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件正文：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hi all</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thanks for reviewing and voting for Apache Linkis(Incubating) ${release_version} {rc_version}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">release, I am happy to announce the release voting has passed with [投票结果数]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">binding votes, no +0 or -1 votes. Binding votes are from IPMC</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - xxx</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - xxx</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - xxx</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">The voting thread is:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Incubator社区投票链接]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Many thanks for all our mentors helping us with the release procedure, and</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">all IPMC helped us to review and vote for Apache Linkis(Incubating) release. I will</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">be working on publishing the artifacts soon.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thanks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On behalf of Apache Linkis(Incubating) community</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="6-正式发布"></a>6 正式发布<a class="hash-link" href="#6-正式发布" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="61-迁移源码与二进制包"></a>6.1 迁移源码与二进制包<a class="hash-link" href="#61-迁移源码与二进制包" title="Direct link to heading">#</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>release的分支路径名不能带rc标识</p></div></div><p>将源码和二进制包从svn的<code>dev</code>目录移动到<code>release</code>目录</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#移动源码包与二进制包</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn </span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/linkis/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token plain"> https://dist.apache.org/repos/dist/release/incubator/linkis/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token plain"> -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;transfer packages for </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token string" style="color:rgb(255, 121, 198)">-</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 下面操作 按实际情况 决定是否更新release 分支的key</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 清除原有release目录下的KEYS</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn delete https://dist.apache.org/repos/dist/release/incubator/linkis/KEYS -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;delete KEYS&quot;</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 拷贝dev目录KEYS到release目录</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn </span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/linkis/KEYS https://dist.apache.org/repos/dist/release/incubator/linkis/ -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;transfer KEYS for </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token string" style="color:rgb(255, 121, 198)">-</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="62-确认dev和release下的包是否正确"></a>6.2 确认dev和release下的包是否正确<a class="hash-link" href="#62-确认dev和release下的包是否正确" title="Direct link to heading">#</a></h3><ul><li>确认<a href="https://dist.apache.org/repos/dist/dev/incubator/linkis/" target="_blank" rel="noopener noreferrer">dev</a>下的<code>${release_version}-${rc_version}</code>已被删除, 如果在正式发布前有多个RC版本，多个RC版本均需要删除</li><li>删除<a href="https://dist.apache.org/repos/dist/release/incubator/linkis/" target="_blank" rel="noopener noreferrer">release</a>目录下 上一个版本的发布包，这些包会被自动保存在<a href="https://downloads.apache.org/incubator/linkis/" target="_blank" rel="noopener noreferrer">这里</a></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#删除前请确认上一个版本发布包已更新至https://downloads.apache.org/incubator/linkis/</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn delete https://dist.apache.org/repos/dist/release/incubator/linkis/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${last_release_version}</span><span class="token plain"> -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Delete </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${last_release_version}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>同步至<a href="https://downloads.apache.org/incubator/linkis/" target="_blank" rel="noopener noreferrer">https://downloads.apache.org/incubator/linkis/</a> 至少需要1小时 </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="63-在apache-staging仓库发布版本"></a>6.3 在Apache Staging仓库发布版本<a class="hash-link" href="#63-在apache-staging仓库发布版本" title="Direct link to heading">#</a></h3><ul><li>登录 <a href="http://repository.apache.org" target="_blank" rel="noopener noreferrer">http://repository.apache.org</a> , 使用Apache账号登录</li><li>点击左侧的 Staging repositories，</li><li>搜索 Linkis 关键字，选择你最近上传的仓库，投票邮件中指定的仓库</li><li>点击上方的<code>Release</code>按钮，这个过程会进行一系列检查</li></ul><blockquote><p>等仓库同步到其他数据源，一般需要24小时</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="64-更新下载页面"></a>6.4 更新下载页面<a class="hash-link" href="#64-更新下载页面" title="Direct link to heading">#</a></h3><font color="red">中英文文档都要更新</font><p>linkis的官网下载地址应该指向apache的官方地址</p><p>等待并确认新的发布版本同步至Apache镜像(<a href="https://downloads.apache.org/incubator/linkis/" target="_blank" rel="noopener noreferrer">https://downloads.apache.org/incubator/linkis/</a>) 后，更新如下页面：</p><ul><li><a href="https://linkis.apache.org/zh-CN/download/main" target="_blank" rel="noopener noreferrer">https://linkis.apache.org/zh-CN/download/main</a></li><li><a href="https://linkis.apache.org/download/main" target="_blank" rel="noopener noreferrer">https://linkis.apache.org/download/main</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="65-github-版本发布"></a>6.5 GitHub 版本发布<a class="hash-link" href="#65-github-版本发布" title="Direct link to heading">#</a></h3><ol><li>合并<code>${release_version}-RC</code>分支到<code>master</code>分支(如果未合并)</li><li>打正式版本tag，投票过程中的RC版本tag可以移除</li><li>在 <a href="https://github.com/apache/incubator-linkis/releases" target="_blank" rel="noopener noreferrer">GitHub Releases</a> 页面，更新版本号及版本说明等</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="7-邮件通知版本发布完成"></a>7 邮件通知版本发布完成<a class="hash-link" href="#7-邮件通知版本发布完成" title="Direct link to heading">#</a></h2><blockquote><p>请确保Apache Staging仓库已发布成功，一般是在该步骤的24小时后发布邮件</p></blockquote><p>发邮件到 <code>dev@linkis.apache.org</code> 、 <code>announce@apache.org</code>和<code>general@incubator.apache.org</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件标题：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[ANNOUNCE] Apache Linkis (Incubating) ${release_version} available</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">邮件正文：</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hi all,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Apache Linkis (Incubating) Team is glad to announce the new release of Apache Linkis (Incubating) ${release_version}.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Apache Linkis (Incubating) builds a computation middleware layer to decouple the upper applications and the underlying data engines, provides standardized interfaces (REST, JDBC, WebSocket etc.) to easily connect to various underlying engines (Spark, Presto, Flink, etc.), while enables cross engine context sharing, unified job&amp; engine governance and orchestration.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Download Links: https://linkis.apache.org/download/main/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Release Notes: https://linkis.apache.org/download/release-${release_version}/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Website: https://linkis.apache.org/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Linkis Resources:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Issue: https://github.com/apache/incubator-linkis/issues</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Mailing list: dev@linkis.apache.org</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Apache Linkis (Incubating) Team</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="8-更新-clutch-status-的信息"></a>8 更新 Clutch Status 的信息<a class="hash-link" href="#8-更新-clutch-status-的信息" title="Direct link to heading">#</a></h2><p>step1 克隆状态记录的文件 </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn co https://svn.apache.org/repos/asf/incubator/public/trunk/content/projects/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>step2 修改 linkis.xml 中的new信息
增加发布记录信息 </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token plain">section </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">id</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;News&quot;</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">title</span><span class="token operator">&gt;</span><span class="token plain">News</span><span class="token operator">&lt;</span><span class="token plain">/title</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">ul</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token plain">--    </span><span class="token operator">&lt;</span><span class="token plain">li</span><span class="token operator">&gt;</span><span class="token plain">YYYY-MM-DD New committer: Fred Hampton</span><span class="token operator">&lt;</span><span class="token plain">/li</span><span class="token operator">&gt;</span><span class="token plain">    --</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">li</span><span class="token operator">&gt;</span><span class="token number">2021</span><span class="token plain">-08-02 Project enters incubation.</span><span class="token operator">&lt;</span><span class="token plain">/li</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">li</span><span class="token operator">&gt;</span><span class="token number">2022</span><span class="token plain">-02-19 First Apache Linkis release v1.1.</span><span class="token operator file-descriptor important">2</span><span class="token operator">&lt;</span><span class="token plain">/li</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">li</span><span class="token operator">&gt;</span><span class="token number">2022</span><span class="token plain">-02-24 New Committer: Chen Xia</span><span class="token operator">&lt;</span><span class="token plain">/li</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">li</span><span class="token operator">&gt;</span><span class="token number">2022</span><span class="token plain">-04-15 Apache Linkis release v1.1.</span><span class="token operator file-descriptor important">0</span><span class="token operator">&lt;</span><span class="token plain">/li</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">/ul</span><span class="token operator">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">/section</span><span class="token operator">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>step3 更新提交后，信息会在这里呈现
<a href="https://incubator.apache.org/clutch/linkis.html" target="_blank" rel="noopener noreferrer">https://incubator.apache.org/clutch/linkis.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="附录"></a>附录<a class="hash-link" href="#附录" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="附件1-releasesh"></a>附件1 release.sh<a class="hash-link" href="#附件1-releasesh" title="Direct link to heading">#</a></h3><p>步骤2.4-3.3执行命令，可以合并在release.sh脚本中</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Licensed to the Apache Software Foundation (ASF) under one or more</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># contributor license agreements.  See the NOTICE file distributed with</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># this work for additional information regarding copyright ownership.</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># The ASF licenses this file to You under the Apache License, Version 2.0</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># (the &quot;License&quot;); you may not use this file except in compliance with</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># the License.  You may obtain a copy of the License at</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># http://www.apache.org/licenses/LICENSE-2.0</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Unless required by applicable law or agreed to in writing, software</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># See the License for the specific language governing permissions and</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># limitations under the License.</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># tar source code</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">release_version</span><span class="token operator">=</span><span class="token number">1.1</span><span class="token plain">.2</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#本次进行的RC版本 格式RCX</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">rc_version</span><span class="token operator">=</span><span class="token plain">RC1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#对应的git 仓库分支</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">git_branch</span><span class="token operator">=</span><span class="token plain">release-1.1.2-rc1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">workDir</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">cd</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;</span><span class="token variable string variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable string variable function" style="color:rgb(80, 250, 123);font-style:italic">dirname</span><span class="token variable string variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;</span><span class="token variable string variable string variable" style="color:rgb(189, 147, 249);font-style:italic">$0</span><span class="token variable string variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;</span><span class="token variable string variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;</span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">pwd</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${workDir}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;enter work dir:</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token string variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">pwd</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> -rf dist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p  dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#step1 打包源码文件</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> archive --format</span><span class="token operator">=</span><span class="token plain">tar.gz --output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dist/apache-linkis/apache-linkis-</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$release_version</span><span class="token string" style="color:rgb(255, 121, 198)">-incubating-src.tar.gz&quot;</span><span class="token plain">  --prefix</span><span class="token operator">=</span><span class="token plain">apache-linkis-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$release_version</span><span class="token plain">-incubating-src/   </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$git_branch</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;git archive --format=tar.gz --output=&#x27;dist/apache-linkis/apache-linkis-</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$release_version</span><span class="token string" style="color:rgb(255, 121, 198)">-incubating-src.tar.gz&#x27; --prefix=apache-linkis-</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$release_version</span><span class="token string" style="color:rgb(255, 121, 198)">-incubating-src/   </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$git_branch</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#step2 拷贝二进制编译包</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain">  assembly-combined-package/target/apache-linkis-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$release_version</span><span class="token plain">-incubating-bin.tar.gz   dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#step3 打包web(如果需要发布前端)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> web</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#安装依赖</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run build</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain">  apache-linkis-*-incubating-web-bin.tar.gz  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">/dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#step4 签名</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### 对源码包/二进制包进行签名/sha512</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">/dist/apache-linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> gpg --armor --output </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.asc --detach-sig </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 计算签名</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> sha512sum  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.sha512 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 计算SHA512</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### 检查生成的签名/sha512是否正确</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> gpg --verify </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.asc </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:rgb(189, 147, 249);font-style:italic">i</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> sha512sum --check  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$i</span><span class="token plain">.sha512</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#step5 上传至svn</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> -rf linkis-svn-dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn co https://dist.apache.org/repos/dist/dev/incubator/linkis   linkis-svn-dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p linkis-svn-dev/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain">  apache-linkis/*tar.gz*    linkis-svn-dev/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">  linkis-svn-dev</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 检查svn状态</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn status</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 添加到svn版本</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn status</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 提交至svn远程服务器</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svn commit -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;prepare for </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${release_version}</span><span class="token string" style="color:rgb(255, 121, 198)"> </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${rc_version}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="邮件切换纯文本格式"></a>邮件切换纯文本格式<a class="hash-link" href="#邮件切换纯文本格式" title="Direct link to heading">#</a></h3><p>不要发送纯 HTML 消息；而是发送纯文本（内容类型：文本/纯文本）。发送 HTML 会减少阅读您的电子邮件的人数，并且经常会被apache.org入站垃圾邮件过滤器拒绝。如果您的邮件被退回并且错误消息说垃圾邮件命中包括HTML_MESSAGE，请以纯文本形式重新发送邮件。
更多可以参阅官方<a href="https://infra.apache.org/contrib-email-tips" target="_blank" rel="noopener noreferrer">邮件规范</a> <a href="https://infra.apache.org/contrib-email-tips" target="_blank" rel="noopener noreferrer">https://infra.apache.org/contrib-email-tips</a></p><p><strong> Gmail邮箱切换纯文本格式 </strong></p><p><img src="https://user-images.githubusercontent.com/7869972/152912490-a5038505-e487-4451-be9a-e26021877e4f.png" alt="image"></p><p><strong> QQ邮箱切换纯文本格式 </strong></p><p><img src="https://user-images.githubusercontent.com/11496700/149449779-d0116bb1-de9e-4cc4-98fb-af3327b15c09.png" alt="image"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN/how-to-release.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-CN/community/how-to-participate-in-developer-meetings"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">« <!-- -->如何参与开发者例会</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-CN/community/how-to-verify"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">发布版本验证<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-工具准备" class="table-of-contents__link">1 工具准备</a><ul><li><a href="#11-安装gpg" class="table-of-contents__link">1.1 安装GPG</a></li><li><a href="#12-用gpg生成key" class="table-of-contents__link">1.2 用gpg生成key</a></li><li><a href="#13-上传生成的key到公共服务器" class="table-of-contents__link">1.3 上传生成的key到公共服务器</a></li><li><a href="#14-查看key是否创建成功" class="table-of-contents__link">1.4 查看key是否创建成功</a></li><li><a href="#15-将gpg公钥加入apache-svn项目仓库的keys文件" class="table-of-contents__link">1.5 将gpg公钥加入Apache SVN项目仓库的KEYS文件</a><ul><li><a href="#151-在dev分支中添加公钥到keys" class="table-of-contents__link">1.5.1 在dev分支中添加公钥到KEYS</a></li><li><a href="#152-在release分支中添加公钥到keys" class="table-of-contents__link">1.5.2 在release分支中添加公钥到KEYS</a></li></ul></li><li><a href="#16-配置apache-maven地址和用户密码设置" class="table-of-contents__link">1.6 配置apache maven地址和用户密码设置</a></li></ul></li><li><a href="#2-准备物料包apache-nexus发布" class="table-of-contents__link">2 准备物料包&amp;Apache Nexus发布</a><ul><li><a href="#21-准备分支tagrelease-notes" class="table-of-contents__link">2.1 准备分支/Tag/Release Notes</a></li><li><a href="#22-版本号确认" class="table-of-contents__link">2.2 版本号确认</a></li><li><a href="#23-发布jar包到apache-nexus仓库" class="table-of-contents__link">2.3 发布jar包到Apache Nexus仓库</a></li><li><a href="#24-打包源码" class="table-of-contents__link">2.4 打包源码</a></li><li><a href="#25-拷贝二进制文件" class="table-of-contents__link">2.5 拷贝二进制文件</a></li><li><a href="#26-打包前端管理台如果需要发布前端" class="table-of-contents__link">2.6 打包前端管理台(如果需要发布前端)</a><ul><li><a href="#261-安装nodejs" class="table-of-contents__link">2.6.1 安装Node.js</a></li><li><a href="#262-安装依赖包" class="table-of-contents__link">2.6.2 安装依赖包</a></li><li><a href="#263-打包前端管理台项目" class="table-of-contents__link">2.6.3 打包前端管理台项目</a></li><li><a href="#264-拷贝前端管理台安装包" class="table-of-contents__link">2.6.4 拷贝前端管理台安装包</a></li></ul></li><li><a href="#27-对源码包二进制包进行签名sha512" class="table-of-contents__link">2.7 对源码包/二进制包进行签名/sha512</a></li><li><a href="#28-检查生成的签名sha512是否正确" class="table-of-contents__link">2.8 检查生成的签名/sha512是否正确</a></li></ul></li><li><a href="#3-发布apache-svn仓库" class="table-of-contents__link">3 发布Apache SVN仓库</a><ul><li><a href="#31-检出linkis发布目录" class="table-of-contents__link">3.1 检出Linkis发布目录</a></li><li><a href="#32-将待发布的内容添加至svn目录" class="table-of-contents__link">3.2 将待发布的内容添加至SVN目录</a></li><li><a href="#33-提交apache-svn" class="table-of-contents__link">3.3 提交Apache SVN</a></li></ul></li><li><a href="#4-验证release-candidates" class="table-of-contents__link">4 验证Release Candidates</a></li><li><a href="#5-发起投票" class="table-of-contents__link">5 发起投票</a><ul><li><a href="#51-linkis-社区投票阶段" class="table-of-contents__link">5.1 Linkis 社区投票阶段</a><ul><li><a href="#511-linkis-社区投票模板" class="table-of-contents__link">5.1.1 Linkis 社区投票模板</a></li><li><a href="#512-宣布投票结果模板" class="table-of-contents__link">5.1.2 宣布投票结果模板</a></li></ul></li><li><a href="#52-incubator-社区投票阶段" class="table-of-contents__link">5.2 Incubator 社区投票阶段</a><ul><li><a href="#521-incubator-社区投票模板" class="table-of-contents__link">5.2.1 Incubator 社区投票模板</a></li><li><a href="#522-宣布投票结果模板" class="table-of-contents__link">5.2.2 宣布投票结果模板</a></li></ul></li></ul></li><li><a href="#6-正式发布" class="table-of-contents__link">6 正式发布</a><ul><li><a href="#61-迁移源码与二进制包" class="table-of-contents__link">6.1 迁移源码与二进制包</a></li><li><a href="#62-确认dev和release下的包是否正确" class="table-of-contents__link">6.2 确认dev和release下的包是否正确</a></li><li><a href="#63-在apache-staging仓库发布版本" class="table-of-contents__link">6.3 在Apache Staging仓库发布版本</a></li><li><a href="#64-更新下载页面" class="table-of-contents__link">6.4 更新下载页面</a></li><li><a href="#65-github-版本发布" class="table-of-contents__link">6.5 GitHub 版本发布</a></li></ul></li><li><a href="#7-邮件通知版本发布完成" class="table-of-contents__link">7 邮件通知版本发布完成</a></li><li><a href="#8-更新-clutch-status-的信息" class="table-of-contents__link">8 更新 Clutch Status 的信息</a></li><li><a href="#附录" class="table-of-contents__link">附录</a><ul><li><a href="#附件1-releasesh" class="table-of-contents__link">附件1 release.sh</a></li><li><a href="#邮件切换纯文本格式" class="table-of-contents__link">邮件切换纯文本格式</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Linkis</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/latest/introduction">文档</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/faq/main">FAQ</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>版本<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">订阅邮件组</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/community/how-to-subscribe">如何订阅</a></li><li class="footer__item"><a href="mailto:dev-subscribe@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>订阅邮件<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>邮件归档<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div style="text-align: left;">
          <div>
            <p style="font-family: Avenir-Medium;font-size: 14px;color: #999;line-height: 20px;">Apache Linkis (incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
          </div>
          <div style="border-top: 1px solid #ccc;min-height: 60px;line-height: 20px;text-align: center;font-family: Avenir-Medium;font-size: 14px;color: #999;display: flex;align-items: center;"><span>Copyright © 2019-2020 The Apache Software Foundation. Apache Linkis, Linkis, and its feather logo are trademarks of The Apache Software Foundation.</span></div>
        </div></div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.40e61d69.js"></script>
<script src="/zh-CN/assets/js/main.5be2f7ee.js"></script>
</body>
</html>