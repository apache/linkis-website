<!doctype html>
<html class="docs-version-1.1.1" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Linkis Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Linkis Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache Linkis" href="/opensearch.xml"><title data-react-helmet="true">Quick Deployment | Apache Linkis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://linkis.incubator.apache.org/docs/1.1.1/deployment/quick-deploy"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.1.1"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-1.1.1"><meta data-react-helmet="true" property="og:title" content="Quick Deployment | Apache Linkis"><meta data-react-helmet="true" name="description" content="1. Preparing for the first installation"><meta data-react-helmet="true" property="og:description" content="1. Preparing for the first installation"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://linkis.incubator.apache.org/docs/1.1.1/deployment/quick-deploy"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/docs/1.1.1/deployment/quick-deploy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/zh-CN/docs/1.1.1/deployment/quick-deploy" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/docs/1.1.1/deployment/quick-deploy" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://AE29KQB3IA-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.43be7c54.css">
<link rel="preload" href="/assets/js/runtime~main.8ce9165d.js" as="script">
<link rel="preload" href="/assets/js/main.ffdafd4c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apache Linkis(Incubating)</b></a><a class="navbar__item navbar__link" href="/download/main">Download</a><a class="navbar__item navbar__link" href="/community/how-to-subscribe">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/user">Users</a><a class="navbar__item navbar__link" href="/faq/main">FAQ</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Doc</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/latest/introduction">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/introduction">1.2.0</a></li><li><a class="dropdown__link" href="/docs/1.1.3/introduction">1.1.3</a></li><li><a class="dropdown__link" href="/docs/1.1.2/introduction">1.1.2</a></li><li><a class="dropdown__link" href="/docs/1.1.1/introduction">1.1.1</a></li><li><a class="dropdown__link" href="/docs/1.1.0/introduction">1.1.0</a></li><li><a class="dropdown__link" href="/docs/1.0.3/introduction">1.0.3</a></li><li><a class="dropdown__link" href="/docs/1.0.2/introduction">1.0.2</a></li><li><a class="dropdown__link" href="/docs/0.11.0/introduction">0.11.0</a></li><li><a class="dropdown__link" href="/docs/1.3.1/introduction">Next(1.3.1)</a></li><li><a class="dropdown__link" href="/versions">All Version</a></li></ul></div><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg t="1631348384596" class="iconLanguage_EbrZ" viewBox="0 0 1024 1024" version="1.1" p-id="557" width="20" height="20"><path d="M547.797333 638.208l-104.405333-103.168 1.237333-1.28a720.170667 720.170667 0 0 0 152.490667-268.373333h120.448V183.082667h-287.744V100.906667H347.605333v82.218666H59.818667V265.386667h459.178666a648.234667 648.234667 0 0 1-130.304 219.946666 643.242667 643.242667 0 0 1-94.976-137.728H211.541333a722.048 722.048 0 0 0 122.453334 187.434667l-209.194667 206.378667 58.368 58.368 205.525333-205.525334 127.872 127.829334 31.232-83.84m231.424-208.426667h-82.218666l-184.96 493.312h82.218666l46.037334-123.306667h195.242666l46.464 123.306667h82.218667l-185.002667-493.312m-107.690666 287.744l66.56-178.005333 66.602666 178.005333z" fill="currentColor" p-id="558"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/1.1.1/deployment/quick-deploy" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/zh-CN/docs/1.1.1/deployment/quick-deploy" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">简体中文</a></li></ul></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/1.1.1/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/1.1.1/release">Version overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/1.1.1/deployment/quick-deploy">Quick Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/cluster-deployment">Cluster Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/engine-conn-plugin-installation">EngineConnPlugin Installation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/installation-hierarchical-structure">Installation Directory Structure</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/unpack-hierarchical-structure">installation package directory structure</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/sourcecode-hierarchical-structure">Source Code Directory Structure</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/web-install">Linkis Console Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/involve-skywalking-into-linkis">Involve SkyWaling into Linkis</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/start-metadatasource">DataSource</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.1/deployment/linkis-scriptis-install">Installation and deployment of tool scriptis</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Engine Usage</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API Docs</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Table Structure</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Upgrade Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tuning And Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apache Linkis <b>1.1.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/latest/introduction">latest version</a></b> (1.3.0).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.1.1</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quick Deployment</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="1-preparing-for-the-first-installation"></a>1. Preparing for the first installation<a class="hash-link" href="#1-preparing-for-the-first-installation" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="11-linux-server"></a>1.1 Linux Server<a class="hash-link" href="#11-linux-server" title="Direct link to heading">#</a></h3><p><strong>Hardware requirements</strong>
Install nearly 10 linkis microservices with at least 3G memory. **The size of the jvm -Xmx memory started by the default configuration of each microservice is 512M (if the memory is not enough, you can try to reduce it to 256/128M, and you can also increase it if the memory is sufficient)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="12-add-deployment-user"></a>1.2 Add deployment user<a class="hash-link" href="#12-add-deployment-user" title="Direct link to heading">#</a></h3><blockquote><p>Deployment user: the startup user of the linkis core process, and this user will be the administrator privilege by default. <font color="red">The corresponding administrator login password will be generated during the deployment process, located in <code>conf/linkis-mg-gateway .properties</code> file</font>
Linkis supports specifying the user who submits and executes. The linkis main process service will switch to the corresponding user through <code>sudo -u ${linkis-user}</code>, and then execute the corresponding engine start command, so the user to which the engine <code>linkis-engine</code> process belongs is the executor of the task (so the deployment The user needs to have sudo permissions, and it is password-free)</p></blockquote><p>Take hadoop user as an example:</p><p>First check whether there is already a hadoop user in the system. If it already exists, you can directly authorize it; if not, create a user first, and then authorize.</p><p>Check if a hadoop user already exists</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">id</span><span class="token plain"> hadoop</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">uid</span><span class="token operator">=</span><span class="token number">2001</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">hadoop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">gid</span><span class="token operator">=</span><span class="token number">2001</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">hadoop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">groups</span><span class="token operator">=</span><span class="token number">2001</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">hadoop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If it does not exist, you need to create a hadoop user and join the hadoop user group</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useradd</span><span class="token plain"> hadoop -g hadoop</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">vi</span><span class="token plain"> /etc/sudoers</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Secret-free configuration</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hadoop </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ALL</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ALL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> NOPASSWD: NOPASSWD: ALL</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><font color="red">The following operations are performed under the hadoop user</font><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="2-configuration-modification"></a>2. Configuration modification<a class="hash-link" href="#2-configuration-modification" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="21-installation-package-preparation"></a>2.1 Installation package preparation<a class="hash-link" href="#21-installation-package-preparation" title="Direct link to heading">#</a></h3><ul><li>Method 1: From the official website <a href="https://linkis.apache.org/zh-CN/download/main" target="_blank" rel="noopener noreferrer">download address</a>: <a href="https://linkis.apache.org/zh-CN/download/main" target="_blank" rel="noopener noreferrer">https://linkis.apache.org/zh-CN/download/main</a>, download the corresponding The installation package (project installation package and management console installation package)</li><li>Method 2: Compile the project installation package and management console according to <a href="/docs/1.1.1/development/linkis-compile-and-package">Linkis Compile and Package</a> and <a href="/docs/1.1.1/development/web-build">Front-end Management Console Compile</a> Installation package</li></ul><p>After uploading the installation package <code>apache-linkis-x.x.x-incubating-bin.tar.gz</code>, decompress the installation package</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> -xvf apache-linkis-x.x.x-incubating-bin.tar.gz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The unzipped directory structure is as follows</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">531847342</span><span class="token plain"> Feb </span><span class="token number">21</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">:10 apache-linkis-1.0.3-incubating-bin.tar.gz</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxrwxr-x </span><span class="token number">2</span><span class="token plain"> hadoop hadoop </span><span class="token number">4096</span><span class="token plain"> Feb </span><span class="token number">21</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">:13 bin //Script to perform environment check and </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxrwxr-x </span><span class="token number">2</span><span class="token plain"> hadoop hadoop </span><span class="token number">4096</span><span class="token plain"> Feb </span><span class="token number">21</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">:13 deploy-config // Environment configuration information such as DB that depends on deployment</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">1707</span><span class="token plain"> Jan </span><span class="token number">22</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain"> DISCLAIMER-WIP</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">66058</span><span class="token plain"> Jan </span><span class="token number">22</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain"> LICENSE</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxrwxr-x </span><span class="token number">2</span><span class="token plain"> hadoop hadoop </span><span class="token number">16384</span><span class="token plain"> Feb </span><span class="token number">21</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">:13 licenses</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxrwxr-x </span><span class="token number">7</span><span class="token plain"> hadoop hadoop </span><span class="token number">4096</span><span class="token plain"> Feb </span><span class="token number">21</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">:13 linkis-package // The actual package, including lib/service startup script tool/db initialization script/microservice configuration file, etc.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">83126</span><span class="token plain"> Jan </span><span class="token number">22</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain"> NOTICE</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">7900</span><span class="token plain"> Jan </span><span class="token number">22</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain"> README_CN.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> hadoop hadoop </span><span class="token number">8184</span><span class="token plain"> Jan </span><span class="token number">22</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain"> README.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="22-configure-database-information"></a>2.2 Configure database information<a class="hash-link" href="#22-configure-database-information" title="Direct link to heading">#</a></h3><p><code>vim deploy-config/db.sh</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Database information of Linkis&#x27; own business</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">MYSQL_HOST</span><span class="token operator">=</span><span class="token plain">xx.xx.xx.xx</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">MYSQL_PORT</span><span class="token operator">=</span><span class="token number">3306</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">MYSQL_DB</span><span class="token operator">=</span><span class="token plain">linkis_test</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">MYSQL_USER</span><span class="token operator">=</span><span class="token plain">test</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">MYSQL_PASSWORD</span><span class="token operator">=</span><span class="token plain">xxxxx</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Provide the DB information of the Hive metadata database. If the hive engine is not involved (or just a simple trial), you can not configure it</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Mainly used with scripts, if not configured, it will try to obtain it through the configuration file in $HIVE_CONF_DIR by default</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HIVE_META_URL</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;jdbc:mysql://10.10.10.10:3306/hive_meta_demo?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HIVE_META_USER</span><span class="token operator">=</span><span class="token plain">demo </span><span class="token comment" style="color:rgb(98, 114, 164)"># User of HiveMeta Metabase</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HIVE_META_PASSWORD</span><span class="token operator">=</span><span class="token plain">demo123 </span><span class="token comment" style="color:rgb(98, 114, 164)"># HiveMeta metabase password</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="23-configure-basic-variables"></a>2.3 Configure basic variables<a class="hash-link" href="#23-configure-basic-variables" title="Direct link to heading">#</a></h3><p>The file is located at <code>deploy-config/linkis-env.sh</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="deploy-user"></a>deploy user<a class="hash-link" href="#deploy-user" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">deployUser</span><span class="token operator">=</span><span class="token plain">hadoop </span><span class="token comment" style="color:rgb(98, 114, 164)">#The user who executes the deployment is the user created in step 1.2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="base-directory-configuration-optional"></a>base directory configuration (optional)<a class="hash-link" href="#base-directory-configuration-optional" title="Direct link to heading">#</a></h4><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Determine whether you need to adjust according to the actual situation, you can choose to use the default value</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Specify the directory path used by the user, which is generally used to store the user&#x27;s script files and log files, and is the user&#x27;s workspace. The corresponding configuration file configuration item is wds.linkis.filesystem.root.path(linkis.properties)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">WORKSPACE_USER_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">file:///tmp/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># File paths such as result set logs, used to store the result set files of the Job wds.linkis.resultSet.store.path(linkis-cg-entrance.properties) //If not configured, use the configuration of HDFS_USER_ROOT_PATH</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">RESULT_SET_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">file:///tmp/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># File path such as result set log, used to store the result set file of Job wds.linkis.filesystem.hdfs.root.path(linkis.properties)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HDFS_USER_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">hdfs:///tmp/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Store the working path of the execution engine. You need to deploy a local directory with write permissions for the user wds.linkis.engineconn.root.dir(linkis-cg-engineconnmanager.properties)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ENGINECONN_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">/appcom/tmp</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="yarns-resourcemanager-address"></a>Yarn&#x27;s ResourceManager address<a class="hash-link" href="#yarns-resourcemanager-address" title="Direct link to heading">#</a></h4><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you need to use the Spark engine, you need to configure</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#You can confirm whether it can be accessed normally by visiting the http://xx.xx.xx.xx:8088/ws/v1/cluster/scheduler interface</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">YARN_RESTFUL_URL</span><span class="token operator">=</span><span class="token plain">http://xx.xx.xx.xx:8088</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>When executing spark tasks, you need to use the ResourceManager of yarn. By default, linkis does not enable permission verification. If the ResourceManager has password permission verification enabled, please install and deploy it.
Modify the database table <code>linkis_cg_rm_external_resource_provider</code> to insert yarn data information. For details, please refer to [Check whether the yarn address is configured correctly] (#811-Check whether the yarn address is configured correctly)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="basic-component-environment-information"></a>Basic component environment information<a class="hash-link" href="#basic-component-environment-information" title="Direct link to heading">#</a></h4><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It can be configured through the user&#x27;s system environment variables. If configured through the system environment variables, the deploy-config/linkis-env.sh configuration file can be directly commented out without configuration.</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">##If you do not use Hive, Spark and other engines and do not rely on Hadoop, you do not need to configure the following environment variables</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#HADOOP</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HADOOP_HOME</span><span class="token operator">=</span><span class="token plain">/appcom/Install/hadoop</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HADOOP_CONF_DIR</span><span class="token operator">=</span><span class="token plain">/appcom/config/hadoop-config</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Hive</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HIVE_HOME</span><span class="token operator">=</span><span class="token plain">/appcom/Install/hive</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HIVE_CONF_DIR</span><span class="token operator">=</span><span class="token plain">/appcom/config/hive-config</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Spark</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SPARK_HOME</span><span class="token operator">=</span><span class="token plain">/appcom/Install/spark</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SPARK_CONF_DIR</span><span class="token operator">=</span><span class="token plain">/appcom/config/spark-config</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="ldap-login-configuration-optional"></a>LDAP login configuration (optional)<a class="hash-link" href="#ldap-login-configuration-optional" title="Direct link to heading">#</a></h4><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The default is to use a static user and password. The static user is the deployment user. The static password will generate a random password string during deployment and store it in <code>{LINKIS_HOME}/conf/linkis-mg-gateway.properties</code>(&gt;=1.0.3 Version)</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#LDAP configuration, Linkis only supports deployment user login by default. If you need to support multi-user login, you can use LDAP. You need to configure the following parameters:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#LDAP_URL=ldap://localhost:1389/</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#LDAP_BASEDN=dc=webank,dc=com</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="jvm-memory-configuration-optional"></a>JVM memory configuration (optional)<a class="hash-link" href="#jvm-memory-configuration-optional" title="Direct link to heading">#</a></h4><blockquote><p>The microservice starts the jvm memory configuration, which can be adjusted according to the actual situation of the machine. If the machine memory resources are few, you can try to adjust it to 256/128M</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">## java application default jvm memory</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SERVER_HEAP_SIZE</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;512M&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="installation-directory-configuration-optional"></a>Installation directory configuration (optional)<a class="hash-link" href="#installation-directory-configuration-optional" title="Direct link to heading">#</a></h4><blockquote><p>Linkis will eventually be installed in this directory. If it is not configured, it will be in the same level directory as the current installation package by default.</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">##The decompression directory and the installation directory need to be inconsistent</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">LINKIS_HOME</span><span class="token operator">=</span><span class="token plain">/appcom/Install/LinkisInstall</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="data-source-service-is-enabled-optional"></a>Data source service is enabled (optional)<a class="hash-link" href="#data-source-service-is-enabled-optional" title="Direct link to heading">#</a></h4><blockquote><p>According to the actual situation, if you want to use the data source function, you need to adjust</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#If you want to start metadata related microservices, you can set this export ENABLE_METADATA_MANAGE=true</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ENABLE_METADATA_QUERY</span><span class="token operator">=</span><span class="token plain">true</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="no-hdfs-mode-deployment-optional-112-version-support-hold"></a>No HDFS mode deployment (optional &gt;1.1.2 version support hold)<a class="hash-link" href="#no-hdfs-mode-deployment-optional-112-version-support-hold" title="Direct link to heading">#</a></h4><blockquote><p>Deploy Linkis services in an environment without HDFS to facilitate more lightweight learning and debugging. Deploying in HDFS mode does not support tasks such as hive/spark/flink engines</p></blockquote><p>Modify the <code>linkis-env.sh</code> file and modify the following</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#Use the [file://] path pattern instead of the [hdfs://] pattern</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">WORKSPACE_USER_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">file:///tmp/linkis/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HDFS_USER_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">file:///tmp/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">RESULT_SET_ROOT_PATH</span><span class="token operator">=</span><span class="token plain">file:///tmp/linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ENABLE_HDFS</span><span class="token operator">=</span><span class="token plain">false</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ENABLE_HIVE</span><span class="token operator">=</span><span class="token plain">false</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ENABLE_SPARK</span><span class="token operator">=</span><span class="token plain">false</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="3-install-and-start"></a>3. Install and start<a class="hash-link" href="#3-install-and-start" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="31-execute-the-installation-script"></a>3.1 Execute the installation script:<a class="hash-link" href="#31-execute-the-installation-script" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> bin/install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The install.sh script will ask you if you need to initialize the database and import metadata. If you choose to initialize, the table data in the database will be emptied and reinitialized.</p><p><strong><font color="red">Empty database must be selected for the first installation</font></strong></p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Note</h5></div><div class="admonition-content"><ul><li>If an error occurs, and it is unclear what command to execute to report the error, you can add the -x parameter <code>sh -x bin/install.sh</code> to print out the shell script execution process log, which is convenient for locating the problem</li><li>Permission problem: <code>mkdir: cannot create directory &#x27;xxxx&#x27;: Permission denied</code>, please confirm whether the deployment user has read and write permissions for the path</li></ul></div></div><p>The prompt for successful execution is as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">Congratulations</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">!</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> You have installed Linkis </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">1.0</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">.3 successfully, please use </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">sh</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> /data/Install/linkis/sbin/linkis-start-all.sh to start it</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">!</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">Your default account password is </span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">[</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">hadoop/5e8e312b4</span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">]</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="32-add-mysql-driver-package"></a><font color="red">3.2 Add mysql driver package</font><a class="hash-link" href="#32-add-mysql-driver-package" title="Direct link to heading">#</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Because the mysql-connector-java driver is under the GPL2.0 protocol, it does not meet the license policy of the Apache open source protocol. Therefore, starting from version 1.0.3, the official deployment package of the Apache version provided by default is no mysql-connector-java-x.x.x.jar (<strong>If it is installed through the integrated family bucket material package, you do not need to add it manually</strong>), you need to add dependencies to the corresponding lib package by yourself during installation and deployment. You can check whether it exists in the corresponding directory, if not, you need to add</p></div></div><p>To download the mysql driver, take version 5.1.49 as an example: [download link](<a href="https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49" target="_blank" rel="noopener noreferrer">https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49</a>. jar) <a href="https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar" target="_blank" rel="noopener noreferrer">https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar</a></p><p>Copy the mysql driver package to the lib package</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cp mysql-connector-java-5.1.49.jar {LINKIS_HOME}/lib/linkis-spring-cloud-services/linkis-mg-gateway/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cp mysql-connector-java-5.1.49.jar {LINKIS_HOME}/lib/linkis-commons/public-module/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="33-configuration-adjustment-optional"></a>3.3 Configuration Adjustment (Optional)<a class="hash-link" href="#33-configuration-adjustment-optional" title="Direct link to heading">#</a></h3><blockquote><p>The following operations are related to the dependent environment. According to the actual situation, determine whether the operation is required</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="331-kerberos-authentication"></a>3.3.1 kerberos authentication<a class="hash-link" href="#331-kerberos-authentication" title="Direct link to heading">#</a></h4><p>If the hive cluster used has kerberos mode authentication enabled, modify the configuration <code>${LINKIS_HOME}/conf/linkis.properties</code> (&lt;=1.1.3) file</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#Append the following configuration</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;wds.linkis.keytab.enable=true&quot;</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> linkis.properties</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="332-yarn-authentication"></a>3.3.2 Yarn Authentication<a class="hash-link" href="#332-yarn-authentication" title="Direct link to heading">#</a></h4><p>When executing spark tasks, you need to use the ResourceManager of yarn, which is controlled by the configuration item <code>YARN_RESTFUL_URL=http://xx.xx.xx.xx:8088 </code>.
During installation and deployment, the <code>YARN_RESTFUL_URL=http://xx.xx.xx.xx:8088</code> information will be updated to the database table <code>linkis_cg_rm_external_resource_provider</code>. By default, access to yarn resources does not require permission verification.
If password authentication is enabled in yarn&#x27;s ResourceManager, please modify the yarn data information generated in the database table <code>linkis_cg_rm_external_resource_provider</code> after installation and deployment.
For details, please refer to [Check whether the yarn address is configured correctly] (#811-Check whether the yarn address is configured correctly)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="333-session"></a>3.3.3 session<a class="hash-link" href="#333-session" title="Direct link to heading">#</a></h4><p>If you are upgrading to Linkis. Deploy DSS or other projects at the same time, but the dependent linkis version introduced in other software is &lt;1.1.1 (mainly in the lib package, the linkis-module-x.x.x.jar package of the dependent Linkis is &lt;1.1.1), you need to modify the linkis located in <code> ${LINKIS_HOME}/conf/linkis.properties</code> file</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;wds.linkis.session.ticket.key=bdp-user-ticket-id&quot;</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> linkis.properties</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="34-start-the-service"></a>3.4 Start the service<a class="hash-link" href="#34-start-the-service" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> sbin/linkis-start-all.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="35-modification-of-post-installation-configuration"></a>3.5 Modification of post-installation configuration<a class="hash-link" href="#35-modification-of-post-installation-configuration" title="Direct link to heading">#</a></h3><p>After the installation is complete, if you need to modify the configuration (because of port conflicts or some configuration problems, you need to adjust the configuration), you can re-execute the installation, or modify the configuration <code>${LINKIS_HOME}/conf/*properties</code> file of the corresponding service, Restart the corresponding service, such as: <code>sh sbin/linkis-daemon.sh start ps-publicservice</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="36-check-whether-the-service-starts-normally"></a>3.6 Check whether the service starts normally<a class="hash-link" href="#36-check-whether-the-service-starts-normally" title="Direct link to heading">#</a></h3><p>Visit the eureka service page (http://eurekaip:20303),
The 1.x.x version will start 8 Linkis microservices by default, and the linkis-cg-engineconn service in the figure below will be started only for running tasks
<img alt="Linkis1.0_Eureka" src="/assets/images/Linkis1.0_combined_eureka-3d096175871c82b66a0a8baedfed2987.png"></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-CG-ENGINECONNMANAGER Engine Management Services</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-CG-ENGINEPLUGIN Engine Plugin Management Service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-CG-ENTRANCE Computing Governance Entry Service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-CG-LINKISMANAGER Computing Governance Management Service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-MG-EUREKA Microservice registry </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-MG-GATEWAY gateway </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-PS-CS context </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-PS-PUBLICSERVICE Public Service</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the data source service function is enabled (not enabled by default), you will see these two services</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-PS-DATA-SOURCE-MANAGER</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LINKIS-PS-METADATAMANAGER</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If any services are not started, you can view detailed exception logs in the corresponding log/${service name}.log file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="4-install-the-web-frontend"></a>4. Install the web frontend<a class="hash-link" href="#4-install-the-web-frontend" title="Direct link to heading">#</a></h2><p>The web side uses nginx as the static resource server, and the access request process is:
<code>Linkis console request-&gt;nginx ip:port-&gt;linkis-gateway ip:port-&gt;other services</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="41-download-the-front-end-installation-package-and-unzip-it"></a>4.1 Download the front-end installation package and unzip it<a class="hash-link" href="#41-download-the-front-end-installation-package-and-unzip-it" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> -xvf apache-linkis-x.x.x-incubating-web-bin.tar.gz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="42-modify-the-configuration-configsh"></a>4.2 Modify the configuration config.sh<a class="hash-link" href="#42-modify-the-configuration-configsh" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#Access the port of the console</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">linkis_port</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;8188&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#linkis-mg-gatewayService Address</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">linkis_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://localhost:9020&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="43-execute-the-deployment-script"></a>4.3 Execute the deployment script<a class="hash-link" href="#43-execute-the-deployment-script" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># nginx requires sudo privileges to install</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>After installation, linkis&#x27; nginx configuration file is by default in <code>/etc/nginx/conf.d/linkis.conf</code>
nginx log files are in <code>/var/log/nginx/access.log</code> and <code>/var/log/nginx/error.log</code>
An example of the nginx configuration file of the generated linkis console is as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI nginx"><pre tabindex="0" class="prism-code language-nginx codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        server {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            listen 8188;# access port If the port is occupied, it needs to be modified</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            server_name localhost;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            #charset koi8-r;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            #access_log /var/log/nginx/host.access.log main;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            location / {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            root /appcom/Install/linkis-web/dist; # static file directory</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            index index.html index.html;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            location /ws {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_pass http://localhost:9020;#Address of backend Linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_http_version 1.1;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header Connection upgrade;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            location /api {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_pass http://localhost:9020; #Address of backend Linkis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header Host $host;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header X-Real-IP $remote_addr;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header x_real_ipP $remote_addr;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header remote_addr $remote_addr;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_http_version 1.1;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_connect_timeout 4s;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_read_timeout 600s;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_send_timeout 12s;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_set_header Connection upgrade;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            #error_page 404 /404.html;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            # redirect server error pages to the static page /50x.html</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            #</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            error_page 500 502 503 504 /50x.html;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            location = /50x.html {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            root /usr/share/nginx/html;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If you need to modify the port or static resource directory, etc., please modify the <code>/etc/nginx/conf.d/linkis.conf</code> file and execute the <code>sudo nginx -s reload</code> command</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>note</h5></div><div class="admonition-content"><ul><li>At present, the visualis function is not integrated. During the installation process, if you are prompted that the installation of linkis/visualis fails, you can ignore it</li><li>Check whether nginx starts normally: check whether the nginx process exists <code>ps -ef |grep nginx</code></li><li>Check if nginx is configured correctly <code>sudo nginx -T</code></li><li>If the port is occupied, you can modify the service port <code>/etc/nginx/conf.d/linkis.conf</code>listen port value started by nginx, save it and restart it</li><li>If interface 502 appears in the access management console, or <code>Unexpected token &lt; in JSON at position 0</code> is abnormal, please confirm whether linkis-mg-gateway starts normally. If it starts normally, check the linkis-mg-gateway configured in the nginx configuration file Is the service address correct?</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="44-login-to-the-console"></a>4.4 Login to the console<a class="hash-link" href="#44-login-to-the-console" title="Direct link to heading">#</a></h3><p>Browser login <code>http://xx.xx.xx.xx:8188/#/login</code>
Username/password can be found in <code>{LINKIS_HOME}/conf/linkis-mg-gateway.properties</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.admin.user</span><span class="token operator">=</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#User</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.admin.password</span><span class="token operator">=</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#Password</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Refer to the <a href="/docs/1.1.1/user-guide/console-manual">User Manual</a> for the usage guide of the console</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="5-verify-basic-functionality"></a>5. Verify basic functionality<a class="hash-link" href="#5-verify-basic-functionality" title="Direct link to heading">#</a></h2><blockquote><p>Verify the corresponding engine tasks according to actual needs</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#The version number of the engineType of the engine must match the actual version. The following example is the default version number</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#shell engine tasks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh bin/linkis-cli -submitUser hadoop -engineType shell-1 -codeType shell -code &quot;whoami&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#hive engine tasks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh bin/linkis-cli -submitUser hadoop -engineType hive-2.3.3 -codeType hql -code &quot;show tables&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#spark engine tasks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh bin/linkis-cli -submitUser hadoop -engineType spark-2.4.3 -codeType sql -code &quot;show tables&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#python engine task</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh bin/linkis-cli -submitUser hadoop -engineType python-python2 -codeType python -code &#x27;print(&quot;hello, world!&quot;)&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the verification fails, please refer to [Step 6] for troubleshooting</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="6-installation-of-development-tool-ide-scriptis-optional"></a>6 Installation of development tool IDE (Scriptis) (optional)<a class="hash-link" href="#6-installation-of-development-tool-ide-scriptis-optional" title="Direct link to heading">#</a></h2><blockquote><p>After installing the Scripti tool, it can support writing SQL, Pyspark, HiveQL and other scripts online on the web page</p></blockquote><p>For detailed instructions, see <a href="/docs/1.1.1/deployment/linkis-scriptis-install">Installation and Deployment of Tool Scriptis</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="7-supported-engines"></a>7. Supported Engines<a class="hash-link" href="#7-supported-engines" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="71-engine-adaptation-list"></a>7.1 Engine Adaptation List<a class="hash-link" href="#71-engine-adaptation-list" title="Direct link to heading">#</a></h3><p>Please note: The separate installation package of Linkis only contains four engines by default: Python/Shell/Hive/Spark. If there are other engines (such as jdbc/flink/sqoop and other engines) usage scenarios, you can install them manually. For details, please refer to <a href="/docs/1.1.1/deployment/engine-conn-plugin-installation"> EngineConnPlugin Engine Plugin Installation Documentation</a>.</p><p>The list of supported engines that have been adapted in this version is as follows:</p><table><thead><tr><th>Engine type</th><th>Adaptation</th><th>Does the official installation package contain</th></tr></thead><tbody><tr><td>Python</td><td>&gt;=1.0.0 Adapted</td><td>Included</td></tr><tr><td>Shell</td><td>&gt;=1.0.0 Adapted</td><td>Included</td></tr><tr><td>Hive</td><td>&gt;=1.0.0 Adapted</td><td>Included</td></tr><tr><td>Spark</td><td>&gt;=1.0.0 Adapted</td><td>Included</td></tr><tr><td>Pipeline</td><td>&gt;=1.0.0 Adapted</td><td><strong>Excludes</strong></td></tr><tr><td>JDBC</td><td>&gt;=1.0.0 Adapted</td><td><strong>Excludes</strong></td></tr><tr><td>Flink</td><td>&gt;=1.0.0 already adapted</td><td><strong>Not included</strong></td></tr><tr><td>OpenLooKeng</td><td>&gt;=1.1.1 has been adapted</td><td><strong>Not included</strong></td></tr><tr><td>Sqoop</td><td>&gt;=1.1.2 Adapted</td><td><strong>Excludes</strong></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="72-view-the-deployed-engine"></a>7.2 View the deployed engine<a class="hash-link" href="#72-view-the-deployed-engine" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="method-1-view-the-engine-lib-package-directory"></a>Method 1: View the engine lib package directory<a class="hash-link" href="#method-1-view-the-engine-lib-package-directory" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tree linkis-package/lib/linkis-engineconn-plugins/ -L 3</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linkis-package/lib/linkis-engineconn-plugins/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── hive</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ ├── dist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ │ └── v2.3.3 #version is 2.3.3 engineType is hive-2.3.3</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── plugin</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── 2.3.3</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── python</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ ├── dist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ │ └── vpython2</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── plugin</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── python2 #version is python2 engineType is python-python2</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── shell</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ ├── dist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ │ └── v1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── plugin</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ └── 1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── spark</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── dist</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    │ └── v2.4.3</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── plugin</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── 2.4.3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="method-2-view-the-database-table-of-linkis"></a>Method 2: View the database table of linkis<a class="hash-link" href="#method-2-view-the-database-table-of-linkis" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> * from linkis_cg_engine_conn_plugin_bml_resources</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="8-troubleshooting-guidelines-for-common-abnormal-problems"></a>8. Troubleshooting Guidelines for Common Abnormal Problems<a class="hash-link" href="#8-troubleshooting-guidelines-for-common-abnormal-problems" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="81-yarn-queue-check"></a>8.1. Yarn Queue Check<a class="hash-link" href="#81-yarn-queue-check" title="Direct link to heading">#</a></h3><blockquote><p>If you need to use spark/hive/flink engine</p></blockquote><p>After logging in, check whether the yarn queue resources can be displayed normally (click the button in the lower right corner of the page) (the front end needs to be installed first)
Normally as shown below:
<img src="https://user-images.githubusercontent.com/7869972/159955494-2f305a38-a3d6-4798-83aa-58cde23bc436.png" alt="yarn-normal"></p><p>If it cannot be displayed: You can adjust it according to the following guidelines</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="811-check-whether-the-yarn-address-is-configured-correctly"></a>8.1.1 Check whether the yarn address is configured correctly<a class="hash-link" href="#811-check-whether-the-yarn-address-is-configured-correctly" title="Direct link to heading">#</a></h4><p>Database table <code>linkis_cg_rm_external_resource_provider</code> `
Insert yarn data information</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">INTO</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain">linkis_cg_rm_external_resource_provider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain">resource_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain">labels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">VALUES</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Yarn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;sit&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{\r\n&quot;rmWebAddress&quot;: &quot;http://xx.xx.xx.xx:8088&quot;,\r\n&quot;hadoopVersion&quot;: &quot;2.7.2&quot;,\r\n&quot;authorEnable&quot;:false, \r\n&quot;user&quot;:&quot;hadoop&quot;,\r\n&quot;pwd&quot;:&quot;123456&quot;\r\n}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">config field properties</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;rmWebAddress&quot;</span><span class="token plain">: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://xx.xx.xx.xx:8088&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#need to bring http and port</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hadoopVersion&quot;</span><span class="token plain">: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;2.7.2&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;authorEnable&quot;</span><span class="token plain">:</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//Whether authentication is required You can verify the username and password by visiting http://xx.xx.xx.xx:8088 in the browser</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token plain">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token comment" style="color:rgb(98, 114, 164)">//username</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pwd&quot;</span><span class="token plain">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pwd&quot;</span><span class="token comment" style="color:rgb(98, 114, 164)">//Password</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>After the update, because the cache is used in the program, if you want to take effect immediately, you need to restart the linkis-cg-linkismanager service</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> sbin/linkis-daemon.sh restart cg-linkismanager</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="812-check-whether-the-yarn-queue-exists"></a>8.1.2 Check whether the yarn queue exists<a class="hash-link" href="#812-check-whether-the-yarn-queue-exists" title="Direct link to heading">#</a></h4><p>Exception information: <code>desc: queue ide is not exists in YARN.</code> indicates that the configured yarn queue does not exist and needs to be adjusted</p><p>Modification method: <code>linkis management console/parameter configuration&gt; global settings&gt;yarn queue name [wds.linkis.rm.yarnqueue]</code>, modify a yarn queue that can be used, and the yarn queue to be used can be found at <code>rmWebAddress:http:// xx.xx.xx.xx:8088/cluster/scheduler</code></p><p>View available yarn queues</p><ul><li>View yarn queue address: http://ip:8888/cluster/scheduler</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="82-check-whether-the-engine-material-resource-is-uploaded-successfully"></a>8.2 Check whether the engine material resource is uploaded successfully<a class="hash-link" href="#82-check-whether-the-engine-material-resource-is-uploaded-successfully" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#Login to the linkis database</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> linkis_cg_engine_conn_plugin_bml_resources</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The normal is as follows:
<img src="https://user-images.githubusercontent.com/29391030/156343249-9f6dca8f-4e0d-438b-995f-4f469270a22d.png" alt="bml"></p><p>Check whether the material record of the engine exists (if there is an update, check whether the update time is correct).</p><ul><li>If it does not exist or is not updated, first try to manually refresh the material resource (for details, see [Engine Material Resource Refresh](engine-conn-plugin-installation#23-Engine Refresh)).</li><li>Check the specific reasons for material failure through <code>log/linkis-cg-engineplugin.log</code> log. In many cases, it may be caused by the lack of permissions in the hdfs directory</li><li>Check whether the gateway address configuration is correct. The configuration item <code>wds.linkis.gateway.url</code> of <code>conf/linkis.properties</code></li></ul><p>The material resources of the engine are uploaded to the hdfs directory by default as <code>/apps-data/${deployUser}/bml</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hdfs dfs -ls /apps-data/hadoop/bml</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#If there is no such directory, please manually create the directory and grant ${deployUser} read and write permissions</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hdfs dfs -mkdir /apps-data</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hdfs dfs -chown hadoop:hadoop/apps-data</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="83-login-password-problem"></a>8.3 Login password problem<a class="hash-link" href="#83-login-password-problem" title="Direct link to heading">#</a></h3><p>By default, linkis uses a static user and password. The static user is the deployment user. The static password will randomly generate a password string during deployment and store it in
<code>{LINKIS_HOME}/conf/linkis-mg-gateway.properties</code> (&gt;=1.0.3 version)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="84-version-compatibility-issues"></a>8.4 version compatibility issues<a class="hash-link" href="#84-version-compatibility-issues" title="Direct link to heading">#</a></h3><p>The engine supported by linkis by default, the compatibility with dss can be viewed <a href="https://github.com/apache/incubator-linkis/blob/master/README.md" target="_blank" rel="noopener noreferrer">this document</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="85-how-to-locate-the-server-exception-log"></a>8.5 How to locate the server exception log<a class="hash-link" href="#85-how-to-locate-the-server-exception-log" title="Direct link to heading">#</a></h3><p>Linkis has many microservices. If you are unfamiliar with the system, sometimes you cannot locate the specific module that has an exception. You can search through the global log.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">tail</span><span class="token plain"> -f log/* </span><span class="token operator">|</span><span class="token function" style="color:rgb(80, 250, 123)">grep</span><span class="token plain"> -5n exception </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">or </span><span class="token function" style="color:rgb(80, 250, 123)">tail</span><span class="token plain"> -f log/* </span><span class="token operator">|</span><span class="token function" style="color:rgb(80, 250, 123)">grep</span><span class="token plain"> -5n ERROR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">less</span><span class="token plain"> log/* </span><span class="token operator">|</span><span class="token function" style="color:rgb(80, 250, 123)">grep</span><span class="token plain"> -5n exception </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">or </span><span class="token function" style="color:rgb(80, 250, 123)">less</span><span class="token plain"> log/* </span><span class="token operator">|</span><span class="token function" style="color:rgb(80, 250, 123)">grep</span><span class="token plain"> -5n ERROR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="86-exception-troubleshooting-of-execution-engine-tasks"></a>8.6 Exception troubleshooting of execution engine tasks<a class="hash-link" href="#86-exception-troubleshooting-of-execution-engine-tasks" title="Direct link to heading">#</a></h3><p><strong> step1: Find the startup deployment directory of the engine </strong></p><ul><li>Method 1: If it is displayed in the execution log, you can view it on the management console as shown below:
<img src="https://user-images.githubusercontent.com/29391030/156343802-9d47fa98-dc70-4206-b07f-df439b291028.png" alt="engine-log"></li><li>Method 2: If it is not found in method 1, you can find the parameter <code>wds.linkis.engineconn.root.dir</code> configured in <code>conf/linkis-cg-engineconnmanager.properties</code>, which is the directory where the engine is started and deployed. Subdirectories are segregated by the user executing the engine</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># If you don&#x27;t know the taskid, you can select it after sorting by time ll -rt /appcom/tmp/${executed user}/${date}/${engine}/</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> /appcom/tmp/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${executed user}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${date}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${engine}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${taskId}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The directory is roughly as follows</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">conf -</span><span class="token operator">&gt;</span><span class="token plain"> /appcom/tmp/engineConnPublickDir/6a09d5fb-81dd-41af-a58b-9cb5d5d81b5a/v000002/conf </span><span class="token comment" style="color:rgb(98, 114, 164)">#engine configuration file</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">engineConnExec.sh </span><span class="token comment" style="color:rgb(98, 114, 164)">#Generated engine startup script</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lib -</span><span class="token operator">&gt;</span><span class="token plain"> /appcom/tmp/engineConnPublickDir/45bf0e6b-0fa5-47da-9532-c2a9f3ec764d/v000003/lib </span><span class="token comment" style="color:rgb(98, 114, 164)">#Engine dependent packages</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">logs </span><span class="token comment" style="color:rgb(98, 114, 164)">#Engine startup and execution related logs</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong> step2: View the log of the engine </strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">less</span><span class="token plain"> logs/stdout</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>step3: try to execute the script manually (if needed)</strong>
Debugging can be done by trying to execute the script manually</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh -x engineConnExec.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="87-how-to-modify-the-port-of-the-registry-eureka"></a>8.7 How to modify the port of the registry eureka<a class="hash-link" href="#87-how-to-modify-the-port-of-the-registry-eureka" title="Direct link to heading">#</a></h3><p>Sometimes when the eureka port is occupied by other services and the default eureka port cannot be used, the eureka port needs to be modified. Here, the modification of the eureka port is divided into two situations: before the installation is performed and after the installation is performed.</p><ol><li>Modify the eureka port of the registry before performing the installation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">1. Enter the decompression directory of apache-linkis-x.x.x-incubating-bin.tar.gz</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2. Execute vi deploy-config/linkis-env.sh</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3. Modify EUREKA_PORT=20303 to EUREKA_PORT=port number</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>Modify the eureka port of the registry after the installation is performed</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">1. Go to the ${LINKIS_HOME}/conf directory</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2. Execute grep -r 20303 ./* , the query result is as follows:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ./application-eureka.yml: port: 20303</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ./application-eureka.yml: defaultZone: http://ip:20303/eureka/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ./application-linkis.yml: defaultZone: http://ip:20303/eureka/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ./linkis-env.sh:EUREKA_PORT=20303</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ./linkis.properties:wds.linkis.eureka.defaultZone=http://ip:20303/eureka/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3. Change the port in the corresponding location to the new port, and restart all services sh restart sbin/linkis-start-all.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="88-notes-on-cdh-adaptation-version"></a>8.8 Notes on CDH adaptation version<a class="hash-link" href="#88-notes-on-cdh-adaptation-version" title="Direct link to heading">#</a></h3><p>CDH itself is not the official standard hive/spark package used. When adapting, it is best to modify the hive/spark version dependencies in the source code of linkis to recompile and deploy.
For details, please refer to the CDH adaptation blog post
<a href="https://mp.weixin.qq.com/s/__QxC1NoLQFwme1yljy-Nw" target="_blank" rel="noopener noreferrer">[Linkis1.0 - Installation and Stepping in the CDH5 Environment]</a>
<a href="https://mp.weixin.qq.com/s/9Pl9P0hizDWbbTBf1yzGJA" target="_blank" rel="noopener noreferrer">[DSS1.0.0+Linkis1.0.2——Trial record in CDH5 environment]</a>
<a href="https://mp.weixin.qq.com/s/vcFge4BNiEuW-7OC3P-yaw" target="_blank" rel="noopener noreferrer">[DSS1.0.0 and Linkis1.0.2——Summary of JDBC engine related issues]</a>
<a href="https://mp.weixin.qq.com/s/VxZ16IPMd1CvcrvHFuU4RQ" target="_blank" rel="noopener noreferrer">[DSS1.0.0 and Linkis1.0.2——Summary of Flink engine related issues]</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="89-debugging-of-http-interface"></a>8.9 Debugging of Http interface<a class="hash-link" href="#89-debugging-of-http-interface" title="Direct link to heading">#</a></h3><ul><li>Method 1 can enable [Login-Free Mode Guide] (/docs/latest/api/login-api/#2 Login-Free Configuration)</li><li>In method 2 postman, the request header brings the cookie value of the successful login
The cookie value can be obtained after successful login on the browser side
<img src="https://user-images.githubusercontent.com/7869972/157619718-3afb480f-6087-4d5c-9a77-5e75c8cb4a3c.png" alt="bml"></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Cookie: bdp-user-ticket-id</span><span class="token operator">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Method 3 Add a static Token to the http request header
Token is configured in conf/token.properties
Such as: TEST-AUTH=hadoop,root,user01</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Token-Code: TEST-AUTH</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Token-User:hadoop</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="810-troubleshooting-process-for-abnormal-problems"></a>8.10 Troubleshooting process for abnormal problems<a class="hash-link" href="#810-troubleshooting-process-for-abnormal-problems" title="Direct link to heading">#</a></h3><p>First, follow the above steps to check whether the service/environment, etc. are all started normally
Troubleshoot basic problems according to some of the scenarios listed above
<a href="https://docs.qq.com/doc/DSGZhdnpMV3lTUUxq" target="_blank" rel="noopener noreferrer">QA documentation</a> Find out if there is a solution, link: <a href="https://docs.qq.com/doc/DSGZhdnpMV3lTUUxq" target="_blank" rel="noopener noreferrer">https://docs.qq.com/doc/DSGZhdnpMV3lTUUxq</a>
See if you can find a solution by searching the content in the issue
<img src="https://user-images.githubusercontent.com/29391030/156343419-81cc25e0-aa94-4c06-871c-bb036eb6d4ff.png" alt="issues">
Through the official website document search, for some problems, you can search for keywords through the official website, such as searching for &quot;deployment&quot;. (If 404 appears, please refresh your browser)
<img src="https://user-images.githubusercontent.com/29391030/156343459-7911bd05-4d8d-4a7b-b9f8-35c152d52c41.png" alt="search"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="9-how-to-obtain-relevant-information"></a>9. How to obtain relevant information<a class="hash-link" href="#9-how-to-obtain-relevant-information" title="Direct link to heading">#</a></h2><p>Linkis official website documents are constantly improving, you can view/keyword search related documents on this official website.
Related blog post links</p><ul><li>Linkis technical blog collection <a href="https://github.com/apache/incubator-linkis/issues/1233" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-linkis/issues/1233</a></li><li>Technical blog post on the official account <a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzI4MDkxNzUxMg==&amp;hid=1&amp;sn=088cbf2bbed1c80d003c5865bc92ace8&amp;scene=18" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/mp/homepage?__biz=MzI4MDkxNzUxMg==&amp;hid=1&amp;sn=088cbf2bbed1c80d003c5865bc92ace8&amp;scene=18</a></li><li>Official website documentation <a href="https://linkis.apache.org/zh-CN/docs/latest/introduction" target="_blank" rel="noopener noreferrer">https://linkis.apache.org/zh-CN/docs/latest/introduction</a></li><li>bili technology sharing video <a href="https://space.bilibili.com/598542776?spm_id_from=333.788.b_765f7570696e666f.2" target="_blank" rel="noopener noreferrer">https://space.bilibili.com/598542776?spm_id_from=333.788.b_765f7570696e666f.2</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/incubator-linkis-website/edit/dev/versioned_docs/version-1.1.1/deployment/quick-deploy.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/1.1.1/release"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Version overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/1.1.1/deployment/cluster-deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cluster Deployment »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-preparing-for-the-first-installation" class="table-of-contents__link">1. Preparing for the first installation</a><ul><li><a href="#11-linux-server" class="table-of-contents__link">1.1 Linux Server</a></li><li><a href="#12-add-deployment-user" class="table-of-contents__link">1.2 Add deployment user</a></li></ul></li><li><a href="#2-configuration-modification" class="table-of-contents__link">2. Configuration modification</a><ul><li><a href="#21-installation-package-preparation" class="table-of-contents__link">2.1 Installation package preparation</a></li><li><a href="#22-configure-database-information" class="table-of-contents__link">2.2 Configure database information</a></li><li><a href="#23-configure-basic-variables" class="table-of-contents__link">2.3 Configure basic variables</a></li></ul></li><li><a href="#3-install-and-start" class="table-of-contents__link">3. Install and start</a><ul><li><a href="#31-execute-the-installation-script" class="table-of-contents__link">3.1 Execute the installation script:</a></li><li><a href="#32-add-mysql-driver-package" class="table-of-contents__link"><font color="red">3.2 Add mysql driver package</font></a></li><li><a href="#33-configuration-adjustment-optional" class="table-of-contents__link">3.3 Configuration Adjustment (Optional)</a></li><li><a href="#34-start-the-service" class="table-of-contents__link">3.4 Start the service</a></li><li><a href="#35-modification-of-post-installation-configuration" class="table-of-contents__link">3.5 Modification of post-installation configuration</a></li><li><a href="#36-check-whether-the-service-starts-normally" class="table-of-contents__link">3.6 Check whether the service starts normally</a></li></ul></li><li><a href="#4-install-the-web-frontend" class="table-of-contents__link">4. Install the web frontend</a><ul><li><a href="#41-download-the-front-end-installation-package-and-unzip-it" class="table-of-contents__link">4.1 Download the front-end installation package and unzip it</a></li><li><a href="#42-modify-the-configuration-configsh" class="table-of-contents__link">4.2 Modify the configuration config.sh</a></li><li><a href="#43-execute-the-deployment-script" class="table-of-contents__link">4.3 Execute the deployment script</a></li><li><a href="#44-login-to-the-console" class="table-of-contents__link">4.4 Login to the console</a></li></ul></li><li><a href="#5-verify-basic-functionality" class="table-of-contents__link">5. Verify basic functionality</a></li><li><a href="#6-installation-of-development-tool-ide-scriptis-optional" class="table-of-contents__link">6 Installation of development tool IDE (Scriptis) (optional)</a></li><li><a href="#7-supported-engines" class="table-of-contents__link">7. Supported Engines</a><ul><li><a href="#71-engine-adaptation-list" class="table-of-contents__link">7.1 Engine Adaptation List</a></li><li><a href="#72-view-the-deployed-engine" class="table-of-contents__link">7.2 View the deployed engine</a></li></ul></li><li><a href="#8-troubleshooting-guidelines-for-common-abnormal-problems" class="table-of-contents__link">8. Troubleshooting Guidelines for Common Abnormal Problems</a><ul><li><a href="#81-yarn-queue-check" class="table-of-contents__link">8.1. Yarn Queue Check</a></li><li><a href="#82-check-whether-the-engine-material-resource-is-uploaded-successfully" class="table-of-contents__link">8.2 Check whether the engine material resource is uploaded successfully</a></li><li><a href="#83-login-password-problem" class="table-of-contents__link">8.3 Login password problem</a></li><li><a href="#84-version-compatibility-issues" class="table-of-contents__link">8.4 version compatibility issues</a></li><li><a href="#85-how-to-locate-the-server-exception-log" class="table-of-contents__link">8.5 How to locate the server exception log</a></li><li><a href="#86-exception-troubleshooting-of-execution-engine-tasks" class="table-of-contents__link">8.6 Exception troubleshooting of execution engine tasks</a></li><li><a href="#87-how-to-modify-the-port-of-the-registry-eureka" class="table-of-contents__link">8.7 How to modify the port of the registry eureka</a></li><li><a href="#88-notes-on-cdh-adaptation-version" class="table-of-contents__link">8.8 Notes on CDH adaptation version</a></li><li><a href="#89-debugging-of-http-interface" class="table-of-contents__link">8.9 Debugging of Http interface</a></li><li><a href="#810-troubleshooting-process-for-abnormal-problems" class="table-of-contents__link">8.10 Troubleshooting process for abnormal problems</a></li></ul></li><li><a href="#9-how-to-obtain-relevant-information" class="table-of-contents__link">9. How to obtain relevant information</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Linkis</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/introduction">Document</a></li><li class="footer__item"><a class="footer__link-item" href="/faq/main">FAQ</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Subscribe Mailing List</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community/how-to-subscribe">How to Subscribe</a></li><li class="footer__item"><a href="mailto:dev-subscribe@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Subscribe Mail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Mail Archive<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><img style="height:50px" alt="Apache Software Foundation" src="/img/incubator-logo.svg"><p style="color: #999999;  padding: 0 20px 30px;font-weight:400;text-align:left">Apache Linkis is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p><p></p>
             <p style="padding: 0 20px 30px;color: #999999;font-weight: 400;"> Copyright © 2022 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache Linkis, Apache Incubator, Apache, the Apache feather logo, the Apache Linkis logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.</p>
             <div></div></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.8ce9165d.js"></script>
<script src="/assets/js/main.ffdafd4c.js"></script>
</body>
</html>