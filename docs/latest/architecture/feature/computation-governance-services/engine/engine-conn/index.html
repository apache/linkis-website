<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.3.1 plugin-docs plugin-id-default docs-doc-id-architecture/feature/computation-governance-services/engine/engine-conn">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">EngineConn Design | Apache Linkis</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://linkis.apache.org/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.3.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.3.1"><meta data-rh="true" name="docsearch:version" content="1.3.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.3.1"><meta data-rh="true" property="og:title" content="EngineConn Design | Apache Linkis"><meta data-rh="true" name="description" content="1. Overview"><meta data-rh="true" property="og:description" content="1. Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://linkis.apache.org/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn"><link data-rh="true" rel="alternate" href="https://linkis.apache.org/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn" hreflang="en"><link data-rh="true" rel="alternate" href="https://linkis.apache.org/zh-CN/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://linkis.apache.org/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AE29KQB3IA-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Linkis RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Linkis Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Linkis JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Apache Linkis" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.288a1432.css">
<link rel="preload" href="/assets/js/runtime~main.91c60835.js" as="script">
<link rel="preload" href="/assets/js/main.cad9a619.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apache Linkis</b></a><a class="navbar__item navbar__link" href="/download/main">Download</a><a class="navbar__item navbar__link" href="/community/how-to-subscribe">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/user">Users</a><a class="navbar__item navbar__link" href="/faq/main">FAQ</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Doc</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/latest/about/introduction">1.3.1</a></li><li><a class="dropdown__link" href="/docs/1.3.0/introduction">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/introduction">1.2.0</a></li><li><a class="dropdown__link" href="/docs/1.1.1/introduction">1.1.1</a></li><li><a class="dropdown__link" href="/docs/1.3.2/about/introduction">Next(1.3.2)</a></li><li><a class="dropdown__link" href="/versions">All Version</a></li></ul></div><a href="https://github.com/apache/linkis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-CN/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/about/introduction">About Linkis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/quick/live-demo">Quick Experience</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/deployment/deploy-quick">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/user-guide/how-to-use">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/engine-usage/overview">Engine Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/api/overview">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/latest/architecture/overview">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/task-flow">Task Flow Description</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/architecture/service-architecture/overview">Service Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/latest/architecture/feature/commons/variable">Feature</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/architecture/feature/commons/variable">Commons</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/overview">Computation Governance Services</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine-conn-manager">EngineConnManager Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/entrance">Entrance Architecture Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/linkis-cli">Linkis-Client Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/linkis-manager/overview">Linkis Manager</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn">EngineConn</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn">EngineConn Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn-plugin">EngineConnPlugin (ECP) Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine/add-an-engine-conn">EngineConn Startup Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn-metrics">EngineConn Metrics Reporting Feature</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/architecture/feature/public-enhancement-services/overview">Public Enhancement Services</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/development/directory-structure">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/tuning-and-troubleshooting/overview">Tuning And Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/upgrade/upgrade-from-0.X-to-1.0-guide">Upgrade Guide</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Feature</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Computation Governance Services</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">EngineConn</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EngineConn Design</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.3.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EngineConn Design</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview">1. Overview<a class="hash-link" href="#1-overview" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">EngineConn: engine connector, which is used to connect to the underlying computing and storage engine to complete task execution, task information push and result return, etc. It is the basis for Linkis to provide computing and storage capabilities.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-overall-design">2. Overall Design<a class="hash-link" href="#2-overall-design" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> The overall design idea of EngineConn is to complete the acquisition and storage of the session information of the underlying engine when starting, complete the connection between the EngineConn process and the underlying engine, and then complete the scheduling of tasks to the underlying engine Session stored in EngineConn through the Executor unit for execution. and get execution-related information.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-technical-architecture">2.1 Technical Architecture<a class="hash-link" href="#21-technical-architecture" title="Direct link to heading">​</a></h3><p><strong>Introduction to related terms:</strong></p><p><strong>EngineConn:</strong> Used to store the session information of the underlying engine. To complete the connection with the underlying engine, for example, the Spark engine stores the SparkSession.</p><p><strong>Executor:</strong> The scheduling executor used to accept the task passed by the caller (such as: Entrance), and finally submit the task to the underlying engine Session for execution. Different tasks implement different Executor classes. The most used is the interactive ComputationExecutor, which is used to accept tasks and push task information to the caller in real time. And the non-interactive ManageableOnceExecutor that accepts only one task is used to complete the submission and execution of the task started by EngineConn.</p><p><img loading="lazy" alt="arc" src="/assets/images/ec_arc_01-89727cc94c3f7a45f1e305375f26fa43.png" width="1493" height="1216" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-business-architecture">2.2 Business Architecture<a class="hash-link" href="#22-business-architecture" title="Direct link to heading">​</a></h3><table><thead><tr><th align="left">Component name</th><th align="left">First-level module</th><th align="left">Second-level module</th><th align="left">Function points</th></tr></thead><tbody><tr><td align="left">Linkis</td><td align="left">EngineConn</td><td align="left">linkis-engineconn-common</td><td align="left">The common module of engine conn, which defines the most basic entity classes and interfaces in engine conn.</td></tr><tr><td align="left">Linkis</td><td align="left">EngineConn</td><td align="left">linkis-engineconn-core</td><td align="left">The core module of the engine connector, which defines the interfaces involved in the core logic of EngineConn.</td></tr><tr><td align="left">Linkis</td><td align="left">EngineConn</td><td align="left">linkis-executor-core</td><td align="left">The core module of the executor, which defines the core classes related to the executor.</td></tr><tr><td align="left">Linkis</td><td align="left">EngineConn</td><td align="left">linkis-accessible-executor</td><td align="left">The underlying abstraction of the accessible Executor. You can interact with it through RPC requests to obtain its status, load, concurrency and other basic indicators Metrics data</td></tr><tr><td align="left">Linkis</td><td align="left">EngineConn</td><td align="left">linkis-computation-engineconn</td><td align="left">Related classes that provide capabilities for interactive computing tasks.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-module-design">3. Module design<a class="hash-link" href="#3-module-design" title="Direct link to heading">​</a></h2><p>Input: The caller executes the task</p><p>Output: return task information such as execution status, results, logs, etc.</p><p>Key logic: the timing diagram of the key logic of task execution</p><p><img loading="lazy" alt="time" src="/assets/images/ec_arc_02-92cd8e8370b5780197b17f08ecf52492.png" width="669" height="691" class="img_ev3q"></p><p>Key Notes:</p><ol><li>If it is a serial Executor, after EngineConn receives a task, it will mark EngineConn as Busy and cannot accept other tasks, and will judge whether the lock of the task is consistent to prevent EngineConn from being submitted by multiple callers at the same time. After the task is executed, it becomes the Unlock state</li><li>If it is a parallel Executor, after EngineConn receives the task, the state is still in the Unlock state, and it can continue to accept the task. Only when the number of concurrent tasks is reached or the machine index is abnormal will it be marked as Busy state</li><li>If it is an Once type task, EngineConn will automatically execute the task after it is started, and the EngineConn process will exit after the task is executed.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-data-structurestorage-design">4. Data structure/storage design<a class="hash-link" href="#4-data-structurestorage-design" title="Direct link to heading">​</a></h2><p>not involving</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-interface-design">5. Interface design<a class="hash-link" href="#5-interface-design" title="Direct link to heading">​</a></h2><p><strong>Brief introduction of other classes:</strong></p><p>The common module of linkis-engineconn-common engine connector defines the most basic entity classes and interfaces in the engine connector.</p><table><thead><tr><th align="left">Core Service</th><th align="left">Core Function</th></tr></thead><tbody><tr><td align="left">EngineCreationContext</td><td align="left">contains the context information of EngineConn during startup</td></tr><tr><td align="left">EngineConn</td><td align="left">contains the specific information of EngineConn, such as type, specific connection information with layer computing storage engine, etc.</td></tr><tr><td align="left">EngineExecution</td><td align="left">Provides the creation logic of Executor</td></tr><tr><td align="left">EngineConnHook</td><td align="left">Defines the operations before and after each stage of engine startup</td></tr></tbody></table><p>The core module of linkis-engineconn-core engine connector defines the interfaces involved in the core logic of EngineConn.</p><table><thead><tr><th align="left">Core Classes</th><th align="left">Core Functions</th></tr></thead><tbody><tr><td align="left">EngineConnManager</td><td align="left">Provides related interfaces for creating and obtaining EngineConn</td></tr><tr><td align="left">ExecutorManager</td><td align="left">Provides related interfaces for creating and obtaining Executor</td></tr><tr><td align="left">ShutdownHook</td><td align="left">Defines actions during engine shutdown</td></tr><tr><td align="left">EngineConnServer</td><td align="left">Startup class of EngineConn microservice</td></tr></tbody></table><p>linkis-executor-core is the core module of the executor, which defines the core classes related to the executor. The executor is the real computing execution unit, which is responsible for submitting user code to EngineConn for execution.</p><table><thead><tr><th align="left">Core Classes</th><th align="left">Core Functions</th></tr></thead><tbody><tr><td align="left">Executor</td><td align="left">is the actual computing logic execution unit, and provides top-level abstraction of various capabilities of the engine.</td></tr><tr><td align="left">EngineConnAsyncEvent</td><td align="left">defines EngineConn related asynchronous events</td></tr><tr><td align="left">EngineConnSyncEvent</td><td align="left">defines the synchronization event related to EngineConn</td></tr><tr><td align="left">EngineConnAsyncListener</td><td align="left">defines EngineConn-related asynchronous event listeners</td></tr><tr><td align="left">EngineConnSyncListener</td><td align="left">defines EngineConn-related synchronization event listeners</td></tr><tr><td align="left">EngineConnAsyncListenerBus</td><td align="left">Defines the listener bus for EngineConn asynchronous events</td></tr><tr><td align="left">EngineConnSyncListenerBus</td><td align="left">Defines the listener bus for EngineConn sync events</td></tr><tr><td align="left">ExecutorListenerBusContext</td><td align="left">defines the context of the EngineConn event listener</td></tr><tr><td align="left">LabelService</td><td align="left">Provide label reporting function</td></tr><tr><td align="left">ManagerService</td><td align="left">Provides the function of information transfer with LinkisManager</td></tr></tbody></table><p>linkis-accessible-executor: The underlying abstraction of the Executor that can be accessed. You can interact with it through RPC requests to obtain basic metrics such as its status, load, and concurrency.</p><table><thead><tr><th align="left">Core Classes</th><th align="left">Core Functions</th></tr></thead><tbody><tr><td align="left">LogCache</td><td align="left">Provides the function of log caching</td></tr><tr><td align="left">AccessibleExecutor</td><td align="left">An Executor that can be accessed and interacted with via RPC requests.</td></tr><tr><td align="left">NodeHealthyInfoManager</td><td align="left">Manage Executor&#x27;s health information</td></tr><tr><td align="left">NodeHeartbeatMsgManager</td><td align="left">Manage Executor&#x27;s heartbeat information</td></tr><tr><td align="left">NodeOverLoadInfoManager</td><td align="left">Manage Executor load information</td></tr><tr><td align="left">Listener-related</td><td align="left">Provides events related to Executor and corresponding listener definitions</td></tr><tr><td align="left">EngineConnTimedLock</td><td align="left">Define Executor level lock</td></tr><tr><td align="left">AccessibleService</td><td align="left">Provide the start-stop and status acquisition functions of Executor</td></tr><tr><td align="left">ExecutorHeartbeatService</td><td align="left">Provides Executor&#x27;s heartbeat-related functions</td></tr><tr><td align="left">LockService</td><td align="left">Provides lock management functions</td></tr><tr><td align="left">LogService</td><td align="left">Provides log management functions</td></tr><tr><td align="left">EngineConnCallback</td><td align="left">Define the callback logic of EngineConn</td></tr></tbody></table><p>Related classes that provide capabilities for interactive computing tasks.</p><table><thead><tr><th align="left">Core Classes</th><th align="left">Core Functions</th></tr></thead><tbody><tr><td align="left">EngineConnTask</td><td align="left">defines interactive computing tasks submitted to EngineConn</td></tr><tr><td align="left">ComputationExecutor</td><td align="left">defines an interactive Executor, which has interactive capabilities such as status query and task kill, and can only execute tasks once by default.</td></tr><tr><td align="left">ConcurrentComputationExecutor</td><td align="left">Interactive synchronous concurrent Executor, inherited from ComputationExecutor, but supports executing multiple tasks at the same time</td></tr><tr><td align="left">AsyncConcurrentComputationExecutor</td><td align="left">Interactive asynchronous concurrent Executor, inherited from ComputationExecutor, supports multiple tasks to be executed at the same time, and the task does not occupy the execution thread and adopts the form of asynchronous notification</td></tr><tr><td align="left">TaskExecutionService</td><td align="left">Provides management functions for interactive computing tasks</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-non-functional-design">6. Non-functional design<a class="hash-link" href="#6-non-functional-design" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-security">6.1 Security<a class="hash-link" href="#61-security" title="Direct link to heading">​</a></h3><ol><li>All the relevant information of the task can only be queried by submitting the user</li><li>The default startup user of the EngineConn process is the submission user</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-performance">6.2 Performance<a class="hash-link" href="#62-performance" title="Direct link to heading">​</a></h3><p>EngineConn that supports concurrency supports colleagues to run a large number of tasks concurrently. For example, a single Trino EngineConn can run more than 300 trino tasks at the same time</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-capacity">6.3 Capacity<a class="hash-link" href="#63-capacity" title="Direct link to heading">​</a></h3><p>not involving</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="64-high-availability">6.4 High Availability<a class="hash-link" href="#64-high-availability" title="Direct link to heading">​</a></h3><p>EngineConn is a process started on demand and task. Support high availability</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="65-data-quality">6.5 Data Quality<a class="hash-link" href="#65-data-quality" title="Direct link to heading">​</a></h3><p>not involving</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/linkis-website/edit/dev/versioned_docs/version-1.3.1/architecture/feature/computation-governance-services/engine/engine-conn.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/latest/architecture/feature/computation-governance-services/linkis-manager/engine-conn-history"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">EngineConn History Features</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/latest/architecture/feature/computation-governance-services/engine/engine-conn-plugin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EngineConnPlugin (ECP) Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-overview" class="table-of-contents__link toc-highlight">1. Overview</a></li><li><a href="#2-overall-design" class="table-of-contents__link toc-highlight">2. Overall Design</a><ul><li><a href="#21-technical-architecture" class="table-of-contents__link toc-highlight">2.1 Technical Architecture</a></li><li><a href="#22-business-architecture" class="table-of-contents__link toc-highlight">2.2 Business Architecture</a></li></ul></li><li><a href="#3-module-design" class="table-of-contents__link toc-highlight">3. Module design</a></li><li><a href="#4-data-structurestorage-design" class="table-of-contents__link toc-highlight">4. Data structure/storage design</a></li><li><a href="#5-interface-design" class="table-of-contents__link toc-highlight">5. Interface design</a></li><li><a href="#6-non-functional-design" class="table-of-contents__link toc-highlight">6. Non-functional design</a><ul><li><a href="#61-security" class="table-of-contents__link toc-highlight">6.1 Security</a></li><li><a href="#62-performance" class="table-of-contents__link toc-highlight">6.2 Performance</a></li><li><a href="#63-capacity" class="table-of-contents__link toc-highlight">6.3 Capacity</a></li><li><a href="#64-high-availability" class="table-of-contents__link toc-highlight">6.4 High Availability</a></li><li><a href="#65-data-quality" class="table-of-contents__link toc-highlight">6.5 Data Quality</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Linkis</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/about/introduction">Document</a></li><li class="footer__item"><a class="footer__link-item" href="/faq/main">FAQ</a></li><li class="footer__item"><a href="https://github.com/apache/linkis/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/linkis" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/linkis/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/linkis/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Subscribe Mailing List</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/how-to-subscribe">How to Subscribe</a></li><li class="footer__item"><a href="mailto:dev-subscribe@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe Mail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mail Archive<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><img style="height:50px" alt="Apache Software Foundation" src="/img/incubator-logo.svg"><p style="color: #999999;  padding: 0 20px 30px;font-weight:400;text-align:left">Apache Linkis is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p><p></p>
             <p style="padding: 0 20px 30px;color: #999999;font-weight: 400;"> Copyright © 2023 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache Linkis, Apache Incubator, Apache, the Apache feather logo, the Apache Linkis logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.</p>
             <div></div></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.91c60835.js"></script>
<script src="/assets/js/main.cad9a619.js"></script>
</body>
</html>